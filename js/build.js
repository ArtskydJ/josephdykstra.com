(function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u=typeof require=="function"&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}var o=typeof require=="function"&&require;for(var s=0;s<r.length;s++)i(r[s]);return i})({1:[function(e,t,n){var r=e("levelup");var i=e("localstorage-down");var o=function s(e){return new i(e)};t.exports={clearCache:function a(){var e=r("noddity-content",{db:o});e.createKeyStream().on("data",function(t){e.del(t)})}}},{levelup:14,"localstorage-down":38}],2:[function(e,t,n){var r=e("noddity-butler");var i=e("levelup");var o=e("noddity-linkifier");var s=e("localstorage-down");var a=e("./routing");var u=e("./mainViewModel");var f=e("level-sublevel");var l=noddityConfig;var c=function w(e){return new s(e)};var h=f(i("noddity-content",{db:c}));var p=l.title.replace(/[^\w]+/g,"");var d=l.debug?{refreshEvery:30*1e3}:undefined;var v=new r(l.noddityRoot,h.sublevel(p),d);var g=new o(l.pathPrefix+l.pagePathPrefix);var m=new u(v,g);var y=a();y.on("current",m.setCurrent);if(l.debug){window.debug=e("./debug")}},{"./debug":1,"./mainViewModel":3,"./routing":4,"level-sublevel":10,levelup:14,"localstorage-down":38,"noddity-butler":49,"noddity-linkifier":61}],3:[function(e,t,n){var r=e("ractive");var i=noddityConfig;var o=e("noddity-renderer");function s(){}t.exports=function a(e,t){var n=new o(e,t.linkify);var a=null;var u=new r({el:"title",template:"{{title}}{{#page}} | {{page}}{{/page}}",data:{title:i.title}});var f=new r({el:"main",template:"#template-main",data:Object.create(i)});var l=i.sidebar?"{{{html}}}":"#template-menu";var c=new r({el:"sidebar",template:l,data:Object.create(i)});if(i.sidebar){e.getPost(i.sidebar,function(e,t){if(e){c.set("html",e.message)}else{n.populateRootRactive(t,c)}})}function h(e){console.log(e)}function p(){e.getPosts(function(e,t){if(!e){c.set("postList",t.reverse().filter(function(e){return typeof e.metadata.title==="string"}).map(function(e){return{title:e.metadata.title,filename:e.filename}}))}else{h(e)}})}function d(t){e.getPost(t,function(e,r){if(e){f.set("html",e.message);u.set("page",null);if(t!==i.errorPage){window.location=window.location.origin+window.location.pathname+i.pathPrefix+i.pagePathPrefix+i.errorPage}}else{u.set("page",r.metadata.title);if(a){a(r)}else{a=n.populateRootRactive(r,f)}if(!c.get("postList")){p()}}})}t.on("link",function(t){e.getPost(t,s)});function v(e,t,n){function r(n){return n.filename===e&&n.title!==t.metadata.title}var i=c.get("postList");if(i&&i.some(r)){p()}}e.on("post changed",v);e.on("index changed",p);return{setCurrent:d}}},{"noddity-renderer":62,ractive:72}],4:[function(e,t,n){var r=noddityConfig;var i=e("events").EventEmitter;t.exports=function(){var e=new i;var t=Satnav({}).navigate({path:"!/",directions:function(t){e.emit("current","index.md")}}).navigate({path:"!/"+r.pagePathPrefix+"{name}",directions:function(t){e.emit("current",t.name)}}).navigate({path:"",directions:function(e){document.location=document.location+"#!/"}}).change(function(e,t){window.scrollTo(0,0)}).otherwise("!/"+r.pagePathPrefix+"404.md");setTimeout(t.go.bind(t),0);return e}},{events:80}],5:[function(e,t,n){var r=e("clone");t.exports=function i(e){e=r(e);var t=e.reverse;var n=e.max||e.end;var i=e.min||e.start;var o=[i,n];if(i!=null&&n!=null)o.sort();if(t)o=o.reverse();e.start=o[0];e.end=o[1];delete e.min;delete e.max;return e}},{clone:6}],6:[function(e,t,n){(function(e){"use strict";function n(e){return Object.prototype.toString.call(e)}var r={isArray:function(e){return Array.isArray(e)||typeof e==="object"&&n(e)==="[object Array]"},isDate:function(e){return typeof e==="object"&&n(e)==="[object Date]"},isRegExp:function(e){return typeof e==="object"&&n(e)==="[object RegExp]"},getRegExpFlags:function(e){var t="";e.global&&(t+="g");e.ignoreCase&&(t+="i");e.multiline&&(t+="m");return t}};if(typeof t==="object")t.exports=i;function i(t,n,i,o){var s=[];var a=[];var u=typeof e!="undefined";if(typeof n=="undefined")n=true;if(typeof i=="undefined")i=Infinity;function f(t,i){if(t===null)return null;if(i==0)return t;var l;if(typeof t!="object"){return t}if(r.isArray(t)){l=[]}else if(r.isRegExp(t)){l=new RegExp(t.source,r.getRegExpFlags(t));if(t.lastIndex)l.lastIndex=t.lastIndex}else if(r.isDate(t)){l=new Date(t.getTime())}else if(u&&e.isBuffer(t)){l=new e(t.length);t.copy(l);return l}else{if(typeof o=="undefined")l=Object.create(Object.getPrototypeOf(t));else l=Object.create(o)}if(n){var c=s.indexOf(t);if(c!=-1){return a[c]}s.push(t);a.push(l)}for(var h in t){l[h]=f(t[h],i-1)}return l}return f(t,i)}i.clonePrototype=function(e){if(e===null)return null;var t=function(){};t.prototype=e;return new t}}).call(this,e("buffer").Buffer)},{buffer:76}],7:[function(e,t,n){var r=e("string-range");t.exports=function(e){if(e.hooks){return}var t=[];var n=[];function i(e){return e&&("string"===typeof e?e:"string"===typeof e.prefix?e.prefix:"function"===typeof e.prefix?e.prefix():"")}function o(e){if(e&&e._getKeyEncoding)return e._getKeyEncoding(e)}function s(e){if(e&&e._getValueEncoding)return e._getValueEncoding(e)}function a(e,t){return function(){var n=e.indexOf(t);if(!~n)return false;e.splice(n,1);return true}}e.hooks={post:function(e,n){if(!n)n=e,e="";var i={test:r.checker(e),hook:n};t.push(i);return a(t,i)},pre:function(e,t){if(!t)t=e,e="";var i={test:r.checker(e),hook:t,safe:false!==e.safe};n.push(i);return a(n,i)},posthooks:t,prehooks:n};function u(e){if(e&&e.type){t.forEach(function(t){if(t.test(e.key))t.hook(e)})}}e.on("put",function(e,t){u({type:"put",key:e,value:t})});e.on("del",function(e,t){u({type:"del",key:e,value:t})});e.on("batch",function p(e){e.forEach(u)});var f=e.put;var l=e.del;var c=e.batch;function h(t,r,a,u){try{r.forEach(function d(e,t){n.forEach(function(n){if(n.test(String(e.key))){var a={add:function(e,a){if(typeof e==="undefined"){return this}if(e===false)return delete r[t];var u=i(e.prefix)||i(a)||n.prefix||"";if(u)e.prefix=u;e.key=u+e.key;if(n.safe&&n.test(String(e.key))){throw new Error("prehook cannot insert into own range")}var f=e.keyEncoding||o(e.prefix);var l=e.valueEncoding||s(e.prefix);if(f)e.keyEncoding=f;if(l)e.valueEncoding=l;r.push(e);d(e,r.length-1);return this},put:function(e,t){if("object"===typeof e)e.type="put";return this.add(e,t)},del:function(e,t){if("object"===typeof e)e.type="del";return this.add(e,t)},veto:function(){return this.add(false)}};n.hook.call(a,e,a.add,r)}})})}catch(h){return(u||a)(h)}r=r.filter(function(e){return e&&e.type});if(r.length==1&&!t){var p=r[0];return p.type=="put"?f.call(e,p.key,p.value,a,u):l.call(e,p.key,a,u)}return c.call(e,r,a,u)}e.put=function(e,t,n,r){var i=[{key:e,value:t,type:"put"}];return h(false,i,n,r)};e.del=function(e,t,n){var r=[{key:e,type:"del"}];return h(false,r,t,n)};e.batch=function(e,t,n){return h(true,e,t,n)}}},{"string-range":8}],8:[function(e,t,n){var r=n.range=function(e){return null==e?{}:"string"===typeof r?{min:r,max:r+"每"}:e};var i=n.prefix=function(e,t,r){e=n.range(e);var i={};r=r||"每";if(e instanceof RegExp||"function"==typeof e){i.min=t;i.max=t+r,i.inner=function(n){var r=n.substring(t.length);if(e.test)return e.test(r);return e(r)}}else if("object"===typeof e){i.min=t+(e.min||e.start||"");i.max=t+(e.max||e.end||(r||"~"));i.reverse=!!e.reverse}return i};var o=n.checker=function(e){if(!e)e={};if("string"===typeof e)return function(t){return t.indexOf(e)==0};else if(e instanceof RegExp)return function(t){return e.test(t)};else if("object"===typeof e)return function(t){var n=e.min||e.start;var r=e.max||e.end;t=String(t);return(!n||t>=n)&&(!r||t<=r)&&(!e.inner||(e.inner.test?e.inner.test(t):e.inner(t)))};else if("function"===typeof e)return e};var s=n.satisfies=function(e,t){return o(t)(e)}},{}],9:[function(e,t,n){function r(e,t,n,r){var i={type:e,key:t,value:n,options:r};if(r&&r.prefix){i.prefix=r.prefix;delete r.prefix}this._operations.push(i);return this}function i(e){this._operations=[];this._sdb=e;this.put=r.bind(this,"put");this.del=r.bind(this,"del")}var o=i.prototype;o.clear=function(){this._operations=[]};o.write=function(e){this._sdb.batch(this._operations,e)};t.exports=i},{}],10:[function(e,t,n){(function(n){var r=e("events").EventEmitter;var i=n.nextTick;var o=e("./sub");var s=e("./batch");var a=e("level-fix-range");var u=e("level-hooks");t.exports=function(e,t){function n(){}n.prototype=e;var r=new n;if(r.sublevel)return r;t=t||{};var i=t.sep=t.sep||"每";r._options=t;u(r);r.sublevels={};r.sublevel=function(e,t){if(r.sublevels[e])return r.sublevels[e];return new o(r,e,t||this._options)};r.methods={};r.prefix=function(e){return""+(e||"")};r.pre=function(e,t){if(!t)t=e,e={max:i};return r.hooks.pre(e,t)};r.post=function(e,t){if(!t)t=e,e={max:i};return r.hooks.post(e,t)};function f(e){return function(t){t=t||{};t=a(t);if(t.reverse)t.start=t.start||i;else t.end=t.end||i;return e.call(r,t)}}r.readStream=r.createReadStream=f(r.createReadStream);r.keyStream=r.createKeyStream=f(r.createKeyStream);r.valuesStream=r.createValueStream=f(r.createValueStream);var l=r.batch;r.batch=function(e,t,n){if(!Array.isArray(e))return new s(r);e.forEach(function(e){if(e.prefix){if("function"===typeof e.prefix.prefix)e.key=e.prefix.prefix(e.key);else if("string"===typeof e.prefix)e.key=e.prefix+e.key}});l.call(r,e,t,n)};return r}}).call(this,e("_process"))},{"./batch":9,"./sub":11,_process:87,events:80,"level-fix-range":5,"level-hooks":7}],11:[function(e,t,n){var r=e("events").EventEmitter;var i=e("util").inherits;var o=e("string-range");var s=e("level-fix-range");var a=e("xtend");var u=e("./batch");i(f,r);function f(e,t,n){if("string"===typeof n){console.error("db.sublevel(name, seperator<string>) is depreciated");console.error("use db.sublevel(name, {sep: separator})) if you must");n={sep:n}}if(!(this instanceof f))return new f(e,t,n);if(!e)throw new Error("must provide db");if(!t)throw new Error("must provide prefix");n=n||{};n.sep=n.sep||"每";this._parent=e;this._options=n;this.options=n;this._prefix=t;this._root=h(this);e.sublevels[t]=this;this.sublevels={};this.methods={};var r=this;this.hooks={pre:function(){return r.pre.apply(r,arguments)},post:function(){return r.post.apply(r,arguments)}}}var l=f.prototype;l._key=function(e){var t=this._options.sep;return t+this._prefix+t+e};l._getOptsAndCb=function(e,t){if(typeof e=="function"){t=e;e={}}return{opts:a(e,this._options),cb:t}};l.sublevel=function(e,t){if(this.sublevels[e])return this.sublevels[e];return new f(this,e,t||this._options)};l.put=function(e,t,n,r){var i=this._getOptsAndCb(n,r);this._root.put(this.prefix(e),t,i.opts,i.cb)};l.get=function(e,t,n){var r=this._getOptsAndCb(t,n);this._root.get(this.prefix(e),r.opts,r.cb)};l.del=function(e,t,n){var r=this._getOptsAndCb(t,n);this._root.del(this.prefix(e),r.opts,r.cb)};l.batch=function(e,t,n){if(!Array.isArray(e))return new u(this);var r=this,i=this._getOptsAndCb(t,n);e.forEach(function(e){if("string"===typeof e.prefix)e.key=e.prefix+e.key;else e.key=(e.prefix||r).prefix(e.key);if(e.prefix)e.prefix=null});this._root.batch(e,i.opts,i.cb)};l._getKeyEncoding=function(){if(this.options.keyEncoding)return this.options.keyEncoding;if(this._parent&&this._parent._getKeyEncoding)return this._parent._getKeyEncoding()};l._getValueEncoding=function(){if(this.options.valueEncoding)return this.options.valueEncoding;if(this._parent&&this._parent._getValueEncoding)return this._parent._getValueEncoding()};l.prefix=function(e){var t=this._options.sep;return this._parent.prefix()+t+this._prefix+t+(e||"")};l.keyStream=l.createKeyStream=function(e){e=e||{};e.keys=true;e.values=false;return this.createReadStream(e)};l.valueStream=l.createValueStream=function(e){e=e||{};e.keys=false;e.values=true;e.keys=false;return this.createReadStream(e)};function c(e,t){["valueEncoding","encoding","keyEncoding","reverse","values","keys","limit","fillCache"].forEach(function(n){if(t.hasOwnProperty(n))e[n]=t[n]})}l.readStream=l.createReadStream=function(e){e=e||{};var t=h(this);var n=this.prefix();var r=o.prefix(e,n);c(r,a(e,this._options));var i=t.createReadStream(r);if(r.values===false){var s=i.read;if(s){i.read=function(e){var t=s.call(this,e);if(t)t=t.substring(n.length);return t}}else{var u=i.emit;i.emit=function(e,t){if(e==="data"){u.call(this,"data",t.substring(n.length))}else u.call(this,e,t)}}return i}else if(r.keys===false)return i;else{var s=i.read;if(s){i.read=function(e){var t=s.call(this,e);if(t)t.key=t.key.substring(n.length);return t}}else{i.on("data",function(e){e.key=e.key.substring(n.length)})}return i}};l.writeStream=l.createWriteStream=function(){var e=h(this);var t=this.prefix();var n=e.createWriteStream.apply(e,arguments);var r=n.write;var i=this._options.encoding;var o=this._options.valueEncoding;var s=this._options.keyEncoding;var a=!i&&!o&&!s;n.write=a?function(e){e.key=t+e.key;return r.call(n,e)}:function(e){e.key=t+e.key;if(i&&typeof e.encoding==="undefined")e.encoding=i;if(o&&typeof e.valueEncoding==="undefined")e.valueEncoding=o;if(s&&typeof e.keyEncoding==="undefined")e.keyEncoding=s;return r.call(n,e)};return n};l.approximateSize=function(){var e=h(db);return e.approximateSize.apply(e,arguments)};function h(e){if(!e._parent)return e;return h(e._parent)}l.pre=function(e,t){if(!t)t=e,e=null;e=o.prefix(e,this.prefix(),this._options.sep);var n=h(this._parent);var r=this.prefix();return n.hooks.pre(s(e),function(e,n,i){t({key:e.key.substring(r.length),value:e.value,type:e.type},function(e,t){n(e,e.prefix?t:t||r)},i)})};l.post=function(e,t){if(!t)t=e,e=null;var n=h(this._parent);var r=this.prefix();e=o.prefix(e,r,this._options.sep);return n.hooks.post(s(e),function(e){t({key:e.key.substring(r.length),value:e.value,type:e.type})})};var n=t.exports=f},{"./batch":9,events:80,"level-fix-range":5,"string-range":73,util:107,xtend:74}],12:[function(e,t,n){var r=e("./util"),i=e("./errors").WriteError,o=r.getOptions,s=r.dispatchError;function a(e){this._levelup=e;this.batch=e.db.batch();this.ops=[]}a.prototype.put=function(e,t,n){n=o(this._levelup,n);var s=r.encodeKey(e,n),a=r.encodeValue(t,n);try{this.batch.put(s,a)}catch(u){throw new i(u)}this.ops.push({type:"put",key:s,value:a});return this};a.prototype.del=function(e,t){t=o(this._levelup,t);var n=r.encodeKey(e,t);try{this.batch.del(n)}catch(s){throw new i(s)}this.ops.push({type:"del",key:n});return this};a.prototype.clear=function(){try{this.batch.clear()}catch(e){throw new i(e)}this.ops=[];return this};a.prototype.write=function(e){var t=this._levelup,n=this.ops;try{this.batch.write(function(r){if(r)return s(t,new i(r),e);t.emit("batch",n);if(e)e()})}catch(r){throw new i(r)}};t.exports=a},{"./errors":13,"./util":16}],13:[function(e,t,n){var r=e("errno").create,i=r("LevelUPError"),o=r("NotFoundError",i);o.prototype.notFound=true;o.prototype.status=404;t.exports={LevelUPError:i,InitializationError:r("InitializationError",i),OpenError:r("OpenError",i),ReadError:r("ReadError",i),WriteError:r("WriteError",i),NotFoundError:o,EncodingError:r("EncodingError",i)}},{errno:24}],14:[function(e,t,n){(function(n){var r=e("events").EventEmitter,i=e("util").inherits,o=e("xtend"),s=e("prr"),a=e("deferred-leveldown"),u=e("./errors").WriteError,f=e("./errors").ReadError,l=e("./errors").NotFoundError,c=e("./errors").OpenError,h=e("./errors").EncodingError,p=e("./errors").InitializationError,d=e("./read-stream"),v=e("./write-stream"),g=e("./util"),m=e("./batch"),y=g.getOptions,w=g.defaultOptions,b=g.getLevelDOWN,E=g.dispatchError;function _(e,t){return typeof e=="function"?e:t}function x(e,t,i){if(!(this instanceof x))return new x(e,t,i);var a;r.call(this);this.setMaxListeners(Infinity);if(typeof e=="function"){t=typeof t=="object"?t:{};t.db=e;e=null}else if(typeof e=="object"&&typeof e.db=="function"){t=e;e=null}if(typeof t=="function"){i=t;t={}}if((!t||typeof t.db!="function")&&typeof e!="string"){a=new p("Must provide a location for the database");if(i){return n.nextTick(function(){i(a)})}throw a}t=y(this,t);this.options=o(w,t);this._status="new";s(this,"location",e,"e");this.open(i)}i(x,r);x.prototype.open=function(e){var t=this,r,i;if(this.isOpen()){if(e)n.nextTick(function(){e(null,t)});return this}if(this._isOpening()){return e&&this.once("open",function(){e(null,t)})}this.emit("opening");this._status="opening";this.db=new a(this.location);r=this.options.db||b();i=r(this.location);i.open(this.options,function(n){if(n){return E(t,new c(n),e)}else{t.db.setDb(i);t.db=i;t._status="open";if(e)e(null,t);t.emit("open");t.emit("ready")}})};x.prototype.close=function(e){var t=this;if(this.isOpen()){this._status="closing";this.db.close(function(){t._status="closed";t.emit("closed");if(e)e.apply(null,arguments)});this.emit("closing");this.db=null}else if(this._status=="closed"&&e){return n.nextTick(e)}else if(this._status=="closing"&&e){this.once("closed",e)}else if(this._isOpening()){this.once("open",function(){t.close(e)})}};x.prototype.isOpen=function(){return this._status=="open"};x.prototype._isOpening=function(){return this._status=="opening"};x.prototype.isClosed=function(){return/^clos/.test(this._status)};x.prototype.get=function(e,t,n){var r=this,i;n=_(t,n);if(typeof n!="function"){return E(this,new f("get() requires key and callback arguments"))}if(!this._isOpening()&&!this.isOpen()){return E(this,new f("Database is not open"),n)}t=g.getOptions(this,t);i=g.encodeKey(e,t);t.asBuffer=g.isValueAsBuffer(t);this.db.get(i,t,function(i,o){if(i){if(/notfound/i.test(i)){i=new l("Key not found in database ["+e+"]",i)}else{i=new f(i)}return E(r,i,n)}if(n){try{o=g.decodeValue(o,t)}catch(s){return n(new h(s))}n(null,o)}})};x.prototype.put=function(e,t,n,r){var i=this,o,s;r=_(n,r);if(e===null||e===undefined||t===null||t===undefined){return E(this,new u("put() requires key and value arguments"),r)}if(!this._isOpening()&&!this.isOpen()){return E(this,new u("Database is not open"),r)}n=y(this,n);o=g.encodeKey(e,n);s=g.encodeValue(t,n);this.db.put(o,s,n,function(n){if(n){return E(i,new u(n),r)}else{i.emit("put",e,t);if(r)r()}})};x.prototype.del=function(e,t,n){var r=this,i;n=_(t,n);if(e===null||e===undefined){return E(this,new u("del() requires a key argument"),n)}if(!this._isOpening()&&!this.isOpen()){return E(this,new u("Database is not open"),n)}t=y(this,t);i=g.encodeKey(e,t);this.db.del(i,t,function(t){if(t){return E(r,new u(t),n)}else{r.emit("del",e);if(n)n()}})};x.prototype.batch=function(e,t,n){var r=this,i,o,s;if(!arguments.length)return new m(this);n=_(t,n);if(!Array.isArray(e)){return E(this,new u("batch() requires an array argument"),n)}if(!this._isOpening()&&!this.isOpen()){return E(this,new u("Database is not open"),n)}t=y(this,t);i=t.keyEncoding;o=t.valueEncoding;s=e.map(function(e){if(e.type===undefined||e.key===undefined)return{};var n=e.keyEncoding||i,r=e.valueEncoding||e.encoding||o,s;if(n!="utf8"&&n!="binary"||r!="utf8"&&r!="binary"){s={type:e.type,key:g.encodeKey(e.key,t,e)};if(e.value!==undefined)s.value=g.encodeValue(e.value,t,e);return s}else{return e}});this.db.batch(s,t,function(t){if(t){return E(r,new u(t),n)}else{r.emit("batch",e);if(n)n()}})};x.prototype.approximateSize=function(e,t,n){var r=this,i,o;if(e===null||e===undefined||t===null||t===undefined||typeof n!="function"){return E(this,new f("approximateSize() requires start, end and callback arguments"),n)}i=g.encodeKey(e,this.options);o=g.encodeKey(t,this.options);if(!this._isOpening()&&!this.isOpen()){return E(this,new u("Database is not open"),n)}this.db.approximateSize(i,o,function(e,t){if(e){return E(r,new c(e),n)}else if(n){n(null,t)}})};x.prototype.readStream=x.prototype.createReadStream=function(e){var t=this;e=o(this.options,e);return new d(e,this,function(e){return t.db.iterator(e)})};x.prototype.keyStream=x.prototype.createKeyStream=function(e){return this.createReadStream(o(e,{keys:true,values:false}))};x.prototype.valueStream=x.prototype.createValueStream=function(e){return this.createReadStream(o(e,{keys:false,values:true}))};x.prototype.writeStream=x.prototype.createWriteStream=function(e){return new v(o(e),this)};x.prototype.toString=function(){return"LevelUP"};function k(e){return function(t,n){b()[e](t,n||function(){})}}t.exports=x;t.exports.copy=g.copy;t.exports.destroy=k("destroy");t.exports.repair=k("repair")}).call(this,e("_process"))},{"./batch":12,"./errors":13,"./read-stream":15,"./util":16,"./write-stream":17,_process:87,"deferred-leveldown":19,events:80,prr:25,util:107,xtend:36}],15:[function(e,t,n){var r=e("readable-stream").Readable,i=e("util").inherits,o=e("xtend"),s=e("./errors").EncodingError,a=e("./util"),u={keys:true,values:true},f=function(e,t){return{key:a.decodeKey(e,this._options),value:a.decodeValue(t,this._options)}},l=function(e){return a.decodeKey(e,this._options)},c=function(e,t){return a.decodeValue(t,this._options)},h=function(){return null};function p(e,t,n){if(!(this instanceof p))return new p(e,t,n);r.call(this,{objectMode:true,highWaterMark:e.highWaterMark});this._db=t;e=this._options=o(u,e);this._keyEncoding=e.keyEncoding||e.encoding;this._valueEncoding=e.valueEncoding||e.encoding;if(typeof this._options.start!="undefined")this._options.start=a.encodeKey(this._options.start,this._options);if(typeof this._options.end!="undefined")this._options.end=a.encodeKey(this._options.end,this._options);if(typeof this._options.limit!="number")this._options.limit=-1;this._options.keyAsBuffer=a.isKeyAsBuffer(this._options);this._options.valueAsBuffer=a.isValueAsBuffer(this._options);this._makeData=this._options.keys&&this._options.values?f:this._options.keys?l:this._options.values?c:h;var i=this;if(!this._db.isOpen()){this._db.once("ready",function(){if(!i._destroyed){i._iterator=n(i._options)}})}else this._iterator=n(this._options)}i(p,r);p.prototype._read=function d(){var e=this;if(!e._db.isOpen()){return e._db.once("ready",function(){d.call(e)})}if(e._destroyed)return;e._iterator.next(function(t,n,r){if(t||n===undefined&&r===undefined){if(!t&&!e._destroyed)e.push(null);return e._cleanup(t)}try{r=e._makeData(n,r)}catch(i){return e._cleanup(new s(i))}if(!e._destroyed)e.push(r)})};p.prototype._cleanup=function(e){if(this._destroyed)return;this._destroyed=true;var t=this;if(e)t.emit("error",e);if(t._iterator){t._iterator.end(function(){t._iterator=null;t.emit("close")})}else{t.emit("close")}};p.prototype.destroy=function(){this._cleanup()};p.prototype.toString=function(){return"LevelUP.ReadStream"};t.exports=p},{"./errors":13,"./util":16,"readable-stream":35,util:107,xtend:36}],16:[function(e,t,n){(function(n,r){var i=e("xtend"),o=e("./errors").LevelUPError,s=["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le"],a={createIfMissing:true,errorIfExists:false,keyEncoding:"utf8",valueEncoding:"utf8",compression:true},u,f=function(){function e(e){return e===undefined||e===null||r.isBuffer(e)}var t={};t.utf8=t["utf-8"]={encode:function(t){return e(t)?t:String(t)},decode:function(e){return e},buffer:false,type:"utf8"};t.json={encode:JSON.stringify,decode:JSON.parse,buffer:false,type:"json"};s.forEach(function(i){if(t[i])return;t[i]={encode:function(t){return e(t)?t:new r(t,i)},decode:function(e){return n.browser?e.toString(i):e},buffer:true,type:i}});return t}(),l=function(){var e={};s.forEach(function(t){e[t]={valueEncoding:t}});return e}();function c(e,t,n){e.readStream().pipe(t.writeStream()).on("close",n?n:function(){}).on("error",n?n:function(e){throw e})}function h(e,t){var n=typeof t=="string";if(!n&&t&&t.encoding&&!t.valueEncoding)t.valueEncoding=t.encoding;return i(e&&e.options||{},n?l[t]||l[a.valueEncoding]:t)}function p(){if(u)return u;var t=e("../package.json").devDependencies.leveldown,n="Could not locate LevelDOWN, try `npm install leveldown`",r;try{r=e("leveldown/package").version}catch(i){throw new o(n)}if(!e("semver").satisfies(r,t)){throw new o("Installed version of LevelDOWN ("+r+") does not match required version ("+t+")")}try{return u=e("leveldown")}catch(i){throw new o(n)}}function d(e,t,n){return typeof n=="function"?n(t):e.emit("error",t)}function v(e,t){var n=t&&t.keyEncoding||e.keyEncoding||"utf8";return f[n]||n}function g(e,t){var n=t&&(t.valueEncoding||t.encoding)||e.valueEncoding||e.encoding||"utf8";return f[n]||n}function m(e,t,n){return v(t,n).encode(e)}function y(e,t,n){return g(t,n).encode(e)}function w(e,t){return v(t).decode(e)}function b(e,t){return g(t).decode(e)}function E(e,t){return g(e,t).buffer}function _(e,t){return v(e,t).buffer}t.exports={defaultOptions:a,copy:c,getOptions:h,getLevelDOWN:p,dispatchError:d,encodeKey:m,encodeValue:y,isValueAsBuffer:E,isKeyAsBuffer:_,decodeValue:b,decodeKey:w}}).call(this,e("_process"),e("buffer").Buffer)},{"../package.json":37,"./errors":13,_process:87,buffer:76,leveldown:75,"leveldown/package":75,semver:75,xtend:36}],17:[function(e,t,n){(function(n,r){var i=e("stream").Stream,o=e("util").inherits,s=e("xtend"),a=e("bl"),u=r.setImmediate||n.nextTick,f=e("./util").getOptions,l={type:"put"};function c(e,t){if(!(this instanceof c))return new c(e,t);i.call(this);this._options=s(l,f(t,e));this._db=t;this._buffer=[];this._status="init";this._end=false;this.writable=true;this.readable=false;var n=this,r=function(){if(!n.writable)return;n._status="ready";n.emit("ready");n._process()};if(t.isOpen())u(r);else t.once("ready",r)}o(c,i);c.prototype.write=function(e){if(!this.writable)return false;this._buffer.push(e);if(this._status!="init")this._processDelayed();if(this._options.maxBufferLength&&this._buffer.length>this._options.maxBufferLength){this._writeBlock=true;return false}return true};c.prototype.end=function(e){var t=this;if(e)this.write(e);u(function(){t._end=true;t._process()})};c.prototype.destroy=function(){this.writable=false;this.end()};c.prototype.destroySoon=function(){this.end()};c.prototype.add=function(e){if(!e.props)return;if(e.props.Directory)e.pipe(this._db.writeStream(this._options));else if(e.props.File||e.File||e.type=="File")this._write(e);return true};c.prototype._processDelayed=function(){var e=this;u(function(){e._process()})};c.prototype._process=function(){var e,t=this,n=function(e){if(!t.writable)return;if(t._status!="closed")t._status="ready";if(e){t.writable=false;return t.emit("error",e)}t._process()};if(t._status!="ready"&&t.writable){if(t._buffer.length&&t._status!="closed")t._processDelayed();return}if(t._buffer.length&&t.writable){t._status="writing";e=t._buffer;t._buffer=[];t._db.batch(e.map(function(e){return{type:e.type||t._options.type,key:e.key,value:e.value,keyEncoding:e.keyEncoding||t._options.keyEncoding,valueEncoding:e.valueEncoding||e.encoding||t._options.valueEncoding}}),n);if(t._writeBlock){t._writeBlock=false;t.emit("drain")}return}if(t._end&&t._status!="closed"){t._status="closed";t.writable=false;t.emit("close")}};c.prototype._write=function(e){var t=e.path||e.props.path,n=this;if(!t)return;e.pipe(a(function(e,r){if(e){n.writable=false;return n.emit("error",e)}if(n._options.fstreamRoot&&t.indexOf(n._options.fstreamRoot)>-1)t=t.substr(n._options.fstreamRoot.length+1);n.write({key:t,value:r.slice(0)})}))};c.prototype.toString=function(){return"LevelUP.WriteStream"};t.exports=c}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./util":16,_process:87,bl:18,stream:103,util:107,xtend:36}],18:[function(e,t,n){(function(n){var r=e("readable-stream").Duplex,i=e("util");function o(e){if(!(this instanceof o))return new o(e);this._bufs=[];this.length=0;if(typeof e=="function"){this._callback=e;var t=function(e){if(this._callback){this._callback(e);this._callback=null}}.bind(this);this.on("pipe",function(e){e.on("error",t)});this.on("unpipe",function(e){e.removeListener("error",t)})}else if(n.isBuffer(e))this.append(e);else if(Array.isArray(e)){e.forEach(function(e){n.isBuffer(e)&&this.append(e)}.bind(this))}r.call(this)}i.inherits(o,r);o.prototype._offset=function(e){var t=0,n=0,r;for(;n<this._bufs.length;n++){r=t+this._bufs[n].length;if(e<r)return[n,e-t];t=r}};o.prototype.append=function(e){this._bufs.push(n.isBuffer(e)?e:new n(e));this.length+=e.length;return this};o.prototype._write=function(e,t,n){this.append(e);if(n)n()};o.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length);this.push(this.slice(0,e));this.consume(e)};o.prototype.end=function(e){r.prototype.end.call(this,e);if(this._callback){this._callback(null,this.slice());this._callback=null}};o.prototype.get=function(e){return this.slice(e,e+1)[0]};o.prototype.slice=function(e,t){return this.copy(null,0,e,t)};o.prototype.copy=function(e,t,r,i){if(typeof r!="number"||r<0)r=0;if(typeof i!="number"||i>this.length)i=this.length;if(r>=this.length)return e||new n(0);if(i<=0)return e||new n(0);var o=!!e,s=this._offset(r),a=i-r,u=a,f=o&&t||0,l=s[1],c,h;if(r===0&&i==this.length){if(!o)return n.concat(this._bufs);for(h=0;h<this._bufs.length;h++){this._bufs[h].copy(e,f);f+=this._bufs[h].length}return e}if(u<=this._bufs[s[0]].length-l){return o?this._bufs[s[0]].copy(e,t,l,l+u):this._bufs[s[0]].slice(l,l+u)}if(!o)e=new n(a);for(h=s[0];h<this._bufs.length;h++){c=this._bufs[h].length-l;if(u>c){this._bufs[h].copy(e,f,l)}else{this._bufs[h].copy(e,f,l,l+u);break}f+=c;u-=c;if(l)l=0}return e};o.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)};o.prototype.consume=function(e){while(this._bufs.length){if(e>this._bufs[0].length){e-=this._bufs[0].length;this.length-=this._bufs[0].length;this._bufs.shift()}else{this._bufs[0]=this._bufs[0].slice(e);this.length-=e;break}}return this};o.prototype.duplicate=function(){var e=0,t=new o;for(;e<this._bufs.length;e++)t.append(this._bufs[e]);return t};o.prototype.destroy=function(){this._bufs.length=0;this.length=0;this.push(null)};(function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var t in e){(function(t){o.prototype[t]=function(n){return this.slice(n,n+e[t])[t](0)}})(t)}})();t.exports=o}).call(this,e("buffer").Buffer)},{buffer:76,"readable-stream":35,util:107}],19:[function(e,t,n){(function(n,r){var i=e("util"),o=e("abstract-leveldown").AbstractLevelDOWN;function s(e){o.call(this,typeof e=="string"?e:"");this._db=undefined;this._operations=[]}i.inherits(s,o);s.prototype.setDb=function(e){this._db=e;this._operations.forEach(function(t){e[t.method].apply(e,t.args)})};s.prototype._open=function(e,t){return n.nextTick(t)};s.prototype._operation=function(e,t){if(this._db)return this._db[e].apply(this._db,t);this._operations.push({method:e,args:t})};"put get del batch approximateSize".split(" ").forEach(function(e){s.prototype["_"+e]=function(){this._operation(e,arguments)}});s.prototype._isBuffer=function(e){return r.isBuffer(e)};s.prototype._iterator=function(){throw new TypeError("not implemented")};t.exports=s}).call(this,e("_process"),e("buffer").Buffer)},{_process:87,"abstract-leveldown":22,buffer:76,util:107}],20:[function(e,t,n){(function(e){function n(e){this._db=e;this._operations=[];this._written=false}n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")};n.prototype.put=function(e,t){this._checkWritten();var n=this._db._checkKeyValue(e,"key",this._db._isBuffer);if(n)throw n;n=this._db._checkKeyValue(t,"value",this._db._isBuffer);if(n)throw n;if(!this._db._isBuffer(e))e=String(e);if(!this._db._isBuffer(t))t=String(t);if(typeof this._put=="function")this._put(e,t);else this._operations.push({type:"put",key:e,value:t});return this};n.prototype.del=function(e){this._checkWritten();var t=this._db._checkKeyValue(e,"key",this._db._isBuffer);if(t)throw t;if(!this._db._isBuffer(e))e=String(e);if(typeof this._del=="function")this._del(e);else this._operations.push({type:"del",key:e});return this};n.prototype.clear=function(){this._checkWritten();
this._operations=[];if(typeof this._clear=="function")this._clear();return this};n.prototype.write=function(t,n){this._checkWritten();if(typeof t=="function")n=t;if(typeof n!="function")throw new Error("write() requires a callback argument");if(typeof t!="object")t={};this._written=true;if(typeof this._write=="function")return this._write(n);if(typeof this._db._batch=="function")return this._db._batch(this._operations,t,n);e.nextTick(n)};t.exports=n}).call(this,e("_process"))},{_process:87}],21:[function(e,t,n){(function(e){function n(e){this.db=e;this._ended=false;this._nexting=false}n.prototype.next=function(t){var n=this;if(typeof t!="function")throw new Error("next() requires a callback argument");if(n._ended)return t(new Error("cannot call next() after end()"));if(n._nexting)return t(new Error("cannot call next() before previous next() has completed"));n._nexting=true;if(typeof n._next=="function"){return n._next(function(){n._nexting=false;t.apply(null,arguments)})}e.nextTick(function(){n._nexting=false;t()})};n.prototype.end=function(t){if(typeof t!="function")throw new Error("end() requires a callback argument");if(this._ended)return t(new Error("end() already called on iterator"));this._ended=true;if(typeof this._end=="function")return this._end(t);e.nextTick(t)};t.exports=n}).call(this,e("_process"))},{_process:87}],22:[function(e,t,n){(function(n,r){var i=e("xtend"),o=e("./abstract-iterator"),s=e("./abstract-chained-batch");function a(e){if(!arguments.length||e===undefined)throw new Error("constructor requires at least a location argument");if(typeof e!="string")throw new Error("constructor requires a location string argument");this.location=e}a.prototype.open=function(e,t){if(typeof e=="function")t=e;if(typeof t!="function")throw new Error("open() requires a callback argument");if(typeof e!="object")e={};if(typeof this._open=="function")return this._open(e,t);n.nextTick(t)};a.prototype.close=function(e){if(typeof e!="function")throw new Error("close() requires a callback argument");if(typeof this._close=="function")return this._close(e);n.nextTick(e)};a.prototype.get=function(e,t,r){var i;if(typeof t=="function")r=t;if(typeof r!="function")throw new Error("get() requires a callback argument");if(i=this._checkKeyValue(e,"key",this._isBuffer))return r(i);if(!this._isBuffer(e))e=String(e);if(typeof t!="object")t={};if(typeof this._get=="function")return this._get(e,t,r);n.nextTick(function(){r(new Error("NotFound"))})};a.prototype.put=function(e,t,r,i){var o;if(typeof r=="function")i=r;if(typeof i!="function")throw new Error("put() requires a callback argument");if(o=this._checkKeyValue(e,"key",this._isBuffer))return i(o);if(o=this._checkKeyValue(t,"value",this._isBuffer))return i(o);if(!this._isBuffer(e))e=String(e);if(!this._isBuffer(t)&&!n.browser)t=String(t);if(typeof r!="object")r={};if(typeof this._put=="function")return this._put(e,t,r,i);n.nextTick(i)};a.prototype.del=function(e,t,r){var i;if(typeof t=="function")r=t;if(typeof r!="function")throw new Error("del() requires a callback argument");if(i=this._checkKeyValue(e,"key",this._isBuffer))return r(i);if(!this._isBuffer(e))e=String(e);if(typeof t!="object")t={};if(typeof this._del=="function")return this._del(e,t,r);n.nextTick(r)};a.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if(typeof t=="function")r=t;if(typeof r!="function")throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));if(typeof t!="object")t={};var i=0,o=e.length,s,a;for(;i<o;i++){s=e[i];if(typeof s!="object")continue;if(a=this._checkKeyValue(s.type,"type",this._isBuffer))return r(a);if(a=this._checkKeyValue(s.key,"key",this._isBuffer))return r(a);if(s.type=="put"){if(a=this._checkKeyValue(s.value,"value",this._isBuffer))return r(a)}}if(typeof this._batch=="function")return this._batch(e,t,r);n.nextTick(r)};a.prototype.approximateSize=function(e,t,r){if(e==null||t==null||typeof e=="function"||typeof t=="function"){throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments")}if(typeof r!="function")throw new Error("approximateSize() requires a callback argument");if(!this._isBuffer(e))e=String(e);if(!this._isBuffer(t))t=String(t);if(typeof this._approximateSize=="function")return this._approximateSize(e,t,r);n.nextTick(function(){r(null,0)})};a.prototype._setupIteratorOptions=function(e){var t=this;e=i(e);["start","end","gt","gte","lt","lte"].forEach(function(n){if(e[n]&&t._isBuffer(e[n])&&e[n].length===0)delete e[n]});e.reverse=!!e.reverse;if(e.reverse&&e.lt)e.start=e.lt;if(e.reverse&&e.lte)e.start=e.lte;if(!e.reverse&&e.gt)e.start=e.gt;if(!e.reverse&&e.gte)e.start=e.gte;if(e.reverse&&e.lt&&!e.lte||!e.reverse&&e.gt&&!e.gte)e.exclusiveStart=true;return e};a.prototype.iterator=function(e){if(typeof e!="object")e={};e=this._setupIteratorOptions(e);if(typeof this._iterator=="function")return this._iterator(e);return new o(this)};a.prototype._chainedBatch=function(){return new s(this)};a.prototype._isBuffer=function(e){return r.isBuffer(e)};a.prototype._checkKeyValue=function(e,t){if(e===null||e===undefined)return new Error(t+" cannot be `null` or `undefined`");if(this._isBuffer(e)){if(e.length===0)return new Error(t+" cannot be an empty Buffer")}else if(String(e)==="")return new Error(t+" cannot be an empty String")};t.exports.AbstractLevelDOWN=a;t.exports.AbstractIterator=o;t.exports.AbstractChainedBatch=s}).call(this,e("_process"),e("buffer").Buffer)},{"./abstract-chained-batch":20,"./abstract-iterator":21,_process:87,buffer:76,xtend:36}],23:[function(e,t,n){var r=e("prr");function i(e,t,n){r(this,{type:e,name:e,cause:typeof t!="string"?t:n,message:!!t&&typeof t!="string"?t.message:t},"ewr")}function o(e,t){Error.call(this);if(Error.captureStackTrace)Error.captureStackTrace(this,arguments.callee);i.call(this,"CustomError",e,t)}o.prototype=new Error;function s(e,t,n){var r=function(n,r){i.call(this,t,n,r);if(t=="FilesystemError"){this.code=this.cause.code;this.path=this.cause.path;this.errno=this.cause.errno;this.message=(e.errno[this.cause.errno]?e.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")}Error.call(this);if(Error.captureStackTrace)Error.captureStackTrace(this,arguments.callee)};r.prototype=!!n?new n:new o;return r}t.exports=function(e){var t=function(t,n){return s(e,t,n)};return{CustomError:o,FilesystemError:t("FilesystemError"),createError:t}}},{prr:25}],24:[function(e,t,n){var r=t.exports.all=[{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];t.exports.errno={"-1":r[0],0:r[1],1:r[2],2:r[3],3:r[4],4:r[5],5:r[6],6:r[7],7:r[8],8:r[9],9:r[10],10:r[11],11:r[12],12:r[13],13:r[14],14:r[15],15:r[16],16:r[17],17:r[18],18:r[19],19:r[20],20:r[21],21:r[22],22:r[23],23:r[24],24:r[25],25:r[26],26:r[27],27:r[28],28:r[29],29:r[30],31:r[31],32:r[32],33:r[33],34:r[34],35:r[35],36:r[36],37:r[37],38:r[38],39:r[39],40:r[40],41:r[41],42:r[42],44:r[43],45:r[44],46:r[45],47:r[46],48:r[47],49:r[48],50:r[49],51:r[50],52:r[51],53:r[52],54:r[53],55:r[54],56:r[55],57:r[56],58:r[57],59:r[58]};t.exports.code={UNKNOWN:r[0],OK:r[1],EOF:r[2],EADDRINFO:r[3],EACCES:r[4],EAGAIN:r[5],EADDRINUSE:r[6],EADDRNOTAVAIL:r[7],EAFNOSUPPORT:r[8],EALREADY:r[9],EBADF:r[10],EBUSY:r[11],ECONNABORTED:r[12],ECONNREFUSED:r[13],ECONNRESET:r[14],EDESTADDRREQ:r[15],EFAULT:r[16],EHOSTUNREACH:r[17],EINTR:r[18],EINVAL:r[19],EISCONN:r[20],EMFILE:r[21],EMSGSIZE:r[22],ENETDOWN:r[23],ENETUNREACH:r[24],ENFILE:r[25],ENOBUFS:r[26],ENOMEM:r[27],ENOTDIR:r[28],EISDIR:r[29],ENONET:r[30],ENOTCONN:r[31],ENOTSOCK:r[32],ENOTSUP:r[33],ENOENT:r[34],ENOSYS:r[35],EPIPE:r[36],EPROTO:r[37],EPROTONOSUPPORT:r[38],EPROTOTYPE:r[39],ETIMEDOUT:r[40],ECHARSET:r[41],EAIFAMNOSUPPORT:r[42],EAISERVICE:r[43],EAISOCKTYPE:r[44],ESHUTDOWN:r[45],EEXIST:r[46],ESRCH:r[47],ENAMETOOLONG:r[48],EPERM:r[49],ELOOP:r[50],EXDEV:r[51],ENOTEMPTY:r[52],ENOSPC:r[53],EIO:r[54],EROFS:r[55],ENODEV:r[56],ESPIPE:r[57],ECANCELED:r[58]};t.exports.custom=e("./custom")(t.exports);t.exports.create=t.exports.custom.createError},{"./custom":23}],25:[function(e,t,n){(function(e,n,r){if(typeof t!="undefined"&&t.exports)t.exports=r();else n[e]=r()})("prr",this,function(){var e=typeof Object.defineProperty=="function"?function(e,t,n){Object.defineProperty(e,t,n);return e}:function(e,t,n){e[t]=n.value;return e},t=function(e,t){var n=typeof t=="object",r=!n&&typeof t=="string",i=function(e){return n?!!t[e]:r?t.indexOf(e[0])>-1:false};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:e}},n=function(n,r,i,o){var s;o=t(i,o);if(typeof r=="object"){for(s in r){if(Object.hasOwnProperty.call(r,s)){o.value=r[s];e(n,s,o)}}return n}return e(n,r,o)};return n})},{}],26:[function(e,t,n){(function(n){t.exports=a;var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};var i=e("core-util-is");i.inherits=e("inherits");var o=e("./_stream_readable");var s=e("./_stream_writable");i.inherits(a,o);f(r(s.prototype),function(e){if(!a.prototype[e])a.prototype[e]=s.prototype[e]});function a(e){if(!(this instanceof a))return new a(e);o.call(this,e);s.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",u)}function u(){if(this.allowHalfOpen||this._writableState.ended)return;n.nextTick(this.end.bind(this))}function f(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}}}).call(this,e("_process"))},{"./_stream_readable":28,"./_stream_writable":30,_process:87,"core-util-is":31,inherits:32}],27:[function(e,t,n){t.exports=o;var r=e("./_stream_transform");var i=e("core-util-is");i.inherits=e("inherits");i.inherits(o,r);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}o.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":29,"core-util-is":31,inherits:32}],28:[function(e,t,n){(function(n){t.exports=l;var r=e("isarray");var i=e("buffer").Buffer;l.ReadableState=f;var o=e("events").EventEmitter;if(!o.listenerCount)o.listenerCount=function(e,t){return e.listeners(t).length};var s=e("stream");var a=e("core-util-is");a.inherits=e("inherits");var u;a.inherits(l,s);function f(t,n){t=t||{};var r=t.highWaterMark;this.highWaterMark=r||r===0?r:16*1024;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=false;this.ended=false;this.endEmitted=false;this.reading=false;this.calledRead=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.objectMode=!!t.objectMode;this.defaultEncoding=t.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(t.encoding){if(!u)u=e("string_decoder/").StringDecoder;this.decoder=new u(t.encoding);this.encoding=t.encoding}}function l(e){if(!(this instanceof l))return new l(e);this._readableState=new f(e,this);this.readable=true;s.call(this)}l.prototype.push=function(e,t){var n=this._readableState;if(typeof e==="string"&&!n.objectMode){t=t||n.defaultEncoding;if(t!==n.encoding){e=new i(e,t);t=""}}return c(this,n,e,t,false)};l.prototype.unshift=function(e){var t=this._readableState;return c(this,t,e,"",true)};function c(e,t,n,r,i){var o=g(t,n);if(o){e.emit("error",o)}else if(n===null||n===undefined){t.reading=false;if(!t.ended)m(e,t)}else if(t.objectMode||n&&n.length>0){if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else{if(t.decoder&&!i&&!r)n=t.decoder.write(n);t.length+=t.objectMode?1:n.length;if(i){t.buffer.unshift(n)}else{t.reading=false;t.buffer.push(n)}if(t.needReadable)y(e);b(e,t)}}else if(!i){t.reading=false}return h(t)}function h(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}l.prototype.setEncoding=function(t){if(!u)u=e("string_decoder/").StringDecoder;this._readableState.decoder=new u(t);this._readableState.encoding=t};var p=8388608;function d(e){if(e>=p){e=p}else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function v(e,t){if(t.length===0&&t.ended)return 0;if(t.objectMode)return e===0?0:1;if(e===null||isNaN(e)){if(t.flowing&&t.buffer.length)return t.buffer[0].length;else return t.length}if(e<=0)return 0;if(e>t.highWaterMark)t.highWaterMark=d(e);if(e>t.length){if(!t.ended){t.needReadable=true;return 0}else return t.length}return e}l.prototype.read=function(e){var t=this._readableState;t.calledRead=true;var n=e;var r;if(typeof e!=="number"||e>0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){y(this);return null}e=v(e,t);if(e===0&&t.ended){r=null;if(t.length>0&&t.decoder){r=O(e,t);t.length-=r.length}if(t.length===0)T(this);return r}var i=t.needReadable;if(t.length-e<=t.highWaterMark)i=true;if(t.ended||t.reading)i=false;if(i){t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false}if(i&&!t.reading)e=v(n,t);if(e>0)r=O(e,t);else r=null;if(r===null){t.needReadable=true;e=0}t.length-=e;if(t.length===0&&!t.ended)t.needReadable=true;if(t.ended&&!t.endEmitted&&t.length===0)T(this);return r};function g(e,t){var n=null;if(!i.isBuffer(t)&&"string"!==typeof t&&t!==null&&t!==undefined&&!e.objectMode){n=new TypeError("Invalid non-string/buffer chunk")}return n}function m(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();if(n&&n.length){t.buffer.push(n);t.length+=t.objectMode?1:n.length}}t.ended=true;if(t.length>0)y(e);else T(e)}function y(e){var t=e._readableState;t.needReadable=false;if(t.emittedReadable)return;t.emittedReadable=true;if(t.sync)n.nextTick(function(){w(e)});else w(e)}function w(e){e.emit("readable")}function b(e,t){if(!t.readingMore){t.readingMore=true;n.nextTick(function(){E(e,t)})}}function E(e,t){var n=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){e.read(0);if(n===t.length)break;else n=t.length}t.readingMore=false}l.prototype._read=function(e){this.emit("error",new Error("not implemented"))};l.prototype.pipe=function(e,t){var i=this;var s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e);break}s.pipesCount+=1;var a=(!t||t.end!==false)&&e!==n.stdout&&e!==n.stderr;var u=a?l:h;if(s.endEmitted)n.nextTick(u);else i.once("end",u);e.on("unpipe",f);function f(e){if(e!==i)return;h()}function l(){e.end()}var c=_(i);e.on("drain",c);function h(){e.removeListener("close",d);e.removeListener("finish",v);e.removeListener("drain",c);e.removeListener("error",p);e.removeListener("unpipe",f);i.removeListener("end",l);i.removeListener("end",h);if(!e._writableState||e._writableState.needDrain)c()}function p(t){g();e.removeListener("error",p);if(o.listenerCount(e,"error")===0)e.emit("error",t)}if(!e._events||!e._events.error)e.on("error",p);else if(r(e._events.error))e._events.error.unshift(p);else e._events.error=[p,e._events.error];function d(){e.removeListener("finish",v);g()}e.once("close",d);function v(){e.removeListener("close",d);g()}e.once("finish",v);function g(){i.unpipe(e)}e.emit("pipe",i);if(!s.flowing){this.on("readable",k);s.flowing=true;n.nextTick(function(){x(i)})}return e};function _(e){return function(){var t=this;var n=e._readableState;n.awaitDrain--;if(n.awaitDrain===0)x(e)}}function x(e){var t=e._readableState;var n;t.awaitDrain=0;function r(e,r,i){var o=e.write(n);if(false===o){t.awaitDrain++}}while(t.pipesCount&&null!==(n=e.read())){if(t.pipesCount===1)r(t.pipes,0,null);else A(t.pipes,r);e.emit("data",n);if(t.awaitDrain>0)return}if(t.pipesCount===0){t.flowing=false;if(o.listenerCount(e,"data")>0)S(e);return}t.ranOut=true}function k(){if(this._readableState.ranOut){this._readableState.ranOut=false;x(this)}}l.prototype.unpipe=function(e){var t=this._readableState;if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;this.removeListener("readable",k);t.flowing=false;if(e)e.emit("unpipe",this);return this}if(!e){var n=t.pipes;var r=t.pipesCount;t.pipes=null;t.pipesCount=0;this.removeListener("readable",k);t.flowing=false;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var i=N(t.pipes,e);if(i===-1)return this;t.pipes.splice(i,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this);return this};l.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t);if(e==="data"&&!this._readableState.flowing)S(this);if(e==="readable"&&this.readable){var r=this._readableState;if(!r.readableListening){r.readableListening=true;r.emittedReadable=false;r.needReadable=true;if(!r.reading){this.read(0)}else if(r.length){y(this,r)}}}return n};l.prototype.addListener=l.prototype.on;l.prototype.resume=function(){S(this);this.read(0);this.emit("resume")};l.prototype.pause=function(){S(this,true);this.emit("pause")};function S(e,t){var r=e._readableState;if(r.flowing){throw new Error("Cannot switch to old mode now.")}var i=t||false;var o=false;e.readable=true;e.pipe=s.prototype.pipe;e.on=e.addListener=s.prototype.on;e.on("readable",function(){o=true;var t;while(!i&&null!==(t=e.read()))e.emit("data",t);if(t===null){o=false;e._readableState.needReadable=true}});e.pause=function(){i=true;this.emit("pause")};e.resume=function(){i=false;if(o)n.nextTick(function(){e.emit("readable")});else this.read(0);this.emit("resume")};e.emit("readable")}l.prototype.wrap=function(e){var t=this._readableState;var n=false;var r=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();if(e&&e.length)r.push(e)}r.push(null)});e.on("data",function(i){if(t.decoder)i=t.decoder.write(i);if(t.objectMode&&(i===null||i===undefined))return;else if(!t.objectMode&&(!i||!i.length))return;var o=r.push(i);if(!o){n=true;e.pause()}});for(var i in e){if(typeof e[i]==="function"&&typeof this[i]==="undefined"){this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i)}}var o=["error","close","destroy","pause","resume"];A(o,function(t){e.on(t,r.emit.bind(r,t))});r._read=function(t){if(n){n=false;e.resume()}};return r};l._fromList=O;function O(e,t){var n=t.buffer;var r=t.length;var o=!!t.decoder;var s=!!t.objectMode;var a;if(n.length===0)return null;if(r===0)a=null;else if(s)a=n.shift();else if(!e||e>=r){if(o)a=n.join("");else a=i.concat(n,r);n.length=0}else{if(e<n[0].length){var u=n[0];a=u.slice(0,e);n[0]=u.slice(e)}else if(e===n[0].length){a=n.shift()}else{if(o)a="";else a=new i(e);var f=0;for(var l=0,c=n.length;l<c&&f<e;l++){var u=n[0];var h=Math.min(e-f,u.length);if(o)a+=u.slice(0,h);else u.copy(a,f,0,h);if(h<u.length)n[0]=u.slice(h);else n.shift();f+=h}}}return a}function T(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");if(!t.endEmitted&&t.calledRead){t.ended=true;n.nextTick(function(){if(!t.endEmitted&&t.length===0){t.endEmitted=true;e.readable=false;e.emit("end")}})}}function A(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}}function N(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n]===t)return n}return-1}}).call(this,e("_process"))},{_process:87,buffer:76,"core-util-is":31,events:80,inherits:32,isarray:33,stream:103,"string_decoder/":34}],29:[function(e,t,n){t.exports=a;var r=e("./_stream_duplex");var i=e("core-util-is");i.inherits=e("inherits");i.inherits(a,r);function o(e,t){this.afterTransform=function(e,n){return s(t,e,n)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function s(e,t,n){var r=e._transformState;r.transforming=false;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null;r.writecb=null;if(n!==null&&n!==undefined)e.push(n);if(i)i(t);var o=e._readableState;o.reading=false;if(o.needReadable||o.length<o.highWaterMark){e._read(o.highWaterMark)}}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e);var t=this._transformState=new o(e,this);var n=this;this._readableState.needReadable=true;this._readableState.sync=false;this.once("finish",function(){if("function"===typeof this._flush)this._flush(function(e){u(n,e)});else u(n)})}a.prototype.push=function(e,t){this._transformState.needTransform=false;return r.prototype.push.call(this,e,t)};a.prototype._transform=function(e,t,n){throw new Error("not implemented")};a.prototype._write=function(e,t,n){var r=this._transformState;r.writecb=n;r.writechunk=e;r.writeencoding=t;if(!r.transforming){var i=this._readableState;if(r.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};a.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};function u(e,t){if(t)return e.emit("error",t);var n=e._writableState;var r=e._readableState;var i=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(i.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}},{"./_stream_duplex":26,"core-util-is":31,inherits:32}],30:[function(e,t,n){(function(n){t.exports=u;var r=e("buffer").Buffer;u.WritableState=a;var i=e("core-util-is");i.inherits=e("inherits");var o=e("stream");i.inherits(u,o);function s(e,t,n){this.chunk=e;this.encoding=t;this.callback=n}function a(e,t){e=e||{};var n=e.highWaterMark;this.highWaterMark=n||n===0?n:16*1024;this.objectMode=!!e.objectMode;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var r=e.decodeStrings===false;this.decodeStrings=!r;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){g(t,e)};this.writecb=null;this.writelen=0;this.buffer=[];this.errorEmitted=false}function u(t){var n=e("./_stream_duplex");if(!(this instanceof u)&&!(this instanceof n))return new u(t);this._writableState=new a(t,this);this.writable=true;o.call(this)}u.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function f(e,t,r){var i=new Error("write after end");e.emit("error",i);n.nextTick(function(){r(i)})}function l(e,t,i,o){var s=true;if(!r.isBuffer(i)&&"string"!==typeof i&&i!==null&&i!==undefined&&!t.objectMode){var a=new TypeError("Invalid non-string/buffer chunk");e.emit("error",a);n.nextTick(function(){o(a)});s=false}return s}u.prototype.write=function(e,t,n){var i=this._writableState;var o=false;if(typeof t==="function"){n=t;t=null}if(r.isBuffer(e))t="buffer";else if(!t)t=i.defaultEncoding;if(typeof n!=="function")n=function(){};if(i.ended)f(this,i,n);else if(l(this,i,e,n))o=h(this,i,e,t,n);return o};function c(e,t,n){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=new r(t,n)}return t}function h(e,t,n,i,o){n=c(t,n,i);if(r.isBuffer(n))i="buffer";var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;if(!u)t.needDrain=true;if(t.writing)t.buffer.push(new s(n,i,o));else p(e,t,a,n,i,o);return u}function p(e,t,n,r,i,o){t.writelen=n;t.writecb=o;t.writing=true;t.sync=true;e._write(r,i,t.onwrite);t.sync=false}function d(e,t,r,i,o){if(r)n.nextTick(function(){o(i)});else o(i);e._writableState.errorEmitted=true;e.emit("error",i)}function v(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function g(e,t){var r=e._writableState;var i=r.sync;var o=r.writecb;v(r);if(t)d(e,r,i,t,o);else{var s=b(e,r);if(!s&&!r.bufferProcessing&&r.buffer.length)w(e,r);if(i){n.nextTick(function(){m(e,r,s,o)})}else{m(e,r,s,o)}}}function m(e,t,n,r){if(!n)y(e,t);r();if(n)E(e,t)}function y(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function w(e,t){t.bufferProcessing=true;for(var n=0;n<t.buffer.length;n++){var r=t.buffer[n];var i=r.chunk;var o=r.encoding;var s=r.callback;var a=t.objectMode?1:i.length;p(e,t,a,i,o,s);if(t.writing){n++;break}}t.bufferProcessing=false;if(n<t.buffer.length)t.buffer=t.buffer.slice(n);else t.buffer.length=0}u.prototype._write=function(e,t,n){n(new Error("not implemented"))};u.prototype.end=function(e,t,n){var r=this._writableState;if(typeof e==="function"){n=e;e=null;t=null}else if(typeof t==="function"){n=t;t=null}if(typeof e!=="undefined"&&e!==null)this.write(e,t);if(!r.ending&&!r.finished)_(this,r,n)};function b(e,t){return t.ending&&t.length===0&&!t.finished&&!t.writing}function E(e,t){var n=b(e,t);if(n){t.finished=true;e.emit("finish")}return n}function _(e,t,r){t.ending=true;E(e,t);if(r){if(t.finished)n.nextTick(r);else e.once("finish",r)}t.ended=true}}).call(this,e("_process"))},{"./_stream_duplex":26,_process:87,buffer:76,"core-util-is":31,inherits:32,stream:103}],31:[function(e,t,n){(function(e){function t(e){return Array.isArray(e)}n.isArray=t;function r(e){return typeof e==="boolean"}n.isBoolean=r;function i(e){return e===null}n.isNull=i;function o(e){return e==null}n.isNullOrUndefined=o;function s(e){return typeof e==="number"}n.isNumber=s;function a(e){return typeof e==="string"}n.isString=a;function u(e){return typeof e==="symbol"}n.isSymbol=u;function f(e){return e===void 0}n.isUndefined=f;function l(e){return c(e)&&m(e)==="[object RegExp]"}n.isRegExp=l;function c(e){return typeof e==="object"&&e!==null}n.isObject=c;function h(e){return c(e)&&m(e)==="[object Date]"}n.isDate=h;function p(e){return c(e)&&(m(e)==="[object Error]"||e instanceof Error)}n.isError=p;function d(e){return typeof e==="function"}n.isFunction=d;function v(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}n.isPrimitive=v;function g(t){return e.isBuffer(t)}n.isBuffer=g;function m(e){return Object.prototype.toString.call(e)}}).call(this,e("buffer").Buffer)},{buffer:76}],32:[function(e,t,n){if(typeof Object.create==="function"){t.exports=function r(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}}},{}],33:[function(e,t,n){t.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}},{}],34:[function(e,t,n){var r=e("buffer").Buffer;var i=r.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function o(e){if(e&&!i(e)){throw new Error("Unknown encoding: "+e)}}var s=n.StringDecoder=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");o(e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=u;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=f;break;default:this.write=a;return}this.charBuffer=new r(6);this.charReceived=0;this.charLength=0};s.prototype.write=function(e){var t="";while(this.charLength){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;e.copy(this.charBuffer,this.charReceived,0,n);this.charReceived+=n;if(this.charReceived<this.charLength){return""}e=e.slice(n,e.length);t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(r>=55296&&r<=56319){this.charLength+=this.surrogateSize;t="";continue}this.charReceived=this.charLength=0;if(e.length===0){return t}break}this.detectIncompleteChar(e);var i=e.length;if(this.charLength){e.copy(this.charBuffer,0,e.length-this.charReceived,i);i-=this.charReceived}t+=e.toString(this.encoding,0,i);var i=t.length-1;var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;this.charLength+=o;this.charReceived+=o;this.charBuffer.copy(this.charBuffer,o,0,o);e.copy(this.charBuffer,0,0,o);return t.substring(0,i)}return t};s.prototype.detectIncompleteChar=function(e){var t=e.length>=3?3:e.length;for(;t>0;t--){var n=e[e.length-t];if(t==1&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t
};s.prototype.end=function(e){var t="";if(e&&e.length)t=this.write(e);if(this.charReceived){var n=this.charReceived;var r=this.charBuffer;var i=this.encoding;t+=r.slice(0,n).toString(i)}return t};function a(e){return e.toString(this.encoding)}function u(e){this.charReceived=e.length%2;this.charLength=this.charReceived?2:0}function f(e){this.charReceived=e.length%3;this.charLength=this.charReceived?3:0}},{buffer:76}],35:[function(e,t,n){var r=e("stream");n=t.exports=e("./lib/_stream_readable.js");n.Stream=r;n.Readable=n;n.Writable=e("./lib/_stream_writable.js");n.Duplex=e("./lib/_stream_duplex.js");n.Transform=e("./lib/_stream_transform.js");n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":26,"./lib/_stream_passthrough.js":27,"./lib/_stream_readable.js":28,"./lib/_stream_transform.js":29,"./lib/_stream_writable.js":30,stream:103}],36:[function(e,t,n){t.exports=r;function r(){var e={};for(var t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(n.hasOwnProperty(r)){e[r]=n[r]}}}return e}},{}],37:[function(e,t,n){t.exports={name:"levelup",description:"Fast & simple storage - a Node.js-style LevelDB wrapper",version:"0.18.6",contributors:[{name:"Rod Vagg",email:"r@va.gg",url:"https://github.com/rvagg"},{name:"John Chesley",email:"john@chesl.es",url:"https://github.com/chesles/"},{name:"Jake Verbaten",email:"raynos2@gmail.com",url:"https://github.com/raynos"},{name:"Dominic Tarr",email:"dominic.tarr@gmail.com",url:"https://github.com/dominictarr"},{name:"Max Ogden",email:"max@maxogden.com",url:"https://github.com/maxogden"},{name:"Lars-Magnus Skog",email:"lars.magnus.skog@gmail.com",url:"https://github.com/ralphtheninja"},{name:"David Bj枚rklund",email:"david.bjorklund@gmail.com",url:"https://github.com/kesla"},{name:"Julian Gruber",email:"julian@juliangruber.com",url:"https://github.com/juliangruber"},{name:"Paolo Fragomeni",email:"paolo@async.ly",url:"https://github.com/hij1nx"},{name:"Anton Whalley",email:"anton.whalley@nearform.com",url:"https://github.com/No9"},{name:"Matteo Collina",email:"matteo.collina@gmail.com",url:"https://github.com/mcollina"},{name:"Pedro Teixeira",email:"pedro.teixeira@gmail.com",url:"https://github.com/pgte"},{name:"James Halliday",email:"mail@substack.net",url:"https://github.com/substack"}],repository:{type:"git",url:"https://github.com/rvagg/node-levelup.git"},homepage:"https://github.com/rvagg/node-levelup",keywords:["leveldb","stream","database","db","store","storage","json"],main:"lib/levelup.js",dependencies:{bl:"~0.8.1","deferred-leveldown":"~0.2.0",errno:"~0.1.1",prr:"~0.0.0","readable-stream":"~1.0.26",semver:"~2.3.1",xtend:"~3.0.0"},devDependencies:{leveldown:"~0.10.0",bustermove:"*",tap:"*",referee:"*",rimraf:"*",async:"*",fstream:"*",tar:"*",mkfiletree:"*",readfiletree:"*","slow-stream":">=0.0.4",delayed:"*",boganipsum:"*",du:"*",memdown:"*","msgpack-js":"*"},browser:{leveldown:false,"leveldown/package":false,semver:false},scripts:{test:"tap test/*-test.js --stderr",functionaltests:"node ./test/functional/fstream-test.js && node ./test/functional/binary-data-test.js && node ./test/functional/compat-test.js",alltests:"npm test && npm run-script functionaltests"},license:"MIT",gitHead:"213e989e2b75273e2b44c23f84f95e35bff7ea11",bugs:{url:"https://github.com/rvagg/node-levelup/issues"},_id:"levelup@0.18.6",_shasum:"e6a01cb089616c8ecc0291c2a9bd3f0c44e3e5eb",_from:"levelup@~0.18.2",_npmVersion:"1.4.14",_npmUser:{name:"rvagg",email:"rod@vagg.org"},maintainers:[{name:"rvagg",email:"rod@vagg.org"}],dist:{shasum:"e6a01cb089616c8ecc0291c2a9bd3f0c44e3e5eb",tarball:"http://registry.npmjs.org/levelup/-/levelup-0.18.6.tgz"},directories:{},_resolved:"https://registry.npmjs.org/levelup/-/levelup-0.18.6.tgz",readme:"ERROR: No README data found!"}},{}],38:[function(e,t,n){(function(n,r,i){var o=e("util"),s=e("abstract-leveldown").AbstractLevelDOWN,a=e("abstract-leveldown").AbstractIterator,u=function(){},f=r.setImmediate||n.nextTick;function l(e,t){a.call(this,e);var n=new i(0);this._dbsize=this.db.container.length();this._reverse=!!t.reverse;if(t.end instanceof i){if(t.end.length=0)this._end=this.db.container.key(this._dbsize-1)}else{this._end=t.end}this._limit=t.limit;this._count=0;if(t.start){var r=false;for(var o=0;o<this._dbsize;o++){if(this.db.container.key(o)>=t.start){this._pos=o;if(this._reverse){if(this.db.container.key(o)>t.start){this._pos=o-1}else{this._pos=o}}r=true;break}}if(!r){this._pos=this._reverse?this._dbsize-1:-1}}else{this._pos=this._reverse?this._dbsize-1:0}}o.inherits(l,a);l.prototype._next=function(e){if(this._pos>=this.db.container.length()||this._pos<0)return f(e);var t=this.db.container.key(this._pos),n;if(!!this._end&&(this._reverse?t<this._end:t>this._end))return f(e);if(!!this._limit&&this._limit>0&&this._count++>=this._limit)return f(e);n=this.db.container.getItem(t);this._pos+=this._reverse?-1:1;f(e.bind(null,undefined,t,n))};function c(t){if(!(this instanceof c))return new c(t);s.call(this,t);var n=e("./localstorage").localStorage;this.container=new n(t)}o.inherits(c,s);c.prototype._open=function(e,t){f(function(){t(null,this)}.bind(this))};c.prototype._put=function(e,t,n,r){var o=g(e,"key");if(o)return r(o);o=g(t,"value");if(o)return r(o);if(typeof t=="object"&&!i.isBuffer(t)&&t.buffer==undefined){var s={};s.storetype="json";s.data=t;t=JSON.stringify(s)}this.container.setItem(e,t);f(r)};c.prototype._get=function(e,t,n){var r=g(e,"key");if(r)return n(r);if(!v(e)){e=String(e)}var o=this.container.getItem(e);if(o===undefined){return f(function(){n(new Error("NotFound: "))})}if(t.asBuffer!==false&&!i.isBuffer(o)){o=new i(String(o))}if(t.asBuffer===false){if(o.indexOf('{"storetype":"json","data"')>-1){var s=JSON.parse(o);o=s.data}}f(function(){n(null,o)})};c.prototype._del=function(e,t,n){var r=g(e,"key");if(r)return n(r);if(!v(e))e=String(e);this.container.removeItem(e);f(n)};c.prototype._batch=function(e,t,n){var r,o=0,s,a;if(Array.isArray(e)){for(;o<e.length;o++){if(e[o]){s=i.isBuffer(e[o].key)?e[o].key:String(e[o].key);r=g(s,"key");if(r)return f(n.bind(null,r));if(e[o].type==="del"){this._del(e[o].key,t,u)}else if(e[o].type==="put"){a=i.isBuffer(e[o].value)?e[o].value:String(e[o].value);r=g(a,"value");if(r)return f(n.bind(null,r));this._put(s,a,t,u)}}}}f(n)};c.prototype._iterator=function(e){return new l(this,e)};c.destroy=function(e,t){try{Object.keys(localStorage).forEach(function(t){if(t.substring(0,e.length+1)==e+"!"){localStorage.removeItem(t)}});t()}catch(n){}};function h(e,t){return this.slice(e,t)}function p(e,t){if(arguments.length<2)t=0;for(var n=0,r=e.length;n<r;++n,++t)this[t]=e[n]&255}function d(e){var t;if(typeof e==="number"){t=new Array(e);for(var n=0;n<e;++n)t[n]=0}else t=e.slice(0);t.subarray=h;t.buffer=t;t.byteLength=t.length;t.set=p;if(typeof e==="object"&&e.buffer)t.buffer=e.buffer;return t}function v(e){return e instanceof ArrayBuffer}function g(e,t){if(e===null||e===undefined)return new Error(t+" cannot be `null` or `undefined`");if(e===null||e===undefined)return new Error(t+" cannot be `null` or `undefined`");if(t==="key"){if(e instanceof Boolean){return new Error(t+" cannot be `null` or `undefined`")}if(e===""){return new Error(t+" cannot be empty")}}if(e.toString().indexOf("[object ArrayBuffer]")==0){if(e.byteLength==0||e.byteLength==undefined){return new Error(t+" cannot be an empty Buffer")}}if(v(e)){if(e.length===0)return new Error(t+" cannot be an empty Buffer")}else if(String(e)==="")return new Error(t+" cannot be an empty String")}t.exports=c}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},e("buffer").Buffer)},{"./localstorage":39,_process:87,"abstract-leveldown":42,buffer:76,util:107}],39:[function(e,t,n){function r(e){this._partition=e;this._keys=[];for(var t=0;t<window.localStorage.length;t++){if(window.localStorage.key(t).indexOf(e+"!")==0)this._keys.push(window.localStorage.key(t))}this._keys.sort()}r.prototype.key=function(e){var t=this._keys[e];if(typeof t!=="undefined"){return this._keys[e].replace(this._partition+"!","").replace("!bin")}else{return t}};r.prototype.setItem=function(e,t){e=this._partition+"!"+e;if(t instanceof ArrayBuffer){var n="ArrayBuffer:";t=n+btoa(String.fromCharCode.apply(null,t))}if(t instanceof Uint8Array){var n="Uint8Array:";t=n+btoa(String.fromCharCode.apply(null,t))}for(var r=0;r<this._keys.length;r++){if(this._keys[r]===e){window.localStorage.setItem(e,t);return}}this._keys.push(e);this._keys.sort();window.localStorage.setItem(e,t)};r.prototype.getItem=function(e){e=this._partition+"!"+e;var t=window.localStorage.getItem(e);if(t==null){return undefined}if(t.indexOf("ArrayBuffer:")==0){var n=t.replace("ArrayBuffer:","");t=new ArrayBuffer(atob(n).split("").map(function(e){return e.charCodeAt(0)}));return t}if(t.indexOf("Uint8Array:")==0){var n=t.replace("Uint8Array:","");return atob(n)}return t};r.prototype.removeItem=function(e){e=this._partition+"!"+e;for(var t=this._keys.length;t>=0;t--){if(this._keys[t]===e){this._keys.splice(t,1);window.localStorage.removeItem(e)}}};r.prototype.clear=function(){window.localStorage.clear()};r.prototype.length=function(){return this._keys.length};n.localStorage=r},{}],40:[function(e,t,n){t.exports=e(20)},{"/root/josephdykstra.com/node_modules/levelup/node_modules/deferred-leveldown/node_modules/abstract-leveldown/abstract-chained-batch.js":20,_process:87}],41:[function(e,t,n){t.exports=e(21)},{"/root/josephdykstra.com/node_modules/levelup/node_modules/deferred-leveldown/node_modules/abstract-leveldown/abstract-iterator.js":21,_process:87}],42:[function(e,t,n){(function(n,r){var i=e("xtend"),o=e("./abstract-iterator"),s=e("./abstract-chained-batch");function a(e){if(!arguments.length||e===undefined)throw new Error("constructor requires at least a location argument");if(typeof e!="string")throw new Error("constructor requires a location string argument");this.location=e}a.prototype.open=function(e,t){if(typeof e=="function")t=e;if(typeof t!="function")throw new Error("open() requires a callback argument");if(typeof e!="object")e={};if(typeof this._open=="function")return this._open(e,t);n.nextTick(t)};a.prototype.close=function(e){if(typeof e!="function")throw new Error("close() requires a callback argument");if(typeof this._close=="function")return this._close(e);n.nextTick(e)};a.prototype.get=function(e,t,r){var i;if(typeof t=="function")r=t;if(typeof r!="function")throw new Error("get() requires a callback argument");if(i=this._checkKeyValue(e,"key",this._isBuffer))return r(i);if(!this._isBuffer(e))e=String(e);if(typeof t!="object")t={};if(typeof this._get=="function")return this._get(e,t,r);n.nextTick(function(){r(new Error("NotFound"))})};a.prototype.put=function(e,t,r,i){var o;if(typeof r=="function")i=r;if(typeof i!="function")throw new Error("put() requires a callback argument");if(o=this._checkKeyValue(e,"key",this._isBuffer))return i(o);if(o=this._checkKeyValue(t,"value",this._isBuffer))return i(o);if(!this._isBuffer(e))e=String(e);if(!this._isBuffer(t)&&!n.browser)t=String(t);if(typeof r!="object")r={};if(typeof this._put=="function")return this._put(e,t,r,i);n.nextTick(i)};a.prototype.del=function(e,t,r){var i;if(typeof t=="function")r=t;if(typeof r!="function")throw new Error("del() requires a callback argument");if(i=this._checkKeyValue(e,"key",this._isBuffer))return r(i);if(!this._isBuffer(e))e=String(e);if(typeof t!="object")t={};if(typeof this._del=="function")return this._del(e,t,r);n.nextTick(r)};a.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if(typeof t=="function")r=t;if(typeof r!="function")throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));if(typeof t!="object")t={};var i=0,o=e.length,s,a;for(;i<o;i++){s=e[i];if(typeof s!="object")continue;if(a=this._checkKeyValue(s.type,"type",this._isBuffer))return r(a);if(a=this._checkKeyValue(s.key,"key",this._isBuffer))return r(a);if(s.type=="put"){if(a=this._checkKeyValue(s.value,"value",this._isBuffer))return r(a)}}if(typeof this._batch=="function")return this._batch(e,t,r);n.nextTick(r)};a.prototype.approximateSize=function(e,t,r){if(e==null||t==null||typeof e=="function"||typeof t=="function"){throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments")}if(typeof r!="function")throw new Error("approximateSize() requires a callback argument");if(!this._isBuffer(e))e=String(e);if(!this._isBuffer(t))t=String(t);if(typeof this._approximateSize=="function")return this._approximateSize(e,t,r);n.nextTick(function(){r(null,0)})};a.prototype._setupIteratorOptions=function(e){var t=this;e=i(e);["start","end","gt","gte","lt","lte"].forEach(function(n){if(e[n]&&t._isBuffer(e[n])&&e[n].length===0)delete e[n]});e.reverse=!!e.reverse;if(e.reverse&&e.lt)e.start=e.lt;if(e.reverse&&e.lte)e.start=e.lte;if(!e.reverse&&e.gt)e.start=e.gt;if(!e.reverse&&e.gte)e.start=e.gte;if(e.reverse&&e.lt&&!e.lte||!e.reverse&&e.gt&&!e.gte)e.exclusiveStart=true;return e};a.prototype.iterator=function(e){if(typeof e!="object")e={};e=this._setupIteratorOptions(e);if(typeof this._iterator=="function")return this._iterator(e);return new o(this)};a.prototype._chainedBatch=function(){return new s(this)};a.prototype._isBuffer=function(e){return r.isBuffer(e)};a.prototype._checkKeyValue=function(e,t){if(e===null||e===undefined)return new Error(t+" cannot be `null` or `undefined`");if(e===null||e===undefined)return new Error(t+" cannot be `null` or `undefined`");if(this._isBuffer(e)){if(e.length===0)return new Error(t+" cannot be an empty Buffer")}else if(String(e)==="")return new Error(t+" cannot be an empty String")};t.exports.AbstractLevelDOWN=a;t.exports.AbstractIterator=o;t.exports.AbstractChainedBatch=s}).call(this,e("_process"),e("buffer").Buffer)},{"./abstract-chained-batch":40,"./abstract-iterator":41,_process:87,buffer:76,xtend:44}],43:[function(e,t,n){t.exports=r;function r(e){return e!==null&&(typeof e==="object"||typeof e==="function")}},{}],44:[function(e,t,n){var r=e("object-keys");var i=e("./has-keys");t.exports=o;function o(){var e={};for(var t=0;t<arguments.length;t++){var n=arguments[t];if(!i(n)){continue}var o=r(n);for(var s=0;s<o.length;s++){var a=o[s];e[a]=n[a]}}return e}},{"./has-keys":43,"object-keys":46}],45:[function(e,t,n){var r=Object.prototype.hasOwnProperty;var i=Object.prototype.toString;var o=function(e){var t=typeof e==="function"&&!(e instanceof RegExp)||i.call(e)==="[object Function]";if(!t&&typeof window!=="undefined"){t=e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt}return t};t.exports=function s(e,t){if(!o(t)){throw new TypeError("iterator must be a function")}var n,i,s=typeof e==="string",a=e.length,u=arguments.length>2?arguments[2]:null;if(a===+a){for(n=0;n<a;n++){if(u===null){t(s?e.charAt(n):e[n],n,e)}else{t.call(u,s?e.charAt(n):e[n],n,e)}}}else{for(i in e){if(r.call(e,i)){if(u===null){t(e[i],i,e)}else{t.call(u,e[i],i,e)}}}}}},{}],46:[function(e,t,n){t.exports=Object.keys||e("./shim")},{"./shim":48}],47:[function(e,t,n){var r=Object.prototype.toString;t.exports=function i(e){var t=r.call(e);var i=t==="[object Arguments]";if(!i){i=t!=="[object Array]"&&e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&r.call(e.callee)==="[object Function]"}return i}},{}],48:[function(e,t,n){(function(){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=e("./foreach"),o=e("./isArguments"),s=!{toString:null}.propertyIsEnumerable("toString"),a=function(){}.propertyIsEnumerable("prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f;f=function l(e){var t=e!==null&&typeof e==="object",f=r.call(e)==="[object Function]",l=o(e),c=[];if(!t&&!f&&!l){throw new TypeError("Object.keys called on a non-object")}if(l){i(e,function(e){c.push(e)})}else{var h,p=a&&f;for(h in e){if(!(p&&h==="prototype")&&n.call(e,h)){c.push(h)}}}if(s){var d=e.constructor,v=d&&d.prototype===e;i(u,function(t){if(!(v&&t==="constructor")&&n.call(e,t)){c.push(t)}})}return c};t.exports=f})()},{"./foreach":45,"./isArguments":47}],49:[function(e,t,n){var r=e("events").EventEmitter;var i=e("level-sublevel");var o=e("weak-type-wizard");var s=e("noddity-retrieval");var a=e("extend");var u=e("./lib/reflect.js");var f=e("./lib/index_manager.js");var l=e("./lib/post_manager.js");var c=new o({postMetadata:"metadata",string:["content","filename"],"default":{content:"",filename:""},cast:{postMetadata:new o({date:"date",markdown:"boolean"})}});t.exports=function h(e,t,n){var o=typeof e==="string"?new s(e):e;var h=i(t);var p=new r;n=a({},n);var d=Object.create(p);var v=new l(o,h.sublevel("posts",{valueEncoding:c.getLevelUpEncoding()}),{refreshEvery:n.refreshEvery});var g=new f(o,v,h.sublevel("index",{valueEncoding:"json"}),{refreshEvery:n.refreshEvery});u("change",v,p,"post changed");u("post added",v,p);u("change",g,p,"index changed");g.on("change",g.getPosts);function m(e,t){if(typeof e==="function"){t=e}if(typeof e!=="object"){e={}}var n=e.local||false;var r=typeof e.mostRecent==="number"?-e.mostRecent:undefined;var i=n?g.getLocalPosts:g.getPosts;i(r,undefined,t)}function y(){v.stop();g.stop()}d.getPost=v.getPost;d.getPosts=m;d.allPostsAreLoaded=g.allPostsAreLoaded;d.stop=y;return d}},{"./lib/index_manager.js":50,"./lib/post_manager.js":51,"./lib/reflect.js":52,events:80,extend:54,"level-sublevel":10,"noddity-retrieval":58,"weak-type-wizard":60}],50:[function(e,t,n){var r=e("levelup-cache");var i=e("extend");var o=e("events").EventEmitter;var s=e("./reflect.js");function a(e,t){var n=e&&t&&e.metadata&&t.metadata&&e.metadata.date&&t.metadata.date;if(!n||e.metadata.date==t.metadata.date){return 0}else if(e.metadata.date<t.metadata.date){return-1}else{return 1}}function u(e,t){return e.length===t.length&&e.every(function(e,n){return t[n]===e})}var f="index";function l(e,t,n,s){s=i({refreshEvery:10*60*1e3,comparison:u},s);var l=Object.create(new o);var c=r(n,function(t,n){e.getIndex(n)},s);c.on("change",function(e,t){l.emit("change",t)});var h=c.get.bind(c,f);h();function p(e,t,n,r){if(typeof t==="function"){r=t}h(function(i,o){if(i){r(i)}else{e(o,function(e,i){if(!e){i=i.sort(a);if(typeof t==="number"){i=i.slice(t,n)}}r(e,i)})}})}var d=p.bind(null,t.getPosts);var v=p.bind(null,t.getLocalPosts);l.getPosts=d;l.getLocalPosts=v;l.allPostsAreLoaded=function(e){h(function(t,n){if(t){e(false,false)}else{v(function(t,r){e(t,t||r.length===n.length)})}})};l.stop=c.stop;return l}t.exports=l},{"./reflect.js":52,events:80,extend:54,"levelup-cache":55}],51:[function(e,t,n){var r=e("asynquence");var i=e("levelup-cache");var o=e("events").EventEmitter;var s=e("extend");var a=e("util").isDate;var u=e("./reflect.js");function f(e,t){return typeof t!=="undefined"&&a(e)?e.toString()===t.toString():e===t}function l(e,t){return e.content===t.content&&e.metadata.length===t.metadata.length&&e.filename===t.filename&&Object.keys(e.metadata).every(function(n){return f(e.metadata[n],t.metadata[n])})}function c(e,t,n){n=n||{};var a=Object.create(new o);var f=s({refreshEvery:12*60*60*1e3},n,{comparison:l});var c=new i(t,e.getPost,f);u("change",c,a);function h(e,t){c.get(e,t)}function p(e,t){var n=[];var i=false;var o=r();var s=e.map(function(e,t){return function(r){h(e,function(e,o){if(!i&&e){i=e}else if(!i){n[t]=o}r()})}});o.gate.apply(o,s).then(function(){t(i,n)})}function d(e,t){var n=[];var i=false;var o=r();var s=e.map(function(e){return function(t){c.getLocal(e,function(e,r){if(!i){if(!e){n.push(r)}else if(!e.notFound){i=e;o.abort()}}t()})}});o.gate.apply(o,s).then(function(e){t(i,n);e()})}a.getPost=h;a.getPosts=p;a.getLocalPosts=d;a.stop=c.stop;return a}t.exports=c},{"./reflect.js":52,asynquence:53,events:80,extend:54,"levelup-cache":55,util:107}],52:[function(e,t,n){t.exports=function r(e,t,n,i){if(typeof e==="string"){e=[e]}e.forEach(function(e){t.on(e,n.emit.bind(n,i||e))})}},{}],53:[function(e,t,n){!function(e,n,r){"undefined"!=typeof t&&t.exports?t.exports=r():"function"==typeof define&&define.amd?define(r):n[e]=r(e,n)}("ASQ",this,function(e,t){function n(e){return"undefined"!=typeof setImmediate?setImmediate(e):setTimeout(e,0)}function r(){function e(){function e(){clearTimeout(d),d=null,y.length=0,w.length=0,b.length=0,E.length=0}function t(){return g?r():(d||(d=n(r)),void 0)}function r(){var n,r;if(d=null,g)e();else if(v)for(;w.length;){n=w.shift();try{n.apply(n,E)}catch(o){E.push(o),o.stack&&E.push(o.stack),0===w.length&&console.error.apply(console,E)}}else if(m&&y.length>0){m=!1,n=y.shift(),r=b.slice(),b.length=0,r.unshift(i());try{n.apply(n,r)}catch(o){E.push(o),v=!0,t()}}}function i(){function e(){v||g||m||(m=!0,b.push.apply(b,arguments),E.length=0,t())}return e.fail=function(){v||g||m||(v=!0,b.length=0,E.push.apply(E,arguments),t())},e.abort=function(){v||g||(m=!1,g=!0,b.length=0,E.length=0,t())},e}function o(e,t,r){function i(){clearTimeout(d),d=b=E=p=null}function o(){return y?a():(d||(d=n(a)),void 0)}function a(){if(!(v||g||w)){var t,n=[];if(d=null,m)e.fail.apply(e,p),i();else if(y)e.abort(),i();else if(u()){for(w=!0,t=0;t<b.length;t++)n.push(E["m"+t]);e.apply(e,n),i()}}}function u(){if(!(v||g||m||y||w||0===b.length)){var e,t=!0;for(e=0;e<b.length;e++)if(null===b[e]){t=!1;break}return t}}function f(){function e(){if(!(v||g||m||y||w||b[t])){var e=s.call(arguments);E["m"+t]=e.length>1?e:e[0],b[t]=!0,o()}}var t=b.length;return e.fail=function(){v||g||m||y||w||b[t]||(m=!0,p=s.call(arguments),o())},e.abort=function(){v||g||m||y||w||(y=!0,a())},b[t]=null,e}var l,c,h,p,d,m=!1,y=!1,w=!1,b=[],E={};for(l=0;l<t.length&&!m&&!y;l++){c=r.slice(),c.unshift(f());try{t[l].apply(t[l],c)}catch(_){h=_,m=!0;break}}h&&e.fail(h)}function a(){return v||g?_:(arguments.length>0&&y.push.apply(y,arguments),t(),_)}function u(){return g?_:(w.push.apply(w,arguments),t(),_)}function f(){if(v||g||0===arguments.length)return _;var e=s.apply(arguments);return a(function(t){var n=s.call(arguments);n.shift(),o(t,e,n)}),_}function l(){if(v||g||0===arguments.length)return _;var e,t=s.call(arguments);for(e=0;e<t.length;e++)!function(e){a(function(t){var n=s.call(arguments,1);e.apply(e,n),t()}).or(e.fail)}(t[e]);return _}function c(){if(v||g||0===arguments.length)return _;var e,t=s.call(arguments);for(e=0;e<t.length;e++)!function(e){a(function(t){var n=s.call(arguments,1);e.apply(e,n).pipe(t)})}(t[e]);return _}function h(){if(v||g||0===arguments.length)return _;var e,t=s.call(arguments);for(e=0;e<t.length;e++)!function(e){a(function(t){var n=s.call(arguments,1);t(e.apply(e,n))})}(t[e]);return _}function p(){return v?_:(g=!0,r(),_)}var d,v=!1,g=!1,m=!0,y=[],w=[],b=[],E=[],_={then:a,or:u,gate:f,pipe:l,seq:c,val:h,abort:p};return arguments.length>0&&_.then.apply(_,arguments),_}return e}var i,o=(t||{})[e],s=Array.prototype.slice;return i=r(),i.noConflict=function(){return t&&(t[e]=o),i},i})},{}],54:[function(e,t,n){var r=Object.prototype.hasOwnProperty;var i=Object.prototype.toString;function o(e){if(!e||i.call(e)!=="[object Object]"||e.nodeType||e.setInterval)return false;var t=r.call(e,"constructor");var n=r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return false;var o;for(o in e){}return o===undefined||r.call(e,o)}t.exports=function s(){var e,t,n,r,i,a,u=arguments[0]||{},f=1,l=arguments.length,c=false;if(typeof u==="boolean"){c=u;u=arguments[1]||{};f=2}if(typeof u!=="object"&&typeof u!=="function"){u={}}for(;f<l;f++){if((e=arguments[f])!=null){for(t in e){n=u[t];r=e[t];if(u===r){continue}if(c&&r&&(o(r)||(i=Array.isArray(r)))){if(i){i=false;a=n&&Array.isArray(n)?n:[]}else{a=n&&o(n)?n:{}}u[t]=s(c,a,r)}else if(r!==undefined){u[t]=r}}}}return u}},{}],55:[function(e,t,n){var r=e("stringmap");var i=e("level-sublevel");var o=e("asynquence");var s=e("events").EventEmitter;var a=e("expire-unused-keys");var u=e("extend");t.exports=function f(e,t,n){n=n||{};n=u({refreshEvery:12*60*60*1e3,checkToSeeIfItemsNeedToBeRefreshedEvery:1e3,ttl:7*24*60*60*1e3,comparison:function w(e,t){return e===t}},n);var f=i(e);var l=f.sublevel("items");var c=new a(n.ttl,f.sublevel("item-expirations",{valueEncoding:"utf8"}),n.checkToSeeIfItemsNeedToBeRefreshedEvery);var h=new a(n.refreshEvery,f.sublevel("refresh",{valueEncoding:"utf8"}),n.checkToSeeIfItemsNeedToBeRefreshedEvery);var p=new r;var d=Object.create(new s);h.on("expire",m);c.on("expire",g);function v(){h.stop();c.stop()}function g(e){l.del(e);h.forget(e);var t=p.get(e);if(t){t.abort();p.remove(e)}}function m(e,r){var i=p.get(e);h.touch(e);if(!i){i=o(function(r){t(e,function(t,i){l.get(e,function(o,s){if(!t&&p.has(e)){l.put(e,i,function(){d.emit("load",e,i);if(o&&o.notFound||!n.comparison(s,i)){d.emit("change",e,i,s)}})}r(t,i)})})});p.set(e,i);i.then(function(t,n,r){p.remove(e);t(n,r)})}if(typeof r==="function"){i.then(function(e,t,n){r(t,n);e(t,n)})}}function y(e,t){return function(n,r){c.touch(e);if(typeof t==="function"){t(n,r)}}}d.stop=v;d.get=function b(e,t){l.get(e,function(n,r){if(n&&n.notFound){m(e,y(e,t))}else if(t){y(e,t)(n,r)}})};d.getLocal=function E(e,t){l.get(e,y(e,t))};d.refresh=function _(e,t){m(e,y(e,t))};return d}},{asynquence:53,events:80,"expire-unused-keys":56,extend:54,"level-sublevel":10,stringmap:57}],56:[function(e,t,n){var r=e("events").EventEmitter;function i(e){var t=false;function n(){t=false}return function r(){if(!t){t=true;e(n)}}}t.exports=function o(e,t,n){var o=new r;var s=[];function a(e){return e.filter(function(e){return s.indexOf(e)===-1})}var u=i(function l(n){var r=(new Date).getTime();var i=[];t.createReadStream().on("data",function(t){if(parseInt(t.value)+e<r){i.push(t.key)}}).on("end",function(){var e=a(i);var r=e.map(function(e){return{type:"del",key:e}});t.batch(r,function(t){if(!t){a(e).forEach(o.emit.bind(o,"expire"))}s=[];n(t)})})});o.on("touch",function c(e){t.put(e,(new Date).getTime())});o.on("forget",function h(e){s.push(e);t.del(e)});var f=setInterval(u,n||1e3);f.unref&&f.unref();o.touch=o.emit.bind(o,"touch");o.forget=o.emit.bind(o,"forget");o.stop=function p(){clearInterval(f)};return o}},{events:80}],57:[function(e,t,n){var r=function(){"use strict";var e=Object.prototype.hasOwnProperty;var t=function(){function t(t){for(var n in t){if(e.call(t,n)){return true}}return false}function n(t){return e.call(t,"__count__")||e.call(t,"__parent__")}var r=false;if(typeof Object.create==="function"){if(!t(Object.create(null))){r=true}}if(r===false){if(t({})){throw new Error("StringMap environment error 0, please file a bug at https://github.com/olov/stringmap/issues")}}var i=r?Object.create(null):{};var o=false;if(n(i)){i.__proto__=null;if(t(i)||n(i)){throw new Error("StringMap environment error 1, please file a bug at https://github.com/olov/stringmap/issues")}o=true}return function(){var e=r?Object.create(null):{};if(o){e.__proto__=null}return e}}();function n(e){if(!(this instanceof n)){return new n(e)}this.obj=t();this.hasProto=false;this.proto=undefined;if(e){this.setMany(e)}}n.prototype.has=function(t){if(typeof t!=="string"){throw new Error("StringMap expected string key")}return t==="__proto__"?this.hasProto:e.call(this.obj,t)};n.prototype.get=function(t){if(typeof t!=="string"){throw new Error("StringMap expected string key")}return t==="__proto__"?this.proto:e.call(this.obj,t)?this.obj[t]:undefined};n.prototype.set=function(e,t){if(typeof e!=="string"){throw new Error("StringMap expected string key")}if(e==="__proto__"){this.hasProto=true;this.proto=t}else{this.obj[e]=t}};n.prototype.remove=function(e){if(typeof e!=="string"){throw new Error("StringMap expected string key")}var t=this.has(e);if(e==="__proto__"){this.hasProto=false;this.proto=undefined}else{delete this.obj[e]}return t};n.prototype["delete"]=n.prototype.remove;n.prototype.isEmpty=function(){for(var t in this.obj){if(e.call(this.obj,t)){return false}}return!this.hasProto};n.prototype.size=function(){var t=0;for(var n in this.obj){if(e.call(this.obj,n)){++t}}return this.hasProto?t+1:t};n.prototype.keys=function(){var t=[];for(var n in this.obj){if(e.call(this.obj,n)){t.push(n)}}if(this.hasProto){t.push("__proto__")}return t};n.prototype.values=function(){var t=[];for(var n in this.obj){if(e.call(this.obj,n)){t.push(this.obj[n])}}if(this.hasProto){t.push(this.proto)}return t};n.prototype.items=function(){var t=[];for(var n in this.obj){if(e.call(this.obj,n)){t.push([n,this.obj[n]])}}if(this.hasProto){t.push(["__proto__",this.proto])}return t};n.prototype.setMany=function(t){if(t===null||typeof t!=="object"&&typeof t!=="function"){throw new Error("StringMap expected Object")}for(var n in t){if(e.call(t,n)){this.set(n,t[n])}}return this};n.prototype.merge=function(e){var t=e.keys();for(var n=0;n<t.length;n++){var r=t[n];this.set(r,e.get(r))}return this};n.prototype.map=function(e){var t=this.keys();for(var n=0;n<t.length;n++){var r=t[n];t[n]=e(this.get(r),r)}return t};n.prototype.forEach=function(e){var t=this.keys();for(var n=0;n<t.length;n++){var r=t[n];e(this.get(r),r)}};n.prototype.clone=function(){var e=n();return e.merge(this)};n.prototype.toString=function(){var e=this;return"{"+this.keys().map(function(t){return JSON.stringify(t)+":"+JSON.stringify(e.get(t))}).join(",")+"}"};return n}();if(typeof t!=="undefined"&&typeof t.exports!=="undefined"){t.exports=r}},{}],58:[function(e,t,n){var r=e("http");var i=e("url");var o=e("text-metadata-parser");t.exports=function s(e){var t=function(t,n,o){var s="";var a=i.resolve(e,t);r.get(i.parse(a),function(e){var t=typeof e.setEncoding!=="function";if(!t){e.setEncoding("utf8")}e.on("data",function(e){if(s!==null){s+=e}});e.on("error",function(e){s=null;n(e)});e.on("end",function(t){if(s!==null){if(typeof t!=="undefined"){s+=t}if(e.statusCode!==200){n(new Error("Lookup of "+a+" returned status "+e.statusCode+"\n========\n"+s))}else{var r=null;try{r=o(s)}catch(i){n(new Error("Error parsing file with contents:\n"+s+"\n==========\n"+i.message))}if(r!==null){n(false,r)}}}})}).on("error",function(e){n(new Error("Lookup of "+a+" failed\n========\n"+e.message))})};return{getIndex:function(e){t("index.json",e,JSON.parse)},getPost:function(e,n){t(e,n,function(t){var n=o(t,{date:"date","boolean":"markdown"});n.filename=e;return n})}}}},{http:81,"text-metadata-parser":59,url:105}],59:[function(e,t,n){var r=e("weak-type-wizard");function i(e){var t=e.split("\n");var n=false;var r=false;var i={content:"",metadata:{}};for(var o=0;o<t.length&&!r;o++){if(!n){var s=/^([^:]+):\s*([^\r\n]+)\s*$/.exec(t[o]);if(s&&s.length===3){var a=s[1].trim();i.metadata[a]=s[2]}else if(o===0){return{content:e,metadata:{}}}else{n=true}}else if(!r){r=!/^\s*$/.test(t[o])}}i.content=t.slice(o-1).join("\n");return i}function o(e,t){var n=i(t);n.metadata=e(n.metadata);return n}function s(e,t,n){var r=typeof t!=="string";if(typeof n==="undefined"&&typeof t!=="string"){n=t}var i=typeof n==="object"?e.extend(n):e;if(r){return s.bind(null,i)}else{return o(i,t)}}t.exports=s.bind(null,new r({}))},{"weak-type-wizard":60}],60:[function(e,t,n){var r=e("extend");var i={"boolean":function(e){return e.toString().toLowerCase()!=="false"&&!(/^\d+$/.test(e)&&parseInt(e)!==0)},number:function(e){return parseFloat(e)},string:function(e){return e.toString()},date:function(e){return new Date(e)}};function o(e){return Object.keys(e).reduce(function(t,n){return r(true,t,s(e[n],n))},{})}function s(e,t){if(typeof e==="string"){return s([e],t)}else if(Array.isArray(e)){return e.reduce(function(e,n){e[n]=t;return e},{})}else{return{}}}function a(e,t,n){Object.keys(t).filter(function(t){return typeof e[t]!=="undefined"}).forEach(function(r){var i=n[e[r]];if(typeof i==="function"){t[r]=i(t[r])}});return t}function u(e,t,n){var s=function f(i){var o=r(true,{},t,i);return a(e,o,n)};s.extend=function l(s){var a=s.default;delete s.default;var f=s.cast;delete s.cast;var l=o(s);return new u(r(true,{},e,l),r(true,{},t,a),r(true,{},i,n,f))};s.getLevelUpEncoding=function c(){return{buffer:false,type:"weak-type-wizard",encode:JSON.stringify,decode:function e(t){return s(JSON.parse(t))
}}};return s}var f=new u({},{});t.exports=function l(e){return f.extend(e)}},{extend:54}],61:[function(e,t,n){var r=e("events").EventEmitter;function i(e,t){var n=0;var r=t.indexOf(e);while(r!==-1){n++;r=t.indexOf(e,r+1)}return n}function o(e,t,n){return n.replace(/\[\[([\w.-]+)(?:\|([^\]>\n]+))?\]\]/gm,function(n,r,o,s,a){var u=i("<code",a.substr(0,s));var f=i("</code",a.substr(0,s));if(u!==f){return n}else{o=o||r;e.emit("link",r);return'<a href="'+t+r+'">'+o+"</a>"}})}t.exports=function s(e){var t=Object.create(new r);t.linkify=o.bind(null,t,e);return t}},{events:80}],62:[function(e,t,n){var r=e("./mixins");function i(e,t){var n=r(e,t);function i(e){n.mixinHtml(e);n.parseTemplate(e);n.mixinChildPosts(e);n.mixinRenderedHtmlEmitter(e);e.on("all child posts fetched",function(e){e.templateElements.forEach(i)})}function o(e,t){var r=n.makeNewMixinObject(e);i(r);r.on("final html rendered",function(e){t(null,e.renderedHtml)})}function s(e){n.mixinHtml(e);n.parseTemplate(e);n.mixinTemplateRactive(e);n.updateEmitterMixin(e);n.mixinTeardownChildren(e);n.mixinChildPosts(e);e.on("child post fetched",function(t){if(!e.torndown){s(t);e.children.push(t)}});e.on("post changed",function(t){var r=n.makeNewMixinObject(t);r.elementId=e.elementId;r.data=e.data;e.ractive.teardown();e.removeAllListeners();s(r)});e.ractive.on("teardown",function t(){e.torndown=true;e.teardownChildren();e.removeAllListeners()})}function a(e){function t(t){e.teardownChildren();u(t,e.ractive)}e.on("post changed",t);e.change=function(n){e.removeListener("post changed",t);t(n)};e.ractive.on("teardown",function(){e.teardownChildren();e.torndown=true})}function u(e,t){var r=n.makeNewMixinObject(e);r.ractive=t;n.mixinHtml(r);n.parseTemplate(r);n.updateEmitterMixin(r);n.mixinTeardownChildren(r);n.mixinChildPosts(r);a(r);r.on("child post fetched",function(e){if(!r.torndown){s(e);r.children.push(e)}});t.set("html",r.html);t.set("metadata",e.metadata);t.set("current",e.filename);return r.change}return{populateRootRactive:u,renderPost:o}}t.exports=i},{"./mixins":63}],63:[function(e,t,n){(function(n){var r=e("./templateToolbox.js");var i=r.htmlify;var o=e("events").EventEmitter;var s=e("ractive");var a=e("./updateEmitterMixin.js");var u=s.parse("{{error}}");function f(e){try{return new s({el:null,data:e.data,template:e.renderedHtml||e.html,preserveWhitespace:true}).toHTML()}catch(t){e.emit("error",t);return t.message}}function l(e){var t=Object.create(new o);if(e){t.post=e;t.postName=e.filename}return t}function c(e,t){var n=r.generatePostDiv(t.elementId);var i=e.renderedHtml||e.html;e.renderedHtml=i.replace(n,t.renderedHtml);return e}function h(e,t){var r=0;function i(){t.emit("all child posts fetched",t)}t.templateElements.forEach(function(n){e(n.postName,function(e,o){r+=1;if(e){n.err=e}else{n.post=o;t.emit("child post fetched",n)}if(r===t.templateElements.length){i()}})});if(t.templateElements.length===0){n.nextTick(i)}return t}function p(e,t){t.html=e(i(t.post));return t}function d(e){e.on("all child posts fetched",function(e){if(e.templateElements.length===0){e.renderedHtml=f(e);n.nextTick(function(){e.emit("final html rendered",e)})}else{var t=0;var r=function i(n){c(e,n);t+=1;if(t>=e.templateElements.length){e.renderedHtml=f(e);e.emit("final html rendered",e)}};e.templateElements.forEach(function(e){e.once("final html rendered",r)})}});return e}function v(e){try{e.ractive=new s({el:e.elementId,data:e.data,template:e.html,preserveWhitespace:true})}catch(t){e.ractive=new s({el:e.elementId,data:{error:t.message},template:u});e.emit("error",t)}e.emit("ractive created",e)}function g(e){e.children=[];e.teardownChildren=function t(){e.children.forEach(function(e){if(e.ractive){e.ractive.teardown()}e.torndown=true})}}t.exports=function(t,n){return{mixinHtml:p.bind(null,n),makeNewMixinObject:l,mixinRenderedHtmlEmitter:d,parseTemplate:e("./parseTemplate"),mixinChildPosts:h.bind(null,t.getPost),updateEmitterMixin:a(t),mixinTemplateRactive:v,mixinTeardownChildren:g}}}).call(this,e("_process"))},{"./parseTemplate":66,"./templateToolbox.js":67,"./updateEmitterMixin.js":68,_process:87,events:80,ractive:64}],64:[function(e,t,n){(function(e){"use strict";var n=e.Ractive;var r=undefined;var i=function(){var e,t;e={el:null,template:"",complete:null,preserveWhitespace:false,append:false,twoway:true,modifyArrays:true,lazy:false,debug:false,noIntro:false,transitionsEnabled:true,magic:false,noCssTransform:false,adapt:[],sanitize:false,stripComments:true,isolated:false,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],computed:null};t={keys:Object.keys(e),defaults:e};return t}(r);var o=function(){if(typeof document==="undefined"){return}return document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();var s={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};var a=function(e,t){if(!e){return function(e,n){if(n&&n!==t.html){throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information"}return document.createElement(e)}}else{return function(e,n){if(!n||n===t.html){return document.createElement(e)}return document.createElementNS(n,e)}}}(o,s);var u=typeof document==="object";var f=function(e){try{Object.defineProperty({},"test",{value:0});if(e){Object.defineProperty(document.createElement("div"),"test",{value:0})}return Object.defineProperty}catch(t){return function(e,t,n){e[t]=n.value}}}(u);var l=function(e,t,n){try{try{Object.defineProperties({},{test:{value:0}})}catch(r){throw r}if(n){Object.defineProperties(e("div"),{test:{value:0}})}return Object.defineProperties}catch(r){return function(e,n){var r;for(r in n){if(n.hasOwnProperty(r)){t(e,r,n[r])}}}}}(a,f,u);var c=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};var h=function(e){return function(t,n,r){var i;if(typeof n!=="string"||!e(r)){throw new Error("Bad arguments")}i=+t.get(n)||0;if(!e(i)){throw new Error("Cannot add to a non-numeric value")}return t.set(n,i+r)}}(c);var p=function(e){return function(t,n){return e(this,t,n===undefined?1:+n)}}(h);var d=function(e,t){if(e===null&&t===null){return true}if(typeof e==="object"||typeof t==="object"){return false}return e===t};var v=function(){var e,t={},n={},r={};e=function(a){var u=[],f=[],l=t,c,h,p,d,v,g;p=function(e){return function(r){if(l!==t){return}c=r;l=e;h=o(l===n?u:f,c);i(h)}};d=p(n);v=p(r);a(d,v);g={then:function(n,r){var o=new e(function(e,a){var c=function(t,n,r){if(typeof t==="function"){n.push(function(n){var r;try{r=t(n);s(o,r,e,a)}catch(i){a(i)}})}else{n.push(r)}};c(n,u,e);c(r,f,a);if(l!==t){i(h)}});return o}};g["catch"]=function(e){return this.then(null,e)};return g};e.all=function(t){return new e(function(e,n){var r=[],i,o,s;if(!t.length){e(r);return}s=function(o){t[o].then(function(t){r[o]=t;if(!--i){e(r)}},n)};i=o=t.length;while(o--){s(o)}})};e.resolve=function(t){return new e(function(e){e(t)})};e.reject=function(t){return new e(function(e,n){n(t)})};return e;function i(e){setTimeout(e,0)}function o(e,t){return function(){var n;while(n=e.shift()){n(t)}}}function s(t,n,r,i){var o;if(n===t){throw new TypeError("A promise's fulfillment handler cannot return the same promise")}if(n instanceof e){n.then(r,i)}else if(n&&(typeof n==="object"||typeof n==="function")){try{o=n.then}catch(a){i(a);return}if(typeof o==="function"){var u,f,l;f=function(e){if(u){return}u=true;s(t,e,r,i)};l=function(e){if(u){return}u=true;i(e)};try{o.call(n,f,l)}catch(a){if(!u){i(a);u=true;return}}}else{r(n)}}else{r(n)}}}();var g=function(){var e=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function t(n){return(n||"").replace(e,".$1")}}();var m=["o","ms","moz","webkit"];var y=function(e){if(typeof window==="undefined"){return}(function(e,t,n){var r,i;if(n.requestAnimationFrame){return}for(r=0;r<e.length&&!n.requestAnimationFrame;++r){n.requestAnimationFrame=n[e[r]+"RequestAnimationFrame"]}if(!n.requestAnimationFrame){i=n.setTimeout;n.requestAnimationFrame=function(e){var n,r,o;n=Date.now();r=Math.max(0,16-(n-t));o=i(function(){e(n+r)},r);t=n+r;return o}}})(e,0,window);return window.requestAnimationFrame}(m);var w=function(){if(typeof window!=="undefined"&&window.performance&&typeof window.performance.now==="function"){return function(){return window.performance.now()}}else{return function(){return Date.now()}}}();var b=[];var E=function(e,t){var n=e.indexOf(t);if(n!==-1){e.splice(n,1)}};var _=function(e,t,n){var r,i,o,s,a,u="/* Ractive.js component styles */\n",f={},l=[];if(!t){return}e.push(function(){r=e.runloop});i=document.createElement("style");i.type="text/css";o=document.getElementsByTagName("head")[0];a=false;s=i.styleSheet;return{add:function(e){if(!e.css){return}if(!f[e._guid]){f[e._guid]=0;l.push(e.css);r.scheduleCssUpdate()}f[e._guid]+=1},remove:function(e){if(!e.css){return}f[e._guid]-=1;if(!f[e._guid]){n(l,e.css);r.scheduleCssUpdate()}},update:function(){var e;if(l.length){e=u+l.join(" ");if(s){s.cssText=e}else{i.innerHTML=e}if(!a){o.appendChild(i)}}else if(a){o.removeChild(i)}}}}(b,u,E);var x=function(e,t){var n,r,i,o,s,a;n=[];a=e._rendering?e.fragment.docFrag:e.el;r=a.querySelectorAll('input[type="checkbox"][name="{{'+t+'}}"]');o=r.length;for(s=0;s<o;s+=1){i=r[s];if(i.hasAttribute("checked")||i.checked){n.push(i._ractive.value)}}return n};var k=Object.prototype.hasOwnProperty;var S=function(e){do{if(e.context){return e.context}}while(e=e.parent);return""};var O=function(e,t,n,r){var i,o='Could not resolve reference - too many "../" prefixes';e.push(function(){i=e.get});return function s(e,a,u){var f,l,c,h,p,d,v,g,m;a=t(a);if(a==="."){return r(u)}if(a.charAt(0)==="."){f=r(u);l=f?f.split("."):[];if(a.substr(0,3)==="../"){while(a.substr(0,3)==="../"){if(!l.length){throw new Error(o)}l.pop();a=a.substring(3)}l.push(a);return l.join(".")}if(!f){return a.substring(1)}return f+a}c=a.split(".");h=c.pop();p=c.length?"."+c.join("."):"";do{f=u.context;if(!f){continue}m=true;d=f+p;v=i(e,d);if(g=e._wrapped[d]){v=g.get()}if(v&&(typeof v==="object"||typeof v==="function")&&h in v){return f+"."+a}}while(u=u.parent);if(!m&&(!e._parent||e.isolated)){return a}if(n.call(e.data,a)){return a}else if(i(e,a)!==undefined){return a}}}(b,g,k,S);var T=function po(e){var t=[""],n,r,i,o;n=e.length;while(n--){r=e[n];i=r.split(".");while(i.length>1){i.pop();o=i.join(".");if(t[o]!==true){t.push(o);t[o]=true}}}return t};var A=function(){var e,t={};e=/[^\.]+$/;function n(e,t,n){var i;if(e._patternObservers.length){s(e,t,t,n,true)}for(i=0;i<e._deps.length;i+=1){r(e,t,i,n)}}n.multiple=function f(e,t,n){var i,o,a;a=t.length;if(e._patternObservers.length){i=a;while(i--){s(e,t[i],t[i],n,true)}}for(i=0;i<e._deps.length;i+=1){if(e._deps[i]){o=a;while(o--){r(e,t[o],i,n)}}}};return n;function r(e,t,n,r){var s=e._deps[n];if(!s){return}i(s[t]);if(r){return}o(e._depsMap[t],e,n)}function i(e){var t,n;if(e){n=e.length;for(t=0;t<n;t+=1){e[t].update()}}}function o(e,t,n,i){var o;if(e){o=e.length;while(o--){r(t,e[o],n,i)}}}function s(t,n,r,i,o){var u,f,l,c,h,p,d,v;u=t._patternObservers.length;while(u--){f=t._patternObservers[u];if(f.regex.test(r)){f.update(r)}}if(i){return}v=function(n){if(l=t._depsMap[n]){u=l.length;while(u--){c=l[u];h=e.exec(c)[0];p=r?r+"."+h:h;s(t,c,p)}}};if(o){d=a(r);d.forEach(v)}else{v(n)}}function a(e){var t,n,r,i,o,s;t=e.split(".");n=u(t.length);o=[];r=function(e,n){return e?"*":t[n]};i=n.length;while(i--){s=n[i].map(r).join(".");if(!o[s]){o.push(s);o[s]=true}}return o}function u(e){var n="",r,i,o,s,a;if(!t[e]){o=[];while(n.length<e){n+=1}r=parseInt(n,2);s=function(e){return e==="1"};for(a=0;a<=r;a+=1){i=a.toString(2);while(i.length<e){i="0"+i}o[a]=Array.prototype.map.call(i,s)}t[e]=o}return t[e]}}();var N=function(e){var t,n,r,i;t=function(e,t){var o=[];o.detachQueue=[];o.remove=r;o.init=i;o._check=n;o._callback=e;o._previous=t;if(t){t.push(o)}return o};n=function(){var e;if(this._ready&&!this.length){while(e=this.detachQueue.pop()){e.detach()}if(typeof this._callback==="function"){this._callback()}if(this._previous){this._previous.remove(this)}}};r=function(t){e(this,t);this._check()};i=function(){this._ready=true;this._check()};return t}(E);var R=function(e,t,n,r,i,o,s,a){e.push(function(){f=e.get;l=e.set});var u,f,l,c=false,h=false,p,d=0,v=null,g=[],m=[],y=[],w=[],b=[],E=[],_=[],x=[],k=[],S={},O=[],T=[],A=[],N=[],R;u={start:function(e,t){this.addInstance(e);if(!h){d+=1;R=a(t,R)}},end:function(){if(h){I();return}if(!--d){h=true;L();h=false;C()}R.init();R=R._previous},trigger:function(){if(d||h){I();return}h=true;L();h=false;C()},focus:function(e){v=e},addInstance:function(e){if(e&&!N[e._guid]){N.push(e);N[N._guid]=true}},addLiveQuery:function(e){g.push(e)},addDecorator:function(e){m.push(e)},addTransition:function(e){e._manager=R;R.push(e);y.push(e)},addObserver:function(e){w.push(e)},addAttribute:function(e){b.push(e)},addBinding:function(e){e.active=true;E.push(e)},scheduleCssUpdate:function(){if(!d&&!h){t.update()}else{p=true}},addEvaluator:function(e){c=true;_.push(e)},addComputation:function(e){c=true;x.push(e)},addSelectValue:function(e){c=true;k.push(e)},addCheckbox:function(e){if(!S[e.keypath]){c=true;O.push(e)}},addRadio:function(e){c=true;T.push(e)},addUnresolved:function(e){c=true;A.push(e)},removeUnresolved:function(e){n(A,e)},detachWhenReady:function(e){R.detachQueue.push(e)}};e.runloop=u;return u;function C(){var e,n,r;if(v){v.focus();v=null}while(e=b.pop()){e.update().deferred=false}while(e=g.pop()){e._sort()}while(e=m.pop()){e.init()}while(e=y.pop()){e.init()}while(e=w.pop()){e.update()}while(e=E.pop()){e.active=false}while(e=N.pop()){N[e._guid]=false;if(e._changes.length){r={};while(n=e._changes.pop()){r[n]=f(e,n)}e.fire("change",r)}}if(p){t.update();p=false}}function L(){var e,t,n;n=N.length;while(n--){e=N[n];if(e._changes.length){t=o(e._changes);s.multiple(e,t,true)}}I();while(c){c=false;while(e=x.pop()){e.update()}while(e=_.pop()){e.update().deferred=false}while(e=k.pop()){e.deferredUpdate()}while(e=O.pop()){l(e.root,e.keypath,r(e.root,e.keypath))}while(e=T.pop()){e.update()}}}function I(){var e,t,n;if(!A.length){return}e=A.splice(0,A.length);while(t=e.pop()){if(t.keypath){continue}n=i(t.root,t.ref,t.parentFragment);if(n!==undefined){t.resolve(n)}else{A.push(t)}}}}(b,_,E,x,O,T,A,N);var C=function(e,t,n){var r=[];var i={tick:function(){var o,s,a;a=t();n.start();for(o=0;o<r.length;o+=1){s=r[o];if(!s.tick(a)){r.splice(o--,1)}}n.end();if(r.length){e(i.tick)}else{i.running=false}},add:function(t){r.push(t);if(!i.running){i.running=true;e(i.tick)}},abort:function(e,t){var n=r.length,i;while(n--){i=r[n];if(i.root===t&&i.keypath===e){i.stop()}}}};return i}(y,w,R);var L=function(){var e=Object.prototype.toString;return function(t){return e.call(t)==="[object Array]"}}();var I=function(e){return function(t){var n,r;if(!t||typeof t!=="object"){return t}if(e(t)){return t.slice()}n={};for(r in t){if(t.hasOwnProperty(r)){n[r]=t[r]}}return n}}(L);var j={};var P=function(e,t,n){switch(t){case"splice":return n;case"sort":case"reverse":return null;case"pop":if(e.length){return[-1]}return null;case"push":return[e.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}};var M=function(e,t){var n,r,i,o;if(!t){return null}n=+(t[0]<0?e.length+t[0]:t[0]);r=Math.max(0,t.length-2);i=t[1]!==undefined?t[1]:e.length-n;i=Math.min(i,e.length-n);o=r-i;return{start:n,balance:o,added:r,removed:i}};var F={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40};var D=function vo(e,t,n){var r,i;if(!n){if(i=e._wrapped[t]){if(i.teardown()!==false){e._wrapped[t]=null}}}e._cache[t]=undefined;if(r=e._cacheMap[t]){while(r.length){vo(e,r.pop())}}};var B=function(){var e=/^\s*[0-9]+\s*$/;return function(t){return e.test(t)?[]:{}}}();var U=function(e,t,n,r,i){var o;e.push(function(){o=e.get});function s(e,a,u,f){var l,c,h,p,d,v,g,m;if(t(e._cache[a],u)){return}d=e._computations[a];v=e._wrapped[a];g=e._evaluators[a];if(d&&!d.setting){d.set(u)}if(v&&v.reset){m=v.reset(u)!==false;if(m){u=v.get()}}if(g){g.value=u}if(!d&&!g&&!m){l=a.split(".");c=l.pop();h=l.join(".");v=e._wrapped[h];if(v&&v.set){v.set(c,u)}else{p=v?v.get():o(e,h);if(!p){p=n(c);s(e,h,p,true)}p[c]=u}}r(e,a,m);if(!f){e._changes.push(a);i(e,a)}}e.set=s;return s}(b,d,B,D,A);var V=function(e,t,n,r){return function(i,o,s,a){var u,f,l,c,h,p,d,v,g,m;u=i.root;f=i.keypath;u._changes.push(f);if(s==="sort"||s==="reverse"){r(u,f,o);return}if(!a){return}l=!a.balance?a.added:o.length-Math.min(a.balance,0);for(h=a.start;h<l;h+=1){t(u,f+"."+h)}c=function(t){if(t.keypath===f&&t.type===e.SECTION&&!t.inverted&&t.docFrag){t.splice(a)}else{t.update()}};u._deps.forEach(function(e){var t=e[f];if(t){t.forEach(c)}});if(a.added&&a.removed){p=Math.max(a.added,a.removed);d=a.start;v=d+p;m=a.added===a.removed;for(h=d;h<v;h+=1){g=f+"."+h;n(u,g)}}if(!m){t(u,f+".length");n(u,f+".length",true)}}}(F,D,A,U);var W=function(e,t,n,r,i){var o=[],s=["pop","push","reverse","shift","sort","splice","unshift"],a,u,f;s.forEach(function(s){var a=function(){var t,o,a,u,f;t=n(this,s,Array.prototype.slice.call(arguments));o=r(this,t);a=Array.prototype[s].apply(this,arguments);this._ractive.setting=true;f=this._ractive.wrappers.length;while(f--){u=this._ractive.wrappers[f];e.start(u.root);i(u,this,s,o);e.end()}this._ractive.setting=false;return a};t(o,s,{value:a})});a={};if(a.__proto__){u=function(e){e.__proto__=o};f=function(e){e.__proto__=Array.prototype}}else{u=function(e){var n,r;n=s.length;while(n--){r=s[n];t(e,r,{value:o[r],configurable:true})}};f=function(e){var t;t=s.length;while(t--){delete e[s[t]]}}}u.unpatch=f;return u}(R,f,P,M,V);var q=function(e,t,n){var r,i,o;r={filter:function(e){return t(e)&&(!e._ractive||!e._ractive.setting)},wrap:function(e,t,n){return new i(e,t,n)}};i=function(t,r,i){this.root=t;this.value=r;this.keypath=i;if(!r._ractive){e(r,"_ractive",{value:{wrappers:[],instances:[],setting:false},configurable:true});n(r)}if(!r._ractive.instances[t._guid]){r._ractive.instances[t._guid]=0;r._ractive.instances.push(t)}r._ractive.instances[t._guid]+=1;r._ractive.wrappers.push(this)};i.prototype={get:function(){return this.value},teardown:function(){var e,t,r,i,s;e=this.value;t=e._ractive;r=t.wrappers;i=t.instances;if(t.setting){return false}s=r.indexOf(this);if(s===-1){throw new Error(o)}r.splice(s,1);if(!r.length){delete e._ractive;n.unpatch(this.value)}else{i[this.root._guid]-=1;if(!i[this.root._guid]){s=i.indexOf(this.root);if(s===-1){throw new Error(o)}i.splice(s,1)}}}};o="Something went wrong in a rather interesting way";return r}(f,L,W);var z=function(e,t,n,r,i){var o,s;try{Object.defineProperty({},"test",{value:0})}catch(a){return false}o={filter:function(e,t,r){var i,o,s,a,u;if(!t){return false}i=t.split(".");o=i.pop();s=i.join(".");if((a=r._wrapped[s])&&!a.magic){return false}u=r.get(s);if(n(u)&&/^[0-9]+$/.test(o)){return false}return u&&(typeof u==="object"||typeof u==="function")},wrap:function(e,t,n){return new s(e,t,n)}};s=function(e,t,n){var r,i,o,s;this.magic=true;this.ractive=e;this.keypath=n;this.value=t;r=n.split(".");this.prop=r.pop();i=r.join(".");this.obj=i?e.get(i):e.data;o=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop);if(o&&o.set&&(s=o.set._ractiveWrappers)){if(s.indexOf(this)===-1){s.push(this)}return}u(this,t,o)};s.prototype={get:function(){return this.value},reset:function(e){if(this.updating){return}this.updating=true;this.obj[this.prop]=e;r(this.ractive,this.keypath);this.updating=false},set:function(e,n){if(this.updating){return}if(!this.obj[this.prop]){this.updating=true;this.obj[this.prop]=t(e);this.updating=false}this.obj[this.prop][e]=n},teardown:function(){var e,t,n,r,i;if(this.updating){return false}e=Object.getOwnPropertyDescriptor(this.obj,this.prop);t=e&&e.set;if(!t){return}r=t._ractiveWrappers;i=r.indexOf(this);if(i!==-1){r.splice(i,1)}if(!r.length){n=this.obj[this.prop];Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:true,enumerable:true,configurable:true});this.obj[this.prop]=n}}};function u(t,n,o){var s,a,u,f,l,c;s=t.obj;a=t.prop;if(o&&!o.configurable){if(a==="length"){return}throw new Error('Cannot use magic mode with property "'+a+'" - object is not configurable')}if(o){u=o.get;f=o.set}l=u||function(){return n};c=function(e){if(f){f(e)}n=u?u():e;c._ractiveWrappers.forEach(h)};function h(t){var o,s;t.value=n;if(t.updating){return}s=t.ractive;o=t.keypath;t.updating=true;e.start(s);s._changes.push(o);r(s,o);i(s,o);e.end();t.updating=false}c._ractiveWrappers=[t];Object.defineProperty(s,a,{get:l,set:c,enumerable:true,configurable:true})}return o}(R,B,L,D,A);var H=function(e,t){if(!e){return false}var n,r;n={filter:function(n,r,i){return e.filter(n,r,i)&&t.filter(n)},wrap:function(e,t,n){return new r(e,t,n)}};r=function(n,r,i){this.value=r;this.magic=true;this.magicWrapper=e.wrap(n,r,i);this.arrayWrapper=t.wrap(n,r,i)};r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown();this.magicWrapper.teardown()},reset:function(e){return this.magicWrapper.reset(e)}};return n}(z,q);var $=function(e,t,n,r){var i={};return function a(i,o,u,f){var l,c,h,p;l=i.adapt.length;for(c=0;c<l;c+=1){h=i.adapt[c];if(typeof h==="string"){if(!e[h]){throw new Error('Missing adaptor "'+h+'"')}h=i.adapt[c]=e[h]}if(h.filter(u,o,i)){p=i._wrapped[o]=h.wrap(i,u,o,s(o));p.value=u;return u}}if(!f){if(i.magic){if(r.filter(u,o,i)){i._wrapped[o]=r.wrap(i,u,o)}else if(n.filter(u,o,i)){i._wrapped[o]=n.wrap(i,u,o)}}else if(i.modifyArrays&&t.filter(u,o,i)){i._wrapped[o]=t.wrap(i,u,o)}}return u};function o(e,t){var n={},r;if(!t){return e}t+=".";for(r in e){if(e.hasOwnProperty(r)){n[t+r]=e[r]}}return n}function s(e){var t;if(!i[e]){t=e?e+".":"";i[e]=function(n,r){var i;if(typeof n==="string"){i={};i[t+n]=r;return i}if(typeof n==="object"){return t?o(n,e):n}}}return i[e]}}(j,q,z,H);var K=function(){return function t(n){var r,i,o,s,a;o=n.root;s=n.keypath;a=n.priority;r=o._deps[a]||(o._deps[a]={});i=r[s]||(r[s]=[]);i.push(n);n.registered=true;if(!s){return}e(o,s)};function e(e,t){var n,r,i;n=t.split(".");while(n.length){n.pop();r=n.join(".");i=e._depsMap[r]||(e._depsMap[r]=[]);if(i[t]===undefined){i[t]=0;i[i.length]=t}i[t]+=1;t=r}}}();var G=function(){return function t(n){var r,i,o,s,a;o=n.root;s=n.keypath;a=n.priority;r=o._deps[a][s];i=r.indexOf(n);if(i===-1||!n.registered){throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks")}r.splice(i,1);n.registered=false;if(!s){return}e(o,s)};function e(e,t){var n,r,i;n=t.split(".");while(n.length){n.pop();r=n.join(".");i=e._depsMap[r];i[t]-=1;if(!i[t]){i.splice(i.indexOf(t),1);i[t]=undefined}t=r}}}();var Y=function(e,t,n,r,i,o){var s,a;e.push(function(){s=e.get;a=e.set});var u=function(e,t,n,r,o){this.root=e;this.keypath=t;this.priority=o;this.otherInstance=n;this.otherKeypath=r;i(this);this.value=s(this.root,this.keypath)};u.prototype={update:function(){var e;if(this.updating||this.counterpart&&this.counterpart.updating){return}e=s(this.root,this.keypath);if(n(e)&&e._ractive&&e._ractive.setting){return}if(!r(e,this.value)){this.updating=true;t.addInstance(this.otherInstance);a(this.otherInstance,this.otherKeypath,e);this.value=e;this.updating=false}},reassign:function(e){o(this);o(this.counterpart);this.keypath=e;this.counterpart.otherKeypath=e;i(this);i(this.counterpart)},teardown:function(){o(this)}};return function f(e,t,n,r){var i,o,s,a,f,l;i=n+"="+r;s=e.bindings;if(s[i]){return}s[i]=true;o=e.instance;a=e.parentFragment.priority;f=new u(t,n,o,r,a);s.push(f);if(o.twoway){l=new u(o,r,t,n,1);s.push(l);f.counterpart=l;l.counterpart=f}}}(b,R,L,d,K,G);var J=function(e,t,n){var r;e.push(function(){r=e.get});return function o(e,t){var n,o,s,a,u;n=e._parent;o=e.component.parentFragment;if(o.indexRefs&&(u=o.indexRefs[t])!==undefined){e.component.indexRefBindings[t]=t;return u}do{if(!o.context){continue}s=o.context+"."+t;a=r(n,s);if(a!==undefined){i(n,e,s,t,a);return a}}while(o=o.parent);a=r(n,t);if(a!==undefined){i(n,e,t,t,a);return a}};function i(e,r,i,o,s){n(r,o,s,true);t(r.component,e,i,o)}}(b,Y,U);var Q={FAILED_LOOKUP:true};var X=function(e,t,n,r,i,o){function s(e,t,n){var s=e._cache,u,f,l,c;if(s[t]===undefined){if(f=e._computations[t]){u=f.value}else if(l=e._wrapped[t]){u=l.value}else if(!t){r(e,"",e.data);u=e.data}else if(c=e._evaluators[t]){u=c.value}else{u=a(e,t)}s[t]=u}else{u=s[t]}if(u===o){if(e._parent&&!e.isolated){u=i(e,t,n)}else{u=undefined}}if(n&&n.evaluateWrapped&&(l=e._wrapped[t])){u=l.get()}return u}e.get=s;return s;function a(e,i){var a,u,f,l,c,h,p,d;a=i.split(".");u=a.pop();f=a.join(".");l=s(e,f);if(p=e._wrapped[f]){l=p.get()}if(l===null||l===undefined){return}if(!(c=e._cacheMap[f])){e._cacheMap[f]=[i]}else{if(c.indexOf(i)===-1){c.push(i)}}if(typeof l==="object"&&!(u in l)){return e._cache[i]=o}d=!t.call(l,u);h=d?n(l[u]):l[u];h=r(e,i,h,false);e._cache[i]=h;return h}}(b,k,I,$,J,Q);var Z=function(){if(typeof console!=="undefined"&&typeof console.warn==="function"&&typeof console.warn.apply==="function"){return function(){console.warn.apply(console,arguments)}}return function(){}}();var et=function(){var e=Object.prototype.toString;return function(t){return typeof t==="object"&&e.call(t)==="[object Object]"}}();var tt=function(e,t,n,r,i){var o,s,a;e.push(function(){s=e.interpolate});a=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/;o={number:function(e,t){var n;if(!i(e)||!i(t)){return null}e=+e;t=+t;n=t-e;if(!n){return function(){return e}}return function(t){return e+t*n}},array:function(e,t){var r,i,o,a;if(!n(e)||!n(t)){return null}r=[];i=[];a=o=Math.min(e.length,t.length);while(a--){i[a]=s(e[a],t[a])}for(a=o;a<e.length;a+=1){r[a]=e[a]}for(a=o;a<t.length;a+=1){r[a]=t[a]}return function(e){var t=o;while(t--){r[t]=i[t](e)}return r}},object:function(e,n){var i,o,a,u,f;if(!r(e)||!r(n)){return null}i=[];u={};a={};for(f in e){if(t.call(e,f)){if(t.call(n,f)){i.push(f);a[f]=s(e[f],n[f])}else{u[f]=e[f]}}}for(f in n){if(t.call(n,f)&&!t.call(e,f)){u[f]=n[f]}}o=i.length;return function(e){var t=o,n;while(t--){n=i[t];u[n]=a[n](e)}return u}},cssLength:function(e,t){var n,r,i,o,s,u,f,l;if(e!==0&&typeof e!=="string"||t!==0&&typeof t!=="string"){return null}n=a.exec(e);r=a.exec(t);i=n?n[2]:"";o=r?r[2]:"";if(i&&o&&i!==o){return null}f=i||o;s=n?+n[1]:0;u=r?+r[1]:0;l=u-s;if(!l){return function(){return s+f}}return function(e){return s+e*l+f}}};return o}(b,k,L,et,c);var nt=function(e,t,n){var r=function(e,r,o,s){if(e===r){return i(r)}if(s){if(o.interpolators[s]){return o.interpolators[s](e,r)||i(r)}t('Missing "'+s+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(e,r)||n.array(e,r)||n.object(e,r)||n.cssLength(e,r)||i(r)};e.interpolate=r;return r;function i(e){return function(){return e}}}(b,Z,tt);var rt=function(e,t,n,r){var i=function(e){var t;this.startTime=Date.now();for(t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}this.interpolator=n(this.from,this.to,this.root,this.interpolator);this.running=true};i.prototype={tick:function(){var n,i,o,s,a,u;u=this.keypath;if(this.running){s=Date.now();n=s-this.startTime;if(n>=this.duration){if(u!==null){t.start(this.root);r(this.root,u,this.to);t.end()}if(this.step){this.step(1,this.to)}this.complete(this.to);a=this.root._animations.indexOf(this);if(a===-1){e("Animation was not found")}this.root._animations.splice(a,1);this.running=false;return false}i=this.easing?this.easing(n/this.duration):n/this.duration;if(u!==null){o=this.interpolator(i);t.start(this.root);r(this.root,u,o);t.end()}if(this.step){this.step(i,o)}return true}return false},stop:function(){var t;this.running=false;t=this.root._animations.indexOf(this);if(t===-1){e("Animation was not found")}this.root._animations.splice(t,1)}};return i}(Z,R,nt,U);var it=function(e,t,n,r,i,o){var s=function(){},a={stop:s};return function(e,n,r){var i,o,a,f,l,c,h,p,d,v,g,m,y,w;i=new t(function(e){o=e});if(typeof e==="object"){r=n||{};c=r.easing;h=r.duration;l=[];p=r.step;d=r.complete;if(p||d){g={};r.step=null;r.complete=null;v=function(e){return function(t,n){g[e]=n}}}for(a in e){if(e.hasOwnProperty(a)){if(p||d){m=v(a);r={easing:c,duration:h};if(p){r.step=m}}r.complete=d?m:s;l.push(u(this,a,e[a],r))}}if(p||d){w={easing:c,duration:h};if(p){w.step=function(e){p(e,g)}}if(d){i.then(function(e){d(e,g)})}w.complete=o;y=u(this,null,null,w);l.push(y)}return{stop:function(){var e;while(e=l.pop()){e.stop()}if(y){y.stop()}}}}r=r||{};if(r.complete){i.then(r.complete)}r.complete=o;f=u(this,e,n,r);i.stop=function(){f.stop()};return i};function u(t,s,u,f){var l,c,h,p;if(s){s=n(s)}if(s!==null){p=i(t,s)}r.abort(s,t);if(e(p,u)){if(f.complete){f.complete(f.to)}return a}if(f.easing){if(typeof f.easing==="function"){l=f.easing}else{l=t.easing[f.easing]}if(typeof l!=="function"){l=null}}c=f.duration===undefined?400:f.duration;h=new o({keypath:s,from:p,to:u,root:t,duration:c,easing:l,interpolator:f.interpolator,step:f.step,complete:f.complete});r.add(h);t._animations.push(h);return h}}(d,v,g,C,X,rt);var ot=function(){return this.fragment.detach()};var st=function(e){if(!this.el){return null}return this.fragment.find(e)};var at=function(e,t,n){var r,i,o,s,a,u,f;if(!e){return}r=n("div");i=["matches","matchesSelector"];f=function(e){return function(t,n){return t[e](n)}};a=i.length;while(a--){o=i[a];if(r[o]){return f(o)}u=t.length;while(u--){s=t[a]+o.substr(0,1).toUpperCase()+o.substring(1);if(r[s]){return f(s)}}}return function(e,t){var n,r;n=(e.parentNode||e.document).querySelectorAll(t);r=n.length;while(r--){if(n[r]===e){return true}}return false}}(u,m,a);var ut=function(e){return function(t,n){var r=this._isComponentQuery?!this.selector||t.name===this.selector:e(t.node,this.selector);if(r){this.push(t.node||t.instance);if(!n){this._makeDirty()}return true}}}(at);var ft=function(){var e,t,n;e=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"];t=this.selector;n=e.indexOf(t);if(n!==-1){e.splice(n,1);e[t]=null}};var lt=function(){return function(e,n){var r,i,o,s,a,u,f,l,c,h;r=t(e.component||e._ractive.proxy);i=t(n.component||n._ractive.proxy);o=r[r.length-1];s=i[i.length-1];while(o&&o===s){r.pop();i.pop();a=o;o=r[r.length-1];s=i[i.length-1]}o=o.component||o;s=s.component||s;c=o.parentFragment;h=s.parentFragment;if(c===h){u=c.items.indexOf(o);f=h.items.indexOf(s);return u-f||r.length-i.length}if(l=a.fragments){u=l.indexOf(c);f=l.indexOf(h);return u-f||r.length-i.length}throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")};function e(e){var t;if(t=e.parentFragment){return t.owner}if(e.component&&(t=e.component.parentFragment)){return t.owner}}function t(t){var n,r;n=[t];r=e(t);while(r){n.push(r);r=e(r)}return n}}();var ct=function(e){return function(t,n){var r;if(t.compareDocumentPosition){r=t.compareDocumentPosition(n);return r&2?1:-1}return e(t,n)}}(lt);var ht=function(e,t){return function(){this.sort(this._isComponentQuery?t:e);this._dirty=false}}(ct,lt);var pt=function(e){return function(){if(!this._dirty){e.addLiveQuery(this);this._dirty=true}}}(R);var dt=function(e){var t=this.indexOf(this._isComponentQuery?e.instance:e);if(t!==-1){this.splice(t,1)}};var vt=function(e,t,n,r,i,o){return function(s,a,u,f){var l=[];e(l,{selector:{value:a},live:{value:u},_isComponentQuery:{value:f},_test:{value:t}});
if(!u){return l}e(l,{cancel:{value:n},_root:{value:s},_sort:{value:r},_makeDirty:{value:i},_remove:{value:o},_dirty:{value:false,writable:true}});return l}}(l,ut,ft,ht,pt,dt);var gt=function(e){return function(t,n){var r,i;if(!this.el){return[]}n=n||{};r=this._liveQueries;if(i=r[t]){return n&&n.live?i:i.slice()}i=e(this,t,!!n.live,false);if(i.live){r.push(t);r[t]=i}this.fragment.findAll(t,i);return i}}(vt);var mt=function(e){return function(t,n){var r,i;n=n||{};r=this._liveComponentQueries;if(i=r[t]){return n&&n.live?i:i.slice()}i=e(this,t,!!n.live,true);if(i.live){r.push(t);r[t]=i}this.fragment.findAllComponents(t,i);return i}}(vt);var yt=function(e){return this.fragment.findComponent(e)};var wt=function(e){var t,n,r,i=this._subs[e];if(!i){return}t=Array.prototype.slice.call(arguments,1);for(n=0,r=i.length;n<r;n+=1){i[n].apply(this,t)}};var bt=function(e,t,n,r){var i,o={};e.push(function(){i=e.get});var s=function(e,t){this.root=e;this.ref=t;this.parentFragment=o;e._unresolvedImplicitDependencies[t]=true;e._unresolvedImplicitDependencies.push(this);n.addUnresolved(this)};s.prototype={resolve:function(){var e=this.root;r(e,this.ref);e._unresolvedImplicitDependencies[this.ref]=false;t(e._unresolvedImplicitDependencies,this)},teardown:function(){n.removeUnresolved(this)}};return s}(b,E,R,A);var Et=function(e,t,n){var r={isTopLevel:true};return function i(o){var s;o=e(o);s=t(this,o,r);if(this._captured&&this._captured[o]!==true){this._captured.push(o);this._captured[o]=true;if(s===undefined&&this._unresolvedImplicitDependencies[o]!==true){new n(this,o)}}return s}}(g,X,bt);var _t=function(e){var t;if(typeof window==="undefined"||!document||!e){return null}if(e.nodeType){return e}if(typeof e==="string"){t=document.getElementById(e);if(!t&&document.querySelector){t=document.querySelector(e)}if(t&&t.nodeType){return t}}if(e[0]&&e[0].nodeType){return e[0]}return null};var xt=function(e){return function(t,n){t=e(t);n=e(n)||null;if(!t){throw new Error("You must specify a valid target to insert into")}t.insertBefore(this.detach(),n);this.fragment.pNode=this.el=t}}(_t);var kt=function(e,t){var n,r,i,o;n={};r=0;i=e.map(function(e,i){var s,a,u;a=r;u=t.length;do{s=t.indexOf(e,a);if(s===-1){o=true;return-1}a=s+1}while(n[s]&&a<u);if(s===r){r+=1}if(s!==i){o=true}n[s]=true;return s});i.unchanged=!o;return i};var St=function(e,t){return function(n,r,i,o){var s;n._changes.push(r);s=function(t){if(t.type===e.REFERENCE){t.update()}else if(t.keypath===r&&t.type===e.SECTION&&!t.inverted&&t.docFrag){t.merge(i)}else{t.update()}};n._deps.forEach(function(e){var t=e[r];if(t){t.forEach(s)}});if(!o){t(n,r+".length",true)}}}(F,A);var Ot=function(e,t,n,r,i,o,s){var a={};return function l(a,u,c){var h,p,d,v,g,m,y,w;h=this.get(a);if(!n(h)||!n(u)){return this.set(a,u,c&&c.complete)}g=h.length===u.length;if(c&&c.compare){v=f(c.compare);try{p=h.map(v);d=u.map(v)}catch(b){if(this.debug){throw b}else{t("Merge operation: comparison failed. Falling back to identity checking")}p=h;d=u}}else{p=h;d=u}m=o(p,d);y=new r(function(e){w=e});e.start(this,w);i(this,a,u,true);s(this,a,m,g);e.end();if(c&&c.complete){y.then(c.complete)}return y};function u(e){return JSON.stringify(e)}function f(e){if(e===true){return u}if(typeof e==="string"){if(!a[e]){a[e]=function(t){return t[e]}}return a[e]}if(typeof e==="function"){return e}throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}}(R,Z,L,v,U,kt,St);var Tt=function(e,t,n){var r=function(e,t,n,r){var i=this;this.root=e;this.keypath=t;this.callback=n;this.defer=r.defer;this.debug=r.debug;this.proxy={update:function(){i.reallyUpdate()}};this.priority=0;this.context=r&&r.context?r.context:e};r.prototype={init:function(e){if(e!==false){this.update()}else{this.value=n(this.root,this.keypath)}},update:function(){if(this.defer&&this.ready){e.addObserver(this.proxy);return}this.reallyUpdate()},reallyUpdate:function(){var e,r;e=this.value;r=n(this.root,this.keypath);this.value=r;if(this.updating){return}this.updating=true;if(!t(r,e)||!this.ready){try{this.callback.call(this.context,r,e,this.keypath)}catch(i){if(this.debug||this.root.debug){throw i}}}this.updating=false}};return r}(R,d,X);var At=function(e){return function(t,n){var r,i,o,s,a,u,f;r=n.split(".");s=[];u=function(n){var r,i;r=t._wrapped[n]?t._wrapped[n].get():t.get(n);for(i in r){if(r.hasOwnProperty(i)&&(i!=="_ractive"||!e(r))){a.push(n+"."+i)}}};f=function(e){return e+"."+i};while(i=r.shift()){if(i==="*"){a=[];s.forEach(u);s=a}else{if(!s[0]){s[0]=i}else{s=s.map(f)}}}o={};s.forEach(function(e){o[e]=t.get(e)});return o}}(L);var Nt=function(e,t,n,r){var i,o=/\*/;i=function(e,t,n,r){this.root=e;this.callback=n;this.defer=r.defer;this.debug=r.debug;this.keypath=t;this.regex=new RegExp("^"+t.replace(/\./g,"\\.").replace(/\*/g,"[^\\.]+")+"$");this.values={};if(this.defer){this.proxies=[]}this.priority="pattern";this.context=r&&r.context?r.context:e};i.prototype={init:function(e){var t,n;t=r(this.root,this.keypath);if(e!==false){for(n in t){if(t.hasOwnProperty(n)){this.update(n)}}}else{this.values=t}},update:function(t){var n;if(o.test(t)){n=r(this.root,t);for(t in n){if(n.hasOwnProperty(t)){this.update(t)}}return}if(this.defer&&this.ready){e.addObserver(this.getProxy(t));return}this.reallyUpdate(t)},reallyUpdate:function(e){var r=n(this.root,e);if(this.updating){this.values[e]=r;return}this.updating=true;if(!t(r,this.values[e])||!this.ready){try{this.callback.call(this.context,r,this.values[e],e)}catch(i){if(this.debug||this.root.debug){throw i}}this.values[e]=r}this.updating=false},getProxy:function(e){var t=this;if(!this.proxies[e]){this.proxies[e]={update:function(){t.reallyUpdate(e)}}}return this.proxies[e]}};return i}(R,d,X,At);var Rt=function(e,t,n,r,i){var o=/\*/,s={};return function a(u,f,l,c){var h,p;f=e(f);c=c||s;if(o.test(f)){h=new i(u,f,l,c);u._patternObservers.push(h);p=true}else{h=new r(u,f,l,c)}t(h);h.init(c.init);h.ready=true;return{cancel:function(){var e;if(p){e=u._patternObservers.indexOf(h);if(e!==-1){u._patternObservers.splice(e,1)}}n(h)}}}}(g,K,G,Tt,Nt);var Ct=function(e,t){return function n(r,i,o){var s,a,u,f;if(e(r)){o=i;a=r;s=[];for(r in a){if(a.hasOwnProperty(r)){i=a[r];s.push(this.observe(r,i,o))}}return{cancel:function(){while(s.length){s.pop().cancel()}}}}if(typeof r==="function"){o=i;i=r;r="";return t(this,r,i,o)}u=r.split(" ");if(u.length===1){return t(this,r,i,o)}s=[];f=u.length;while(f--){r=u[f];if(r){s.push(t(this,r,i,o))}}return{cancel:function(){while(s.length){s.pop().cancel()}}}}}(et,Rt);var Lt=function(e,t){var n,r;if(!t){if(!e){for(e in this._subs){delete this._subs[e]}}else{this._subs[e]=[]}}n=this._subs[e];if(n){r=n.indexOf(t);if(r!==-1){n.splice(r,1)}}};var It=function(e,t){var n=this,r,i;if(typeof e==="object"){r=[];for(i in e){if(e.hasOwnProperty(i)){r.push(this.on(i,e[i]))}}return{cancel:function(){var e;while(e=r.pop()){e.cancel()}}}}if(!this._subs[e]){this._subs[e]=[t]}else{this._subs[e].push(t)}return{cancel:function(){n.off(e,t)}}};var jt=function(){var e;try{Object.create(null);e=Object.create}catch(t){e=function(){var e=function(){};return function(t,n){var r;if(t===null){return{}}e.prototype=t;r=new e;if(n){Object.defineProperties(r,n)}return r}}()}return e}();var Pt=function(e,t){return function n(r,i){var o,s,a,u,f;r.owner=i.owner;a=r.parent=r.owner.parentFragment;r.root=i.root;r.pNode=i.pNode;r.pElement=i.pElement;r.context=i.context;if(r.owner.type===e.SECTION){r.index=i.index}if(a){u=a.indexRefs;if(u){r.indexRefs=t(null);for(f in u){r.indexRefs[f]=u[f]}}}r.priority=a?a.priority+1:1;if(i.indexRef){if(!r.indexRefs){r.indexRefs={}}r.indexRefs[i.indexRef]=i.index}r.items=[];o=i.descriptor?i.descriptor.length:0;for(s=0;s<o;s+=1){r.items[r.items.length]=r.createItem({parentFragment:r,pElement:i.pElement,descriptor:i.descriptor[s],index:s})}}}(F,jt);var Mt=function go(e,t){return e.substr(0,t.length+1)===t+"."};var Ft=function(e){return function t(n,r){return n===r||e(n,r)}}(Mt);var Dt=function(e){return function t(n,r,i){if(n===r){return i}if(e(n,r)){return n.replace(r+".",i+".")}}}(Mt);var Bt=function(e,t){return function n(r,i,o,s){if(!r[i]||e(r[i],s)){return}r[i]=t(r[i],o,s)}}(Ft,Dt);var Ut=function(e){return function t(n,r,i,o){if(this.html!==undefined){return}e(this,"context",i,o);if(this.indexRefs&&this.indexRefs[n]!==undefined&&this.indexRefs[n]!==r){this.indexRefs[n]=r}this.items.forEach(function(e){e.reassign(n,r,i,o)})}}(Bt);var Vt=function(e,t){return{init:e,reassign:t}}(Pt,Ut);var Wt=function(e,t){var n={},r,i;try{t("table").innerHTML="foo"}catch(o){r=true;i={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return function(t,n,o,a){var u,f=[],l;if(t){if(r&&(l=i[n])){u=s("DIV");u.innerHTML=l[0]+t+l[1];u=u.querySelector(".x")}else if(o===e.svg){u=s("DIV");u.innerHTML='<svg class="x">'+t+"</svg>";u=u.querySelector(".x")}else{u=s(n);u.innerHTML=t}while(u.firstChild){f.push(u.firstChild);a.appendChild(u.firstChild)}}return f};function s(e){return n[e]||(n[e]=t(e))}}(s,a);var qt=function(){var e=this.node,t;if(e&&(t=e.parentNode)){t.removeChild(e);return e}};var zt=function(e,t){var n,r,i;r=/</g;i=/>/g;n=function(t,n){this.type=e.TEXT;this.descriptor=t.descriptor;if(n){this.node=document.createTextNode(t.descriptor);n.appendChild(this.node)}};n.prototype={detach:t,reassign:function(){},teardown:function(e){if(e){this.detach()}},firstNode:function(){return this.node},toString:function(){return(""+this.descriptor).replace(r,"&lt;").replace(i,"&gt;")}};return n}(F,qt);var Ht=function(e,t){return function(n){if(!n.keypath){e.removeUnresolved(n)}else{t(n)}}}(R,G);var $t=function(e){var t=function(t,n,r,i){this.root=t;this.ref=n;this.parentFragment=r;this.resolve=i;e.addUnresolved(this)};t.prototype={teardown:function(){e.removeUnresolved(this)}};return t}(R);var Kt=function(e,t,n,r,i){var o,s;s=/this/;o=function(t,n,i,o,s){var u;this.evaluator=i;this.keypath=n;this.root=t;this.argNum=o;this.type=e.REFERENCE;this.priority=s;u=t.get(n);if(typeof u==="function"){u=a(u,t,i)}this.value=i.values[o]=u;r(this)};o.prototype={update:function(){var e=this.root.get(this.keypath);if(typeof e==="function"&&!e._nowrap){e=a(e,this.root,this.evaluator)}if(!t(e,this.value)){this.evaluator.values[this.argNum]=e;this.evaluator.bubble();this.value=e}},teardown:function(){i(this)}};return o;function a(e,t,r){var i,o,a;if(!s.test(e.toString())){n(e,"_nowrap",{value:true});return e}if(!e["_"+t._guid]){n(e,"_"+t._guid,{value:function(){var n,r,i,s;n=t._captured;if(!n){t._captured=[]}r=e.apply(t,arguments);if(t._captured.length){i=o.length;while(i--){s=o[i];s.updateSoftDependencies(t._captured)}}t._captured=n;return r},writable:true});for(i in e){if(e.hasOwnProperty(i)){e["_"+t._guid][i]=e[i]}}e["_"+t._guid+"_evaluators"]=[]}o=e["_"+t._guid+"_evaluators"];a=o.indexOf(r);if(a===-1){o.push(r)}return e["_"+t._guid]}}(F,d,f,K,G);var Gt=function(e,t,n){var r=function(e,n,r){this.root=e;this.keypath=n;this.priority=r.priority;this.evaluator=r;t(this)};r.prototype={update:function(){var t=this.root.get(this.keypath);if(!e(t,this.value)){this.evaluator.bubble();this.value=t}},teardown:function(){n(this)}};return r}(d,K,G);var Yt=function(e,t,n,r,i,o,s,a){var u,f={};u=function(e,t,n,r,i,o){var a=this;a.root=e;a.uniqueString=n;a.keypath=t;a.priority=o;a.fn=l(r,i.length);a.values=[];a.refs=[];i.forEach(function(t,n){if(!t){return}if(t.indexRef){a.values[n]=t.value}else{a.refs.push(new s(e,t.keypath,a,n,o))}});a.selfUpdating=a.refs.length<=1};u.prototype={bubble:function(){if(this.selfUpdating){this.update()}else if(!this.deferred){e.addEvaluator(this);this.deferred=true}},update:function(){var e;if(this.evaluating){return this}this.evaluating=true;try{e=this.fn.apply(null,this.values)}catch(s){if(this.root.debug){t('Error evaluating "'+this.uniqueString+'": '+s.message||s)}e=undefined}if(!n(e,this.value)){this.value=e;r(this.root,this.keypath);o(this.root,this.keypath,e,true);i(this.root,this.keypath)}this.evaluating=false;return this},teardown:function(){while(this.refs.length){this.refs.pop().teardown()}r(this.root,this.keypath);this.root._evaluators[this.keypath]=null},refresh:function(){if(!this.selfUpdating){this.deferred=true}var e=this.refs.length;while(e--){this.refs[e].update()}if(this.deferred){this.update();this.deferred=false}},updateSoftDependencies:function(e){var t,n,r;if(!this.softRefs){this.softRefs=[]}t=this.softRefs.length;while(t--){r=this.softRefs[t];if(!e[r.keypath]){this.softRefs.splice(t,1);this.softRefs[r.keypath]=false;r.teardown()}}t=e.length;while(t--){n=e[t];if(!this.softRefs[n]){r=new a(this.root,n,this);this.softRefs.push(r);this.softRefs[n]=true}}this.selfUpdating=this.refs.length+this.softRefs.length<=1}};return u;function l(e,t){var n,r;e=e.replace(/\$\{([0-9]+)\}/g,"_$1");if(f[e]){return f[e]}r=[];while(t--){r[t]="_"+t}n=new Function(r.join(","),"return("+e+")");f[e]=n;return n}}(R,Z,d,D,A,$,Kt,Gt);var Jt=function(e,t,n,r,i){var o=function(r,i,o,s){var a=this,u,f,l;u=r.root;this.root=u;this.callback=s;this.owner=r;this.str=o.s;this.args=l=[];this.unresolved=[];this.pending=0;f=i.indexRefs;if(!o.r||!o.r.length){this.resolved=this.ready=true;this.bubble();return}o.r.forEach(function(r,o){var s,c,h;if(f&&(s=f[r])!==undefined){l[o]={indexRef:r,value:s};return}if(c=t(u,r,i)){l[o]={keypath:c};return}l[o]=undefined;a.pending+=1;h=new n(u,r,i,function(t){a.resolve(o,t);e(a.unresolved,h)});a.unresolved.push(h)});this.ready=true;this.bubble()};o.prototype={bubble:function(){if(!this.ready){return}this.uniqueString=s(this.str,this.args);this.keypath=a(this.uniqueString);this.createEvaluator();this.callback(this.keypath)},teardown:function(){var e;while(e=this.unresolved.pop()){e.teardown()}},resolve:function(e,t){this.args[e]={keypath:t};this.bubble();this.resolved=!--this.pending},createEvaluator:function(){var e;if(!this.root._evaluators[this.keypath]){e=new r(this.root,this.keypath,this.uniqueString,this.str,this.args,this.owner.priority);this.root._evaluators[this.keypath]=e;e.update()}else{this.root._evaluators[this.keypath].refresh()}},reassign:function(e,t,n,r){var o;this.args.forEach(function(s){var a;if(s.keypath&&(a=i(s.keypath,n,r))){s.keypath=a;o=true}else if(s.indexRef===e){s.value=t;o=true}});if(o){this.bubble()}}};return o;function s(e,t){return e.replace(/\$\{([0-9]+)\}/g,function(e,n){return t[n]?t[n].value||t[n].keypath:"undefined"})}function a(e){return"${"+e.replace(/[\.\[\]]/g,"-")+"}"}}(E,O,$t,Yt,Dt);var Qt=function(e,t,n,r,i,o,s){var a=function(i,o,a){var f=this,l,c,h,p,d;l=i.root;c=i.parentFragment;this.ref=o.r;this.root=i.root;this.mustache=i;this.callback=a;this.pending=0;this.unresolved=[];d=this.members=[];this.indexRefMembers=[];this.keypathObservers=[];this.expressionResolvers=[];o.m.forEach(function(o,a){var v,g,m,y,w,b;if(typeof o==="string"){f.members[a]=o;return}if(o.t===e.REFERENCE){v=o.n;g=c.indexRefs;if(g&&(m=g[v])!==undefined){d[a]=m;f.indexRefMembers.push({ref:v,index:a});return}p=true;y=function(e){var t=new u(l,e,i.priority,f,a);f.keypathObservers.push(t)};if(h=n(l,v,c)){y(h);return}d[a]=undefined;f.pending+=1;w=new r(l,v,c,function(e){f.resolve(a,e);t(f.unresolved,w)});f.unresolved.push(w);return null}p=true;f.pending+=1;b=new s(f,c,o,function(e){f.resolve(a,e);t(f.unresolved,b)});f.unresolved.push(b)});if(!p){h=this.getKeypath();a(h);return}this.ready=true;this.bubble()};a.prototype={getKeypath:function(){return this.ref+"."+this.members.join(".")},bubble:function(){if(!this.ready||this.pending){return}this.callback(this.getKeypath())},resolve:function(e,t){var n=new u(this.root,t,this.mustache.priority,this,e);n.update();this.keypathObservers.push(n);this.resolved=!--this.pending;this.bubble()},teardown:function(){var e;while(e=this.unresolved.pop()){e.teardown()}},reassign:function(e,t){var n,r,i;r=this.indexRefMembers.length;while(r--){i=this.indexRefMembers[r];if(i.ref===e){n=true;this.members[i.index]=t}}if(n){this.bubble()}}};var u=function(e,t,n,r,o){this.root=e;this.keypath=t;this.priority=n;this.resolver=r;this.index=o;i(this);this.update()};u.prototype={update:function(){var e=this.resolver;e.members[this.index]=this.root.get(this.keypath);e.bubble()},teardown:function(){o(this)}};return a}(F,E,O,$t,K,G,Jt);var Xt=function(e,t,n,r){return function i(o,s){var a,u,f,l,c,h,p;c=s.parentFragment;h=s.descriptor;o.root=c.root;o.parentFragment=c;o.descriptor=s.descriptor;o.index=s.index||0;o.priority=c.priority;o.type=s.descriptor.t;p=function(e){o.resolve(e)};if(a=h.r){f=c.indexRefs;if(f&&(l=f[a])!==undefined){o.indexRef=a;o.value=l;o.render(o.value)}else{u=t(o.root,a,o.parentFragment);if(u!==undefined){p(u)}else{o.ref=a;e.addUnresolved(o)}}}if(s.descriptor.x){o.resolver=new r(o,c,s.descriptor.x,p)}if(s.descriptor.kx){o.resolver=new n(o,s.descriptor.kx,p)}if(o.descriptor.n&&!o.hasOwnProperty("value")){o.render(undefined)}}}(R,O,Qt,Jt);var Zt=function(e,t){var n={evaluateWrapped:true};return function r(){var r=t(this.root,this.keypath,n);if(!e(r,this.value)){this.render(r);this.value=r}}}(d,X);var en=function(e,t,n){return function r(i){var o;if(i===this.keypath){return}if(this.registered){n(this);if(this.type===e.SECTION){o=this.fragments.length;while(o--){this.fragments[o].reassign(null,null,this.keypath,i)}}}this.keypath=i;t(this);this.update()}}(F,K,G);var tn=function(e){return function t(n,r,i,o){var s,a;if(this.resolver){this.resolver.reassign(n,r,i,o)}else if(this.keypath){s=e(this.keypath,i,o);if(s){this.resolve(s)}}else if(n!==undefined&&this.indexRef===n){this.value=r;this.render(r)}if(this.fragments){a=this.fragments.length;while(a--){this.fragments[a].reassign(n,r,i,o)}}}}(Dt);var nn=function(e,t,n,r){return{init:e,update:t,resolve:n,reassign:r}}(Xt,Zt,en,tn);var rn=function(e,t,n,r){var i,o,s;o=/</g;s=/>/g;i=function(t,r){this.type=e.INTERPOLATOR;if(r){this.node=document.createTextNode("");r.appendChild(this.node)}n.init(this,t)};i.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,detach:r,teardown:function(e){if(e){this.detach()}t(this)},render:function(e){if(this.node){this.node.data=e==undefined?"":e}},firstNode:function(){return this.node},toString:function(){var e=this.value!=undefined?""+this.value:"";return e.replace(o,"&lt;").replace(s,"&gt;")}};return i}(F,Ht,nn,qt);var on=function(){var e=[];return function t(n){var r=this,i,o,s,a,u,f,l,c;i=this.parentFragment;u=[];n.forEach(function h(t,n){var i,s,a,f;if(t===n){u[t]=r.fragments[n];return}if(o===undefined){o=n}if(t===-1){e.push(r.fragments[n]);return}i=r.fragments[n];s=t-n;a=r.keypath+"."+n;f=r.keypath+"."+t;i.reassign(r.descriptor.i,n,t,s,a,f);u[t]=i});while(l=e.pop()){l.teardown(true)}if(o===undefined){o=this.length}this.length=a=this.root.get(this.keypath).length;if(a===o){return}f={descriptor:this.descriptor.f,root:this.root,pNode:i.pNode,owner:this};if(this.descriptor.i){f.indexRef=this.descriptor.i}for(s=o;s<a;s+=1){if(l=u[s]){this.docFrag.appendChild(l.detach(false))}else{f.context=this.keypath+"."+s;f.index=s;l=this.createFragment(f)}this.fragments[s]=l}c=i.findNextNode(this);i.pNode.insertBefore(this.docFrag,c)}}();var sn=function(e,t){return function s(a,u){var f={descriptor:a.descriptor.f,root:a.root,pNode:a.parentFragment.pNode,pElement:a.parentFragment.pElement,owner:a};if(a.descriptor.n){o(a,u,true,f);return}if(e(u)){n(a,u,f)}else if(t(u)||typeof u==="function"){if(a.descriptor.i){r(a,u,f)}else{i(a,f)}}else{o(a,u,false,f)}};function n(e,t,n){var r,i,o;i=t.length;if(i<e.length){o=e.fragments.splice(i,e.length-i);while(o.length){o.pop().teardown(true)}}else{if(i>e.length){for(r=e.length;r<i;r+=1){n.context=e.keypath+"."+r;n.index=r;if(e.descriptor.i){n.indexRef=e.descriptor.i}e.fragments[r]=e.createFragment(n)}}}e.length=i}function r(e,t,n){var r,i,o,s;o=e.hasKey||(e.hasKey={});i=e.fragments.length;while(i--){s=e.fragments[i];if(!(s.index in t)){e.fragments[i].teardown(true);e.fragments.splice(i,1);o[s.index]=false}}for(r in t){if(!o[r]){n.context=e.keypath+"."+r;n.index=r;if(e.descriptor.i){n.indexRef=e.descriptor.i}e.fragments.push(e.createFragment(n));o[r]=true}}e.length=e.fragments.length}function i(e,t){if(!e.length){t.context=e.keypath;t.index=0;e.fragments[0]=e.createFragment(t);e.length=1}}function o(t,n,r,i){var o,s,a,u;s=e(n)&&n.length===0;if(r){o=s||!n}else{o=n&&!s}if(o){if(!t.length){i.index=0;t.fragments[0]=t.createFragment(i);t.length=1}if(t.length>1){a=t.fragments.splice(1);while(u=a.pop()){u.teardown(true)}}}else if(t.length){t.teardownFragments(true);t.length=0}}}(L,et);var an=function(e,t){return function n(r){var i,o;if(o=this.root._wrapped[this.keypath]){r=o.get()}if(this.rendering){return}this.rendering=true;t(this,r);this.rendering=false;if(this.docFrag&&!this.docFrag.childNodes.length){return}if(!this.initialising&&e){i=this.parentFragment.findNextNode(this);if(i&&i.parentNode===this.parentFragment.pNode){this.parentFragment.pNode.insertBefore(this.docFrag,i)}else{this.parentFragment.pNode.appendChild(this.docFrag)}}}}(u,sn);var un=function(e,t,n,r){var i,o,s,a,u;s=e.descriptor.i;for(i=t;i<n;i+=1){o=e.fragments[i];a=e.keypath+"."+(i-r);u=e.keypath+"."+i;o.index=i;o.reassign(s,i,a,u)}};var fn=function(e){return function(r){var i=this,o,s,a,u,f;o=r.balance;if(!o){return}s=r.start;i.length+=o;if(o<0){i.fragments.splice(s,-o).forEach(t);e(i,s,i.length,o);return}a=s+r.removed;u=s+r.added;f=[a,0];f.length+=o;i.fragments.splice.apply(i.fragments,f);e(i,u,i.length,o);n(i,a,u)};function t(e){e.teardown(true)}function n(e,t,n){var r,i,o;e.rendering=true;r={descriptor:e.descriptor.f,root:e.root,pNode:e.parentFragment.pNode,owner:e,indexRef:e.descriptor.i};for(i=t;i<n;i+=1){r.context=e.keypath+"."+i;r.index=i;e.fragments[i]=e.createFragment(r)}o=e.fragments[n]?e.fragments[n].firstNode():e.parentFragment.findNextNode(e);e.parentFragment.pNode.insertBefore(e.docFrag,o);e.rendering=false}}(un);var ln=function(e,t,n,r,i,o,s){var a,u;s.push(function(){u=s.DomFragment});a=function(n,r){this.type=e.SECTION;this.inverted=!!n.descriptor.n;this.fragments=[];this.length=0;if(r){this.docFrag=document.createDocumentFragment()}this.initialising=true;t.init(this,n);if(r){r.appendChild(this.docFrag)}this.initialising=false};a.prototype={update:t.update,resolve:t.resolve,reassign:t.reassign,splice:i,merge:n,detach:function(){var e,t;if(this.docFrag){t=this.fragments.length;for(e=0;e<t;e+=1){this.docFrag.appendChild(this.fragments[e].detach())}return this.docFrag}},teardown:function(e){this.teardownFragments(e);o(this)},firstNode:function(){if(this.fragments[0]){return this.fragments[0].firstNode()}return this.parentFragment.findNextNode(this)},findNextNode:function(e){if(this.fragments[e.index+1]){return this.fragments[e.index+1].firstNode()}return this.parentFragment.findNextNode(this)},teardownFragments:function(e){var t;while(t=this.fragments.shift()){t.teardown(e)}},render:r,createFragment:function(e){var t=new u(e);if(this.docFrag){this.docFrag.appendChild(t.docFrag)}return t},toString:function(){var e,t,n;e="";t=0;n=this.length;for(t=0;t<n;t+=1){e+=this.fragments[t].toString()}return e},find:function(e){var t,n,r;n=this.fragments.length;for(t=0;t<n;t+=1){if(r=this.fragments[t].find(e)){return r}}return null},findAll:function(e,t){var n,r;r=this.fragments.length;for(n=0;n<r;n+=1){this.fragments[n].findAll(e,t)}},findComponent:function(e){var t,n,r;n=this.fragments.length;for(t=0;t<n;t+=1){if(r=this.fragments[t].findComponent(e)){return r}}return null},findAllComponents:function(e,t){var n,r;r=this.fragments.length;for(n=0;n<r;n+=1){this.fragments[n].findAllComponents(e,t)}}};return a}(F,nn,on,an,fn,Ht,b);var cn=function(e,t,n,r,i){var o=function(t,r){this.type=e.TRIPLE;if(r){this.nodes=[];this.docFrag=document.createDocumentFragment()}this.initialising=true;n.init(this,t);if(r){r.appendChild(this.docFrag)}this.initialising=false};o.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,detach:function(){var e,t;if(this.docFrag){e=this.nodes.length;for(t=0;t<e;t+=1){this.docFrag.appendChild(this.nodes[t])}return this.docFrag}},teardown:function(e){if(e){this.detach();this.docFrag=this.nodes=null}i(this)},firstNode:function(){if(this.nodes[0]){return this.nodes[0]}return this.parentFragment.findNextNode(this)},render:function(e){var t,n;if(!this.nodes){return}while(this.nodes.length){t=this.nodes.pop();t.parentNode.removeChild(t)}if(!e){this.nodes=[];return}n=this.parentFragment.pNode;this.nodes=r(e,n.tagName,n.namespaceURI,this.docFrag);if(!this.initialising){n.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))}if(n.tagName==="SELECT"&&n._ractive&&n._ractive.binding){n._ractive.binding.update()}},toString:function(){return this.value!=undefined?this.value:""},find:function(e){var n,r,i,o;r=this.nodes.length;for(n=0;n<r;n+=1){i=this.nodes[n];if(i.nodeType!==1){continue}if(t(i,e)){return i}if(o=i.querySelector(e)){return o}}return null},findAll:function(e,n){var r,i,o,s,a,u;i=this.nodes.length;for(r=0;r<i;r+=1){o=this.nodes[r];if(o.nodeType!==1){continue}if(t(o,e)){n.push(o)}if(s=o.querySelectorAll(e)){a=s.length;for(u=0;u<a;u+=1){n.push(s[u])}}}}};return o}(F,at,nn,Wt,Ht);var hn=function(e){return function(t,n){if(t.a&&t.a.xmlns){return t.a.xmlns}return t.e==="svg"?e.svg:n.namespaceURI||e.html}}(s);var pn=function(){var e,t,n,r;e="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" ");t="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" ");n=function(e){var t={},n=e.length;while(n--){t[e[n].toLowerCase()]=e[n]}return t};r=n(e.concat(t));return function(e){var t=e.toLowerCase();return r[t]||t}}();var dn=function(e,t){return function(n,r){var i,o;i=r.indexOf(":");if(i!==-1){o=r.substr(0,i);if(o!=="xmlns"){r=r.substring(i+1);n.name=t(r);n.lcName=n.name.toLowerCase();n.namespace=e[o.toLowerCase()];if(!n.namespace){throw'Unknown namespace ("'+o+'")'}return}}n.name=n.element.namespace!==e.html?t(r):r;n.lcName=n.name.toLowerCase()}}(s,pn);var vn=function(e){return function t(n,r){var i,o=r.value===null?"":r.value;if(i=r.pNode){if(n.namespace){i.setAttributeNS(n.namespace,r.name,o)}else{if(r.name==="style"&&i.style.setAttribute){i.style.setAttribute("cssText",o)}else if(r.name==="class"&&(!i.namespaceURI||i.namespaceURI===e.html)){i.className=o}else{i.setAttribute(r.name,o)}}if(n.name==="id"){r.root.nodes[r.value]=i}if(n.name==="value"){i._ractive.value=r.value}}n.value=r.value}}(s);var gn=function(e){var t={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n,r){var i;if(n.pNode&&!n.namespace&&(!r.pNode.namespaceURI||r.pNode.namespaceURI===e.html)){i=t[n.name]||n.name;if(r.pNode[i]!==undefined){n.propertyName=i}if(typeof r.pNode[i]==="boolean"||i==="value"){n.useProperty=true}}}}(s);var mn=function(e){return function t(n){var r,i;r=n.fragment.items;if(r.length!==1){return}i=r[0];if(i.type!==e.INTERPOLATOR||!i.keypath&&!i.ref){return}return i}}(F);var yn=function(e){return function(t,n){var r;if(!e(t)||!e(n)){return false}if(t.length!==n.length){return false}r=t.length;while(r--){if(t[r]!==n[r]){return false}}return true}}(L);var wn=function(e,t,n,r,i,o){var s='For two-way binding to work, attribute value must be a single interpolator (e.g. value="{{foo}}")',a="You cannot set up two-way binding against an expression ",u,f,l,c,h,p,d,v,g,m,y,w,b,E;u=function(){var e=this.pNode,n,r,i;n=this.interpolator;if(!n){t(s);return false}if(n.keypath&&n.keypath.substr==="${"){t(a+n.keypath);return false}if(!n.keypath){n.resolve(n.descriptor.r)}this.keypath=n.keypath;r=h(this);if(!r){return false}e._ractive.binding=this.element.binding=r;this.twoway=true;i=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]);i.push(r);return true};f=function(){e.start(this._ractive.root);this._ractive.binding.update();e.end()};l={evaluateWrapped:true};c=function(){var e=i(this._ractive.root,this._ractive.binding.keypath,l);this.value=e==undefined?"":e};h=function(e){var t=e.pNode;if(t.tagName==="SELECT"){return t.multiple?new d(e,t):new v(e,t)}if(t.type==="checkbox"||t.type==="radio"){if(e.propertyName==="name"){if(t.type==="checkbox"){return new m(e,t)}if(t.type==="radio"){return new g(e,t)}}if(e.propertyName==="checked"){return new y(e,t)}return null}if(e.lcName!=="value"){throw new Error("Attempted to set up an illegal two-way binding. This error is unexpected - if you can, please file an issue at https://github.com/RactiveJS/Ractive, or contact @RactiveJS on Twitter. Thanks!")}if(t.type==="file"){return new w(e,t)}if(t.getAttribute("contenteditable")){return new b(e,t)}return new E(e,t)};d=function(e,t){var n;p(this,e,t);t.addEventListener("change",f,false);n=i(this.root,this.keypath);if(n===undefined){this.update()}};d.prototype={value:function(){var e,t,n,r,i,o;e=[];t=this.node.options;r=t.length;for(n=0;n<r;n+=1){i=t[n];if(i.selected){o=i._ractive?i._ractive.value:i.value;e.push(o)}}return e},update:function(){var t,r,i;t=this.attr;r=t.value;i=this.value();if(r===undefined||!n(i,r)){e.addBinding(t);t.value=i;o(this.root,this.keypath,i);e.trigger()}return this},deferUpdate:function(){if(this.deferred===true){return}e.addAttribute(this);this.deferred=true},teardown:function(){this.node.removeEventListener("change",f,false)}};v=function(e,t){var n;p(this,e,t);t.addEventListener("change",f,false);n=i(this.root,this.keypath);if(n===undefined){this.update()}};v.prototype={value:function(){var e,t,n,r,i;e=this.node.options;n=e.length;for(t=0;t<n;t+=1){r=e[t];if(e[t].selected){i=r._ractive?r._ractive.value:r.value;return i}}},update:function(){var t=this.value();e.addBinding(this.attr);this.attr.value=t;o(this.root,this.keypath,t);e.trigger();return this},deferUpdate:function(){if(this.deferred===true){return}e.addAttribute(this);this.deferred=true},teardown:function(){this.node.removeEventListener("change",f,false)}};g=function(t,n){var r;this.radioName=true;p(this,t,n);n.name="{{"+t.keypath+"}}";n.addEventListener("change",f,false);if(n.attachEvent){n.addEventListener("click",f,false)}r=i(this.root,this.keypath);if(r!==undefined){n.checked=r==n._ractive.value}else{e.addRadio(this)}};g.prototype={value:function(){return this.node._ractive?this.node._ractive.value:this.node.value},update:function(){var t=this.node;if(t.checked){e.addBinding(this.attr);o(this.root,this.keypath,this.value());e.trigger()}},teardown:function(){this.node.removeEventListener("change",f,false);
this.node.removeEventListener("click",f,false)}};m=function(t,n){var r,o;this.checkboxName=true;p(this,t,n);n.name="{{"+this.keypath+"}}";n.addEventListener("change",f,false);if(n.attachEvent){n.addEventListener("click",f,false)}r=i(this.root,this.keypath);if(r!==undefined){o=r.indexOf(n._ractive.value)!==-1;n.checked=o}else{e.addCheckbox(this)}};m.prototype={changed:function(){return this.node.checked!==!!this.checked},update:function(){this.checked=this.node.checked;e.addBinding(this.attr);o(this.root,this.keypath,r(this.root,this.keypath));e.trigger()},teardown:function(){this.node.removeEventListener("change",f,false);this.node.removeEventListener("click",f,false)}};y=function(e,t){p(this,e,t);t.addEventListener("change",f,false);if(t.attachEvent){t.addEventListener("click",f,false)}};y.prototype={value:function(){return this.node.checked},update:function(){e.addBinding(this.attr);o(this.root,this.keypath,this.value());e.trigger()},teardown:function(){this.node.removeEventListener("change",f,false);this.node.removeEventListener("click",f,false)}};w=function(e,t){p(this,e,t);t.addEventListener("change",f,false)};w.prototype={value:function(){return this.attr.pNode.files},update:function(){o(this.attr.root,this.attr.keypath,this.value());e.trigger()},teardown:function(){this.node.removeEventListener("change",f,false)}};b=function(e,t){p(this,e,t);t.addEventListener("change",f,false);if(!this.root.lazy){t.addEventListener("input",f,false);if(t.attachEvent){t.addEventListener("keyup",f,false)}}};b.prototype={update:function(){e.addBinding(this.attr);o(this.root,this.keypath,this.node.innerHTML);e.trigger()},teardown:function(){this.node.removeEventListener("change",f,false);this.node.removeEventListener("input",f,false);this.node.removeEventListener("keyup",f,false)}};E=function(e,t){p(this,e,t);t.addEventListener("change",f,false);if(!this.root.lazy){t.addEventListener("input",f,false);if(t.attachEvent){t.addEventListener("keyup",f,false)}}this.node.addEventListener("blur",c,false)};E.prototype={value:function(){var e=this.attr.pNode.value;if(+e+""===e&&e.indexOf("e")===-1){e=+e}return e},update:function(){var t=this.attr,n=this.value();e.addBinding(t);o(t.root,t.keypath,n);e.trigger()},teardown:function(){this.node.removeEventListener("change",f,false);this.node.removeEventListener("input",f,false);this.node.removeEventListener("keyup",f,false);this.node.removeEventListener("blur",c,false)}};p=function(e,t,n){e.attr=t;e.node=n;e.root=t.root;e.keypath=t.keypath};return u}(R,Z,yn,x,X,U);var bn=function(e,t,n){var r,i,o,s,a,u,f,l,c,h,p,d;r=function(){var e;if(!this.ready){return this}e=this.pNode;if(e.tagName==="SELECT"&&this.lcName==="value"){this.update=o;this.deferredUpdate=s;return this.update()}if(this.isFileInputValue){this.update=i;return this}if(this.twoway&&this.lcName==="name"){if(e.type==="radio"){this.update=f;return this.update()}if(e.type==="checkbox"){this.update=l;return this.update()}}if(this.lcName==="style"&&e.style.setAttribute){this.update=c;return this.update()}if(this.lcName==="class"&&(!e.namespaceURI||e.namespaceURI===t.html)){this.update=h;return this.update()}if(e.getAttribute("contenteditable")&&this.lcName==="value"){this.update=p;return this.update()}this.update=d;return this.update()};i=function(){return this};s=function(){this.deferredUpdate=this.pNode.multiple?u:a;this.deferredUpdate()};o=function(){e.addSelectValue(this);return this};a=function(){var e=this.fragment.getValue(),t,n,r,i;this.value=this.pNode._ractive.value=e;t=this.pNode.options;i=t.length;while(i--){n=t[i];r=n._ractive?n._ractive.value:n.value;if(r==e){n.selected=true;return this}}return this};u=function(){var e=this.fragment.getValue(),t,r,i,o;if(!n(e)){e=[e]}t=this.pNode.options;r=t.length;while(r--){i=t[r];o=i._ractive?i._ractive.value:i.value;i.selected=e.indexOf(o)!==-1}this.value=e;return this};f=function(){var e,t;e=this.pNode;t=this.fragment.getValue();e.checked=t==e._ractive.value;return this};l=function(){var e,t;e=this.pNode;t=this.fragment.getValue();if(!n(t)){e.checked=t==e._ractive.value;return this}e.checked=t.indexOf(e._ractive.value)!==-1;return this};c=function(){var e,t;e=this.pNode;t=this.fragment.getValue();if(t===undefined){t=""}if(t!==this.value){e.style.setAttribute("cssText",t);this.value=t}return this};h=function(){var e,t;e=this.pNode;t=this.fragment.getValue();if(t===undefined){t=""}if(t!==this.value){e.className=t;this.value=t}return this};p=function(){var e,t;e=this.pNode;t=this.fragment.getValue();if(t===undefined){t=""}if(t!==this.value){if(!this.active){e.innerHTML=t}this.value=t}return this};d=function(){var e,t,n;e=this.pNode;t=this.fragment.getValue();if(this.isValueAttribute){e._ractive.value=t}if(t==undefined){t=""}if(t!==this.value){if(this.useProperty){if(!this.active){e[this.propertyName]=t}if(e.tagName==="OPTION"&&e.selected&&(n=this.element.select.binding)){n.update()}this.value=t;return this}if(this.namespace){e.setAttributeNS(this.namespace,this.name,t);this.value=t;return this}if(this.lcName==="id"){if(this.value!==undefined){this.root.nodes[this.value]=undefined}this.root.nodes[t]=e}e.setAttribute(this.name,t);this.value=t}return this};return r}(R,s,L);var En=function(e){var t;t=this.str.substr(this.pos,e.length);if(t===e){this.pos+=e.length;return e}return null};var _n=function(){var e=/^\s+/;return function(){var t=e.exec(this.remaining());if(!t){return null}this.pos+=t[0].length;return t[0]}}();var xn=function(e){return function(t){var n=e.exec(t.str.substring(t.pos));if(!n){return null}t.pos+=n[0].length;return n[1]||n[0]}};var kn=function(e){var t,n,r;t=e(/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/);n=e(/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/);r=e(/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/);return function(e){return function(i){var o,s,a,u;o=i.pos;s='"';a=false;while(!a){u=t(i)||n(i)||i.getStringMatch(e);if(u){if(u==='"'){s+='\\"'}else if(u==="\\'"){s+="'"}else{s+=u}}else{u=r(i);if(u){s+="\\u"+("000"+u.charCodeAt(1).toString(16)).slice(-4)}else{a=true}}}s+='"';return JSON.parse(s)}}}(xn);var Sn=function(e){return e('"')}(kn);var On=function(e){return e("'")}(kn);var Tn=function(e,t,n){return function(r){var i,o;i=r.pos;if(r.getStringMatch('"')){o=n(r);if(!r.getStringMatch('"')){r.pos=i;return null}return{t:e.STRING_LITERAL,v:o}}if(r.getStringMatch("'")){o=t(r);if(!r.getStringMatch("'")){r.pos=i;return null}return{t:e.STRING_LITERAL,v:o}}return null}}(F,Sn,On);var An=function(e,t){var n=t(/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/);return function(t){var r;if(r=n(t)){return{t:e.NUMBER_LITERAL,v:r}}return null}}(F,xn);var Nn=function(e){return e(/^[a-zA-Z_$][a-zA-Z_$0-9]*/)}(xn);var Rn=function(e,t,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var o;if(o=e(i)){return r.test(o.v)?o.v:'"'+o.v.replace(/"/g,'\\"')+'"'}if(o=t(i)){return o.v}if(o=n(i)){return o}}}(Tn,An,Nn);var Cn=function(e,t,n,r){var i,o,s,a,u,f;o={"true":true,"false":false,undefined:undefined,"null":null};s=new RegExp("^(?:"+Object.keys(o).join("|")+")");a=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;u=/\$\{([^\}]+)\}/g;f=/^\$\{([^\}]+)\}/;i=function(e,t){this.str=e;this.values=t;this.pos=0;this.result=this.getToken()};i.prototype={remaining:function(){return this.str.substring(this.pos)},getStringMatch:e,getToken:function(){this.allowWhitespace();return this.getPlaceholder()||this.getSpecial()||this.getNumber()||this.getString()||this.getObject()||this.getArray()},getPlaceholder:function(){var e;if(!this.values){return null}if((e=f.exec(this.remaining()))&&this.values.hasOwnProperty(e[1])){this.pos+=e[0].length;return{v:this.values[e[1]]}}},getSpecial:function(){var e;if(e=s.exec(this.remaining())){this.pos+=e[0].length;return{v:o[e[0]]}}},getNumber:function(){var e;if(e=a.exec(this.remaining())){this.pos+=e[0].length;return{v:+e[0]}}},getString:function(){var e=n(this),t;if(e&&(t=this.values)){return{v:e.v.replace(u,function(e,n){return t[n]||n})}}return e},getObject:function(){var e,t;if(!this.getStringMatch("{")){return null}e={};while(t=l(this)){e[t.key]=t.value;this.allowWhitespace();if(this.getStringMatch("}")){return{v:e}}if(!this.getStringMatch(",")){return null}}return null},getArray:function(){var e,t;if(!this.getStringMatch("[")){return null}e=[];while(t=this.getToken()){e.push(t.v);if(this.getStringMatch("]")){return{v:e}}if(!this.getStringMatch(",")){return null}}return null},allowWhitespace:t};function l(e){var t,n,i;e.allowWhitespace();t=r(e);if(!t){return null}i={key:t};e.allowWhitespace();if(!e.getStringMatch(":")){return null}e.allowWhitespace();n=e.getToken();if(!n){return null}i.value=n.v;return i}return function(e,t){var n=new i(e,t);if(n.result){return{value:n.result.v,remaining:n.remaining()}}return null}}(En,_n,Tn,Rn);var Ln=function(e,t,n){var r=function(t){this.type=e.INTERPOLATOR;n.init(this,t)};r.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,render:function(e){this.value=e;this.parentFragment.bubble()},teardown:function(){t(this)},toString:function(){if(this.value==undefined){return""}return i(this.value)}};return r;function i(e){if(typeof e==="string"){return e}return JSON.stringify(e)}}(F,Ht,nn);var In=function(e,t,n,r,i){var o,s;i.push(function(){s=i.StringFragment});o=function(n){this.type=e.SECTION;this.fragments=[];this.length=0;t.init(this,n)};o.prototype={update:t.update,resolve:t.resolve,reassign:t.reassign,teardown:function(){this.teardownFragments();r(this)},teardownFragments:function(){while(this.fragments.length){this.fragments.shift().teardown()}this.length=0},bubble:function(){this.value=this.fragments.join("");this.parentFragment.bubble()},render:function(e){var t;if(t=this.root._wrapped[this.keypath]){e=t.get()}n(this,e);this.parentFragment.bubble()},createFragment:function(e){return new s(e)},toString:function(){return this.fragments.join("")}};return o}(F,nn,sn,Ht,b);var jn=function(e){var t=function(t){this.type=e.TEXT;this.text=t};t.prototype={toString:function(){return this.text},reassign:function(){},teardown:function(){}};return t}(F);var Pn=function(e,t){return function(){var n,r,i,o,s,a,u;if(!this.argsList||this.dirty){n={};r=0;o=this.root._guid;u=function(e){return e.map(function(e){var t,i,s;if(e.text){return e.text}if(e.fragments){return e.fragments.map(function(e){return u(e.items)}).join("")}t=o+"-"+r++;if(i=e.root._wrapped[e.keypath]){s=i.value}else{s=e.value}n[t]=s;return"${"+t+"}"}).join("")};i=u(this.items);a=t("["+i+"]",n);if(!a){s="Could not parse directive arguments ("+this.toString()+"). If you think this is a bug, please file an issue at http://github.com/RactiveJS/Ractive/issues";if(this.root.debug){throw new Error(s)}else{e(s);this.argsList=[i]}}else{this.argsList=a.value}this.dirty=false}return this.argsList}}(Z,Cn);var Mn=function(e,t,n,r,i,o,s,a){var u=function(e){n.init(this,e)};u.prototype={reassign:n.reassign,createItem:function(t){if(typeof t.descriptor==="string"){return new o(t.descriptor)}switch(t.descriptor.t){case e.INTERPOLATOR:return new r(t);case e.TRIPLE:return new r(t);case e.SECTION:return new i(t);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.dirty=true;this.owner.bubble()},teardown:function(){var e,t;e=this.items.length;for(t=0;t<e;t+=1){this.items[t].teardown()}},getValue:function(){var t;if(this.items.length===1&&this.items[0].type===e.INTERPOLATOR){t=this.items[0].value;if(t!==undefined){return t}}return this.toString()},isSimple:function(){var t,n,r;if(this.simple!==undefined){return this.simple}t=this.items.length;while(t--){n=this.items[t];if(n.type===e.TEXT){continue}if(n.type===e.INTERPOLATOR){if(r){return false}else{r=true;continue}}return this.simple=false}return this.simple=true},toString:function(){return this.items.join("")},toJSON:function(){var e=this.getValue(),n;if(typeof e==="string"){n=t(e);e=n?n.value:e}return e},toArgsList:s};a.StringFragment=u;return u}(F,Cn,Vt,Ln,In,jn,Pn,b);var Fn=function(e,t,n,r,i,o,s,a,u){var f=function(e){this.type=t.ATTRIBUTE;this.element=e.element;n(this,e.name);if(e.value===null||typeof e.value==="string"){r(this,e);return}this.root=e.root;this.pNode=e.pNode;this.parentFragment=this.element.parentFragment;this.fragment=new u({descriptor:e.value,root:this.root,owner:this});this.interpolator=o(this);if(!this.pNode){return}if(this.name==="value"){this.isValueAttribute=true;if(this.pNode.tagName==="INPUT"&&this.pNode.type==="file"){this.isFileInputValue=true}}i(this,e);this.selfUpdating=this.fragment.isSimple();this.ready=true};f.prototype={bind:s,update:a,updateBindings:function(){this.keypath=this.interpolator.keypath||this.interpolator.ref;if(this.propertyName==="name"){this.pNode.name="{{"+this.keypath+"}}"}},reassign:function(e,t,n,r){if(this.fragment){this.fragment.reassign(e,t,n,r);if(this.twoway){this.updateBindings()}}},teardown:function(){var e;if(this.boundEvents){e=this.boundEvents.length;while(e--){this.pNode.removeEventListener(this.boundEvents[e],this.updateModel,false)}}if(this.fragment){this.fragment.teardown()}},bubble:function(){if(this.selfUpdating){this.update()}else if(!this.deferred&&this.ready){e.addAttribute(this);this.deferred=true}},toString:function(){var e,t;if(this.value===null){return this.name}if(this.name==="value"&&this.element.lcName==="select"){return}if(this.name==="name"&&this.element.lcName==="input"&&(t=this.interpolator)){return"name={{"+(t.keypath||t.ref)+"}}"}if(!this.fragment){return this.name+"="+JSON.stringify(this.value)}e=this.fragment.toString();return this.name+"="+JSON.stringify(e)}};return f}(R,F,dn,vn,gn,mn,wn,bn,Mn);var Dn=function(e){return function t(n,r,i){var o=new e({element:n,name:r,value:i,root:n.root,pNode:n.node});n.attributes.push(n.attributes[r]=o);if(r!=="name"){o.update()}}}(Fn);var Bn=function(e){return function(t,n){var r;t.attributes=[];for(r in n){if(n.hasOwnProperty(r)){e(t,r,n[r])}}return t.attributes}}(Dn);var Un=function mo(e){var t=[],n=e.length;while(n--){t[n]=e[n]}return t};var Vn=function(e){return function t(n,r){if(!n.matchingStaticNodes[r]){n.matchingStaticNodes[r]=e(n.node.querySelectorAll(r))}return n.matchingStaticNodes[r]}}(Un);var Wn=function(e,t,n,r,i){var o,s,a;i.push(function(){o=i.DomFragment});s=function(){var e=this.node,t=this.fragment.toString();if(e.styleSheet){e.styleSheet.cssText=t}else{e.innerHTML=t}};a=function(){if(!this.node.type||this.node.type==="text/javascript"){e("Script tag was updated. This does not cause the code to be re-evaluated!")}this.node.text=this.fragment.toString()};return function f(e,r,i,l){if(e.lcName==="script"||e.lcName==="style"){e.fragment=new n({descriptor:i.f,root:e.root,owner:e});if(l){if(e.lcName==="script"){e.bubble=a;e.node.text=e.fragment.toString()}else{e.bubble=s;e.bubble()}}return}if(typeof i.f==="string"&&(!r||(!r.namespaceURI||r.namespaceURI===t.html))){e.html=i.f;if(l){r.innerHTML=e.html;e.matchingStaticNodes={};u(e)}}else{e.fragment=new o({descriptor:i.f,root:e.root,pNode:r,owner:e,pElement:e});if(l){r.appendChild(e.fragment.docFrag)}}};function u(e){var t,n,i,o,s,a,u;i=e.node;t=e.root;do{n=t._liveQueries;u=n.length;while(u--){o=n[u];s=n[o];a=r(e,o);s.push.apply(s,a)}}while(t=t._parent)}}(Z,s,Mn,Vn,b);var qn=function(e,t){var n=function(n,r,i){var o=this,s,a,u;o.root=r;o.node=i.node;s=n.n||n;if(typeof s!=="string"){a=new t({descriptor:s,root:r,owner:i});s=a.toString();a.teardown()}if(n.a){o.params=n.a}else if(n.d){o.fragment=new t({descriptor:n.d,root:r,owner:i});o.params=o.fragment.toArgsList();o.fragment.bubble=function(){this.dirty=true;o.params=this.toArgsList();if(o.ready){o.update()}}}o.fn=r.decorators[s];if(!o.fn){u='Missing "'+s+'" decorator. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#decorators';if(r.debug){throw new Error(u)}else{e(u)}}};n.prototype={init:function(){var e,t;if(this.params){t=[this.node].concat(this.params);e=this.fn.apply(this.root,t)}else{e=this.fn.call(this.root,this.node)}if(!e||!e.teardown){throw new Error("Decorator definition must return an object with a teardown method")}this.actual=e;this.ready=true},update:function(){if(this.actual.update){this.actual.update.apply(this.root,this.params)}else{this.actual.teardown(true);this.init()}},teardown:function(e){this.actual.teardown();if(!e&&this.fragment){this.fragment.teardown()}}};return n}(Z,Mn);var zn=function(e,t){return function(n,r,i){var o=new t(n,r,i);if(o.fn){i.decorator=o;e.addDecorator(i.decorator)}}}(R,qn);var Hn=function(e,t){var n,r,i,o,s,a,u,f,l;n=function(e,t,n,i){var o,s;o=e.node._ractive.events;s=o[t]||(o[t]=new r(e,t,i));s.add(n)};r=function(t,n){var r;this.element=t;this.root=t.root;this.node=t.node;this.name=n;this.proxies=[];if(r=this.root.events[n]){this.custom=r(this.node,l(n))}else{if(!("on"+n in this.node)){e('Missing "'+this.name+'" event. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#events')}this.node.addEventListener(n,f,false)}};r.prototype={add:function(e){this.proxies.push(new i(this.element,this.root,e))},teardown:function(){var e;if(this.custom){this.custom.teardown()}else{this.node.removeEventListener(this.name,f,false)}e=this.proxies.length;while(e--){this.proxies[e].teardown()}},fire:function(e){var t=this.proxies.length;while(t--){this.proxies[t].fire(e)}}};i=function(e,n,r){var i;this.root=n;i=r.n||r;if(typeof i==="string"){this.n=i}else{this.n=new t({descriptor:r.n,root:this.root,owner:e})}if(r.a){this.a=r.a;this.fire=s;return}if(r.d){this.d=new t({descriptor:r.d,root:this.root,owner:e});this.fire=a;return}this.fire=o};i.prototype={teardown:function(){if(this.n.teardown){this.n.teardown()}if(this.d){this.d.teardown()}},bubble:function(){}};o=function(e){this.root.fire(this.n.toString(),e)};s=function(e){this.root.fire.apply(this.root,[this.n.toString(),e].concat(this.a))};a=function(e){var t=this.d.toArgsList();if(typeof t==="string"){t=t.substr(1,t.length-2)}this.root.fire.apply(this.root,[this.n.toString(),e].concat(t))};f=function(e){var t=this._ractive;t.events[e.type].fire({node:this,original:e,index:t.index,keypath:t.keypath,context:t.root.get(t.keypath)})};u={};l=function(e){if(u[e]){return u[e]}return u[e]=function(t){var n=t.node._ractive;t.index=n.index;t.keypath=n.keypath;t.context=n.root.get(n.keypath);n.events[e].fire(t)}};return n}(Z,Mn);var $n=function(e){return function(t,n){var r,i,o;for(i in n){if(n.hasOwnProperty(i)){o=i.split("-");r=o.length;while(r--){e(t,o[r],n[i])}}}}}(Hn);var Kn=function(e){var t,n,r,i,o;t=e.root;do{n=t._liveQueries;r=n.length;while(r--){i=n[r];o=n[i];if(o._test(e)){(e.liveQueries||(e.liveQueries=[])).push(o)}}}while(t=t._parent)};var Gn=function(){if(this._inited){throw new Error("Cannot initialize a transition more than once")}this._inited=true;this._fn.apply(this.root,[this].concat(this.params))};var Yn=function(e,t,n){var r,i;if(!e){return}r={};i=n("div").style;return function(e){var n,o,s;if(!r[e]){if(i[e]!==undefined){r[e]=e}else{s=e.charAt(0).toUpperCase()+e.substring(1);n=t.length;while(n--){o=t[n];if(i[o+s]!==undefined){r[e]=o+s;break}}}}return r[e]}}(u,m,a);var Jn=function(e,t,n,r){var i;if(!t){return}i=window.getComputedStyle||e.getComputedStyle;return function(e){var t,i,o,s,a;t=window.getComputedStyle(this.node);if(typeof e==="string"){a=t[r(e)];if(a==="0px"){a=0}return a}if(!n(e)){throw new Error("Transition#getStyle must be passed a string, or an array of strings representing CSS properties")}i={};o=e.length;while(o--){s=e[o];a=t[r(s)];if(a==="0px"){a=0}i[s]=a}return i}}(r,u,L,Yn);var Qn=function(e){return function(t,n){var r;if(typeof t==="string"){this.node.style[e(t)]=n}else{for(r in t){if(t.hasOwnProperty(r)){this.node.style[e(r)]=t[r]}}}return this}}(Yn);var Xn=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})};var Zn=function(e,t,n){var r=function(r){var o;this.duration=r.duration;this.step=r.step;this.complete=r.complete;if(typeof r.easing==="string"){o=r.root.easing[r.easing];if(!o){e('Missing easing function ("'+r.easing+'"). You may need to download a plugin from [TODO]');o=i}}else if(typeof r.easing==="function"){o=r.easing}else{o=i}this.easing=o;this.start=t();this.end=this.start+this.duration;this.running=true;n.add(this)};r.prototype={tick:function(e){var t,n;if(!this.running){return false}if(e>this.end){if(this.step){this.step(1)}if(this.complete){this.complete(1)}return false}t=e-this.start;n=this.easing(t/this.duration);if(this.step){this.step(n)}return true},stop:function(){if(this.abort){this.abort()}this.running=false}};return r;function i(e){return e}}(Z,w,C);var er=function(e){var t=new RegExp("^-(?:"+e.join("|")+")-");return function(e){return e.replace(t,"")}}(m);var tr=function(e){var t=new RegExp("^(?:"+e.join("|")+")([A-Z])");return function(e){var n;if(!e){return""}if(t.test(e)){e="-"+e}n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return n}}(m);var nr=function(e,t,n,r,i,o,s,a,u){var f,l,c,h,p,d,v,g={},m={};if(!e){return}f=n("div").style;(function(){if(f.transition!==undefined){l="transition";c="transitionend";h=true}else if(f.webkitTransition!==undefined){l="webkitTransition";c="webkitTransitionEnd";h=true}else{h=false}})();if(l){p=l+"Duration";d=l+"Property";v=l+"TimingFunction"}return function(e,n,f,l,h,y){setTimeout(function(){var w,b,E,_;_=function(){if(b&&E){y()}};w=e.node.namespaceURI+e.node.tagName;e.node.style[d]=l.map(s).map(u).join(",");e.node.style[v]=u(f.easing||"linear");e.node.style[p]=f.duration/1e3+"s";h=function(t){var n;n=l.indexOf(r(a(t.propertyName)));if(n!==-1){l.splice(n,1)}if(l.length){return}e.root.fire(e.name+":end");e.node.removeEventListener(c,h,false);E=true;_()};e.node.addEventListener(c,h,false);setTimeout(function(){var a=l.length,u,p,d,v=[],y;while(a--){y=l[a];u=w+y;if(g[u]){e.node.style[s(y)]=n[y]}else{p=e.getStyle(y)}if(g[u]===undefined){e.node.style[s(y)]=n[y];g[u]=e.getStyle(y)!=n[y];m[u]=!g[u]}if(m[u]){d=l.indexOf(y);if(d===-1){t("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!")}else{l.splice(d,1)}e.node.style[s(y)]=p;v.push({name:s(y),interpolator:i(p,n[y])})}}if(v.length){new o({root:e.root,duration:f.duration,easing:r(f.easing),step:function(t){var n,r;r=v.length;while(r--){n=v[r];e.node.style[n.name]=n.interpolator(t)}},complete:function(){b=true;_()}})}else{b=true}if(!l.length){e.node.removeEventListener(c,h,false);E=true;_()}},0)},f.delay||0)}}(u,Z,a,Xn,nt,Zn,Yn,er,tr);var rr=function(e,t,n,r,i,o){var s;if(!t){return}s=window.getComputedStyle||e.getComputedStyle;return function(e,t,s,a){var u=this,f;if(typeof e==="string"){f={};f[e]=t}else{f=e;a=s;s=t}if(!s){n('The "'+u.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340');s=u;a=u.complete}var l=new r(function(e){var t,n,r,a,l,c,h,p;if(!s.duration){u.setStyle(f);e();return}t=Object.keys(f);n=[];r=window.getComputedStyle(u.node);l={};h=t.length;while(h--){p=t[h];a=r[i(p)];if(a==="0px"){a=0}if(a!=f[p]){n.push(p);u.node.style[i(p)]=a}}if(!n.length){e();return}o(u,f,s,n,c,e)});if(a){n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)");l.then(a)}return l}}(r,u,Z,v,Yn,nr);var ir=function(e,t){var n;for(n in t){if(t.hasOwnProperty(n)&&!(n in e)){e[n]=t[n]}}return e};var or=function(e){return function(t,n){if(typeof t==="number"){t={duration:t}}else if(typeof t==="string"){if(t==="slow"){t={duration:600}}else if(t==="fast"){t={duration:200}}else{t={duration:400}}}else if(!t){t={}}return e(t,n)}}(ir);var sr=function(){if(this.originalStyle){this.node.setAttribute("style",this.originalStyle)}else{this.node.getAttribute("style");this.node.removeAttribute("style")}};var ar=function(e,t,n,r,i,o,s,a){var u;u=function(n,r,i,o){var s=this,a,u,f;this.root=r;this.node=i.node;this.isIntro=o;this.originalStyle=this.node.getAttribute("style");s.complete=function(e){if(!e&&s.isIntro){s.resetStyle()}s.node._ractive.transition=null;s._manager.remove(s)};a=n.n||n;if(typeof a!=="string"){u=new t({descriptor:a,root:this.root,owner:i});a=u.toString();u.teardown()}this.name=a;if(n.a){this.params=n.a}else if(n.d){u=new t({descriptor:n.d,root:this.root,owner:i});this.params=u.toArgsList();u.teardown()}this._fn=r.transitions[a];if(!this._fn){f='Missing "'+a+'" transition. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#transitions';if(r.debug){throw new Error(f)}else{e(f)}return}};u.prototype={init:n,getStyle:r,setStyle:i,animateStyle:o,processParams:s,resetStyle:a};return u}(Z,Mn,Gn,Jn,Qn,rr,or,sr);var ur=function(e,t){return function(n,r,i,o){var s,a,u;if(!r.transitionsEnabled||r._parent&&!r._parent.transitionsEnabled){return}s=new t(n,r,i,o);if(s._fn){a=s.node;if(u=a._ractive.transition){u.complete()}a._ractive.transition=s;e.addTransition(s)}}}(R,ar);var fr=function(e,t,n,r,i,o,s,a,u,f,l,c,h,p,d,v,g){return function y(w,b,E){var _,x,k,S,O,T,A,N,R,C,L,I;w.type=t.ELEMENT;_=w.parentFragment=b.parentFragment;x=_.pNode;k=w.descriptor=b.descriptor;w.parent=b.pElement;w.root=C=_.root;w.index=b.index;w.lcName=k.e.toLowerCase();w.eventListeners=[];w.customEventListeners=[];w.cssDetachQueue=[];if(x){S=w.namespace=u(k,x);O=S!==n.html?g(k.e):k.e;w.node=s(O,S);if(C.css&&x===C.el){w.node.setAttribute("data-rvcguid",C.constructor._guid||C._guid)}i(w.node,"_ractive",{value:{proxy:w,keypath:a(_),index:_.indexRefs,events:r(null),root:C}})}T=l(w,k.a);if(k.f){if(w.node&&w.node.getAttribute("contenteditable")){if(w.node.innerHTML){I="A pre-populated contenteditable element should not have children";if(C.debug){throw new Error(I)}else{o(I)}}}c(w,w.node,k,E)}if(E&&k.v){p(w,k.v)}if(E){if(C.twoway){w.bind();if(w.node.getAttribute("contenteditable")&&w.node._ractive.binding){w.node._ractive.binding.update()}}if(T.name&&!T.name.twoway){T.name.update()}if(w.node.tagName==="IMG"&&((A=w.attributes.width)||(N=w.attributes.height))){w.node.addEventListener("load",R=function(){if(A){w.node.width=A.value}if(N){w.node.height=N.value}w.node.removeEventListener("load",R,false)},false)}E.appendChild(w.node);if(k.o){h(k.o,C,w)}if(k.t1){v(k.t1,C,w,true)}if(w.node.tagName==="OPTION"){if(x.tagName==="SELECT"&&(L=x._ractive.binding)){L.deferUpdate()}if(!T.value){f(w,"value",k.f)}if(w.node._ractive.value==x._ractive.value){w.node.selected=true}}if(w.node.autofocus){e.focus(w.node)}}if(w.lcName==="option"){w.select=m(w.parent)}d(w)};function m(e){do{if(e.lcName==="select"){return e}}while(e=e.parent)}}(R,F,s,jt,f,Z,a,S,hn,Dn,Bn,Wn,zn,$n,Kn,ur,pn);var lr=function(e,t){return function r(i){var o,s,a;if(i){this.willDetach=true;e.detachWhenReady(this)}if(this.fragment){this.fragment.teardown(false)}while(this.attributes.length){this.attributes.pop().teardown()}if(this.node){for(o in this.node._ractive.events){this.node._ractive.events[o].teardown()}if(s=this.node._ractive.binding){s.teardown();a=this.root._twowayBindings[s.attr.keypath];a.splice(a.indexOf(s),1)}}if(this.decorator){this.decorator.teardown()}if(this.descriptor.t2){t(this.descriptor.t2,this.root,this,false)}if(this.liveQueries){n(this)}};function n(e){var t,n,r,i,o;i=e.liveQueries.length;while(i--){t=e.liveQueries[i];n=t.selector;t._remove(e.node);if(e.matchingStaticNodes&&(r=e.matchingStaticNodes[n])){o=r.length;while(o--){t.remove(r[o])}}}}}(R,ur);var cr=function(e){return function t(n,r,i,o){var s,a,u,f,l,c,h,p,d;s=this.attributes.length;while(s--){this.attributes[s].reassign(n,r,i,o)}if(a=this.node._ractive){e(a,"keypath",i,o);if(n!=undefined){a.index[n]=r}for(u in a.events){f=a.events[u].proxies;s=f.length;while(s--){l=f[s];if(typeof l.n==="object"){l.a.reassign(n,r,i,o)}if(l.d){l.d.reassign(n,r,i,o)}}}if(c=a.binding){if(c.keypath.substr(0,i.length)===i){h=a.root._twowayBindings[c.keypath];h.splice(h.indexOf(c),1);c.keypath=c.keypath.replace(i,o);h=a.root._twowayBindings[c.keypath]||(a.root._twowayBindings[c.keypath]=[]);h.push(c)}}}if(this.fragment){this.fragment.reassign(n,r,i,o)}if(p=this.liveQueries){d=this.root;s=p.length;while(s--){p[s]._makeDirty()}}}}(Bt);var hr="area base br col command doctype embed hr img input keygen link meta param source track wbr".split(" ");var pr=function(e,t){return function(){var t,i,o,s;t="<"+(this.descriptor.y?"!doctype":this.descriptor.e);o=this.attributes.length;for(i=0;i<o;i+=1){if(s=this.attributes[i].toString()){t+=" "+s}}if(this.lcName==="option"&&n(this)){t+=" selected"}if(this.lcName==="input"&&r(this)){t+=" checked"}t+=">";if(this.html){t+=this.html}else if(this.fragment){t+=this.fragment.toString()}if(e.indexOf(this.descriptor.e)===-1){t+="</"+this.descriptor.e+">"}this.stringifying=false;return t};function n(e){var n,r,i,o,s;n=e.attributes.value.value;r=e.select.attributes.value;i=r.interpolator;if(!i){return}o=e.root.get(i.keypath||i.ref);if(o==n){return true}if(e.select.attributes.multiple&&t(o)){s=o.length;while(s--){if(o[s]==n){return true}}}}function r(e){var t,n,r,i;t=e.attributes;n=t.type;r=t.value;i=t.name;if(!n||n.value!=="radio"||!r||!i.interpolator){return}if(r.value===i.interpolator.value){return true}}}(hr,L);var dr=function(e){return function(t){var n;if(e(this.node,t)){return this.node}if(this.html&&(n=this.node.querySelector(t))){return n}if(this.fragment&&this.fragment.find){return this.fragment.find(t)}}}(at);var vr=function(e){return function(t,n){var r,i;if(n._test(this,true)&&n.live){(this.liveQueries||(this.liveQueries=[])).push(n)}if(this.html){r=e(this,t);n.push.apply(n,r);if(n.live&&!i){(this.liveQueries||(this.liveQueries=[])).push(n)}}if(this.fragment){this.fragment.findAll(t,n)}}}(Vn);var gr=function(e){if(this.fragment){return this.fragment.findComponent(e)}};var mr=function(e,t){if(this.fragment){this.fragment.findAllComponents(e,t)}};var yr=function(){var e=this.attributes;if(!this.node){return}if(this.binding){this.binding.teardown();this.binding=null}if(this.node.getAttribute("contenteditable")&&e.value&&e.value.bind()){return}switch(this.descriptor.e){case"select":case"textarea":if(e.value){e.value.bind()}return;case"input":if(this.node.type==="radio"||this.node.type==="checkbox"){if(e.name&&e.name.bind()){return}if(e.checked&&e.checked.bind()){return}}if(e.value&&e.value.bind()){return}}};var wr=function(e,t,n,r,i,o,s,a,u,f,l){var c=function(e,t){n(this,e,t)};c.prototype={detach:function(){var n;if(this.node){if(this.node.parentNode){this.node.parentNode.removeChild(this.node)}return this.node}if(this.cssDetachQueue.length){e.start();while(n===this.cssDetachQueue.pop()){t.remove(n)}e.end()}},teardown:r,reassign:i,firstNode:function(){return this.node},findNextNode:function(){return null},bubble:function(){},toString:o,find:s,findAll:a,findComponent:u,findAllComponents:f,bind:l};return c}(R,_,fr,lr,cr,pr,dr,vr,gr,mr,yr);var br={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser"};var Er={};var _r=function(e){var t,n,r;r="";while(e.length){t=e.indexOf("<!--");n=e.indexOf("-->");if(t===-1&&n===-1){r+=e;break}if(t!==-1&&n===-1){throw"Illegal HTML - expected closing comment sequence ('-->')"}if(n!==-1&&t===-1||n<t){throw"Illegal HTML - unexpected closing comment sequence ('-->')"}r+=e.substr(0,t);e=e.substring(n+3)}return r};var xr=function(e){return function(t){var n,r,i,o,s,a;s=/^\s*\r?\n/;a=/\r?\n\s*$/;for(n=2;n<t.length;n+=1){r=t[n];i=t[n-1];o=t[n-2];if(r.type===e.TEXT&&(i.type===e.MUSTACHE&&i.mustacheType!==e.PARTIAL)&&o.type===e.TEXT){if(a.test(o.value)&&s.test(r.value)){if(i.mustacheType!==e.INTERPOLATOR&&i.mustacheType!==e.TRIPLE){o.value=o.value.replace(a,"\n")}r.value=r.value.replace(s,"");if(r.value===""){t.splice(n--,1)}}}}return t}}(F);var kr=function(e){return function(t){var n,r,i,o;for(n=0;n<t.length;n+=1){r=t[n];i=t[n-1];o=t[n+1];if(r.mustacheType===e.COMMENT||r.mustacheType===e.DELIMCHANGE){t.splice(n,1);if(i&&o){if(i.type===e.TEXT&&o.type===e.TEXT){i.value+=o.value;
t.splice(n,1)}}n-=1}}return t}}(F);var Sr=function(e){var t=e(/^[^\s=]+/);return function(e){var n,r,i;if(!e.getStringMatch("=")){return null}n=e.pos;e.allowWhitespace();r=t(e);if(!r){e.pos=n;return null}e.allowWhitespace();i=t(e);if(!i){e.pos=n;return null}e.allowWhitespace();if(!e.getStringMatch("=")){e.pos=n;return null}return[r,i]}}(xn);var Or=function(e){var t={"#":e.SECTION,"^":e.INVERTED,"/":e.CLOSING,">":e.PARTIAL,"!":e.COMMENT,"&":e.TRIPLE};return function(e){var n=t[e.str.charAt(e.pos)];if(!n){return null}e.pos+=1;return n}}(F);var Tr=function(e,t,n){var r=t(/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/),i=/^[0-9][1-9]*$/;return function(t,s){var a,u,f,l,c,h,p,d,v;a=t.pos;u={type:s?e.TRIPLE:e.MUSTACHE};if(!s){if(l=t.getExpression()){u.mustacheType=e.INTERPOLATOR;t.allowWhitespace();if(t.getStringMatch(t.delimiters[1])){t.pos-=t.delimiters[1].length}else{t.pos=a;l=null}}if(!l){f=n(t);if(f===e.TRIPLE){u={type:e.TRIPLE}}else{u.mustacheType=f||e.INTERPOLATOR}if(f===e.COMMENT||f===e.CLOSING){h=t.remaining();p=h.indexOf(t.delimiters[1]);if(p!==-1){u.ref=h.substr(0,p);t.pos+=p;return u}}}}if(!l){t.allowWhitespace();l=t.getExpression();h=t.remaining();d=s?t.tripleDelimiters[1]:t.delimiters[1];if(h.substr(0,d.length)!==d&&h.charAt(0)!==":"){t.pos=a;h=t.remaining();p=h.indexOf(t.delimiters[1]);if(p!==-1){u.ref=h.substr(0,p).trim();t.pos+=p;return u}}}while(l.t===e.BRACKETED&&l.x){l=l.x}if(l.t===e.REFERENCE){u.ref=l.n}else if(l.t===e.NUMBER_LITERAL&&i.test(l.v)){u.ref=l.v}else if(v=o(l)){u.keypathExpression=v}else{u.expression=l}c=r(t);if(c!==null){u.indexRef=c}return u};function o(t){var n=[];while(t.t===e.MEMBER&&t.r.t===e.REFINEMENT){n.unshift(t.r);t=t.x}if(t.t!==e.REFERENCE){return null}return{r:t.n,m:n}}}(F,xn,Or);var Ar=function(e,t,n){return function(){var e=this.tripleDelimiters[0].length>this.delimiters[0].length;return r(this,e)||r(this,!e)};function r(r,i){var o=r.pos,s,a;a=i?r.tripleDelimiters:r.delimiters;if(!r.getStringMatch(a[0])){return null}s=t(r);if(s){if(!r.getStringMatch(a[1])){r.pos=o;return null}r[i?"tripleDelimiters":"delimiters"]=s;return{type:e.MUSTACHE,mustacheType:e.DELIMCHANGE}}r.allowWhitespace();s=n(r,i);if(s===null){r.pos=o;return null}r.allowWhitespace();if(!r.getStringMatch(a[1])){r.pos=o;return null}return s}}(F,Sr,Tr);var Nr=function(e){return function(){var t,n,r;if(!this.getStringMatch("<!--")){return null}n=this.remaining();r=n.indexOf("-->");if(r===-1){throw new Error('Unexpected end of input (expected "-->" to close comment)')}t=n.substr(0,r);this.pos+=r+3;return{type:e.COMMENT,content:t}}}(F);var Rr=function(e,t){var n,r,i;n=t.length;while(n--){r=e.indexOf(t[n]);if(!r){return 0}if(r===-1){continue}if(!i||r<i){i=r}}return i||-1};var Cr=function(e,t,n){var r,i,o,s,a,u,f,l,c,h,p,d,v;r=function(){return i(this)||o(this)};i=function(t){var n,r,i,o;n=t.pos;if(t.inside){return null}if(!t.getStringMatch("<")){return null}r={type:e.TAG};if(t.getStringMatch("!")){r.doctype=true}r.name=s(t);if(!r.name){t.pos=n;return null}i=a(t);if(i){r.attrs=i}t.allowWhitespace();if(t.getStringMatch("/")){r.selfClosing=true}if(!t.getStringMatch(">")){t.pos=n;return null}o=r.name.toLowerCase();if(o==="script"||o==="style"){t.inside=o}return r};o=function(t){var n,r,i;n=t.pos;i=function(e){throw new Error("Unexpected character "+t.remaining().charAt(0)+" (expected "+e+")")};if(!t.getStringMatch("<")){return null}r={type:e.TAG,closing:true};if(!t.getStringMatch("/")){i('"/"')}r.name=s(t);if(!r.name){i("tag name")}if(!t.getStringMatch(">")){i('">"')}if(t.inside){if(r.name.toLowerCase()!==t.inside){t.pos=n;return null}t.inside=null}return r};s=t(/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/);a=function(e){var t,n,r;t=e.pos;if(!e.getStringMatch(" ")&&!e.getStringMatch("\n")){return null}e.allowWhitespace();r=u(e);if(!r){e.pos=t;return null}n=[];while(r!==null){n.push(r);e.allowWhitespace();r=u(e)}return n};u=function(e){var t,n,r;n=f(e);if(!n){return null}t={name:n};r=l(e);if(r){t.value=r}return t};f=t(/^[^\s"'>\/=]+/);l=function(e){var t,n;t=e.pos;e.allowWhitespace();if(!e.getStringMatch("=")){e.pos=t;return null}e.allowWhitespace();n=v(e,"'")||v(e,'"')||c(e);if(n===null){e.pos=t;return null}return n};p=t(/^[^\s"'=<>`]+/);h=function(t){var n,r,i;n=t.pos;r=p(t);if(!r){return null}if((i=r.indexOf(t.delimiters[0]))!==-1){r=r.substr(0,i);t.pos=n+r.length}return{type:e.TEXT,value:r}};c=function(e){var t,n;t=[];n=e.getMustache()||h(e);while(n!==null){t.push(n);n=e.getMustache()||h(e)}if(!t.length){return null}return t};v=function(e,t){var n,r,i;n=e.pos;if(!e.getStringMatch(t)){return null}r=[];i=e.getMustache()||d(e,t);while(i!==null){r.push(i);i=e.getMustache()||d(e,t)}if(!e.getStringMatch(t)){e.pos=n;return null}return r};d=function(t,r){var i,o,s;i=t.pos;s=t.remaining();o=n(s,[r,t.delimiters[0],t.delimiters[1]]);if(o===-1){throw new Error("Quoted attribute value must have a closing quote")}if(!o){return null}t.pos+=o;return{type:e.TEXT,value:s.substr(0,o)}};return r}(F,xn,Rr);var Lr=function(e,t){return function(){var n,r,i;r=this.remaining();i=this.inside?"</"+this.inside:"<";if(this.inside&&!this.interpolate[this.inside]){n=r.indexOf(i)}else{n=t(r,[i,this.delimiters[0],this.tripleDelimiters[0]])}if(!n){return null}if(n===-1){n=r.length}this.pos+=n;return{type:e.TEXT,value:r.substr(0,n)}}}(F,Rr);var Ir=function(e){return function(t){var n=t.remaining();if(n.substr(0,4)==="true"){t.pos+=4;return{t:e.BOOLEAN_LITERAL,v:"true"}}if(n.substr(0,5)==="false"){t.pos+=5;return{t:e.BOOLEAN_LITERAL,v:"false"}}return null}}(F);var jr=function(e,t){return function(n){var r,i,o;r=n.pos;n.allowWhitespace();i=t(n);if(i===null){n.pos=r;return null}n.allowWhitespace();if(!n.getStringMatch(":")){n.pos=r;return null}n.allowWhitespace();o=n.getExpression();if(o===null){n.pos=r;return null}return{t:e.KEY_VALUE_PAIR,k:i,v:o}}}(F,Rn);var Pr=function(e){return function t(n){var r,i,o,s;r=n.pos;o=e(n);if(o===null){return null}i=[o];if(n.getStringMatch(",")){s=t(n);if(!s){n.pos=r;return null}return i.concat(s)}return i}}(jr);var Mr=function(e,t){return function(n){var r,i;r=n.pos;n.allowWhitespace();if(!n.getStringMatch("{")){n.pos=r;return null}i=t(n);n.allowWhitespace();if(!n.getStringMatch("}")){n.pos=r;return null}return{t:e.OBJECT_LITERAL,m:i}}}(F,Pr);var Fr=function yo(e){var t,n,r,i;t=e.pos;e.allowWhitespace();r=e.getExpression();if(r===null){return null}n=[r];e.allowWhitespace();if(e.getStringMatch(",")){i=yo(e);if(i===null){e.pos=t;return null}n=n.concat(i)}return n};var Dr=function(e,t){return function(n){var r,i;r=n.pos;n.allowWhitespace();if(!n.getStringMatch("[")){n.pos=r;return null}i=t(n);if(!n.getStringMatch("]")){n.pos=r;return null}return{t:e.ARRAY_LITERAL,m:i}}}(F,Fr);var Br=function(e,t,n,r,i){return function(o){var s=e(o)||t(o)||n(o)||r(o)||i(o);return s}}(An,Ir,Tn,Mr,Dr);var Ur=function(e,t,n){var r,i,o,s;r=t(/^\.[a-zA-Z_$0-9]+/);i=function(e){var t=o(e);if(t){return"."+t}return null};o=t(/^\[(0|[1-9][0-9]*)\]/);s=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/;return function(t){var o,a,u,f,l,c,h;o=t.pos;a="";while(t.getStringMatch("../")){a+="../"}if(!a){f=t.getStringMatch(".")||""}u=n(t)||"";if(!a&&!f&&s.test(u)){return{t:e.GLOBAL,v:u}}if(u==="this"&&!a&&!f){u=".";o+=3}l=(a||f)+u;if(!l){return null}while(c=r(t)||i(t)){l+=c}if(t.getStringMatch("(")){h=l.lastIndexOf(".");if(h!==-1){l=l.substr(0,h);t.pos=o+l.length}else{t.pos-=1}}return{t:e.REFERENCE,n:l}}}(F,xn,Nn);var Vr=function(e){return function(t){var n,r;n=t.pos;if(!t.getStringMatch("(")){return null}t.allowWhitespace();r=t.getExpression();if(!r){t.pos=n;return null}t.allowWhitespace();if(!t.getStringMatch(")")){t.pos=n;return null}return{t:e.BRACKETED,x:r}}}(F);var Wr=function(e,t,n){return function(r){return e(r)||t(r)||n(r)}}(Br,Ur,Vr);var qr=function(e,t){return function n(r){var i,o,s;i=r.pos;r.allowWhitespace();if(r.getStringMatch(".")){r.allowWhitespace();if(o=t(r)){return{t:e.REFINEMENT,n:o}}r.expected("a property name")}if(r.getStringMatch("[")){r.allowWhitespace();s=r.getExpression();if(!s){r.expected("an expression")}r.allowWhitespace();if(!r.getStringMatch("]")){r.expected('"]"')}return{t:e.REFINEMENT,x:s}}return null}}(F,Nn);var zr=function(e,t,n,r){return function(i){var o,s,a,u;s=t(i);if(!s){return null}while(s){o=i.pos;if(a=r(i)){s={t:e.MEMBER,x:s,r:a}}else if(i.getStringMatch("(")){i.allowWhitespace();u=n(i);i.allowWhitespace();if(!i.getStringMatch(")")){i.pos=o;break}s={t:e.INVOCATION,x:s};if(u){s.o=u}}else{break}}return s}}(F,Wr,Fr,qr);var Hr=function(e,t){var n,r;r=function(t,n){return function(r){var i,o;if(!r.getStringMatch(t)){return n(r)}i=r.pos;r.allowWhitespace();o=r.getExpression();if(!o){r.expected("an expression")}return{s:t,o:o,t:e.PREFIX_OPERATOR}}};(function(){var e,i,o,s,a;s="! ~ + - typeof".split(" ");a=t;for(e=0,i=s.length;e<i;e+=1){o=r(s[e],a);a=o}n=a})();return n}(F,zr);var $r=function(e,t){var n,r;r=function(t,n){return function(r){var i,o,s;o=n(r);if(!o){return null}while(true){i=r.pos;r.allowWhitespace();if(!r.getStringMatch(t)){r.pos=i;return o}if(t==="in"&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0))){r.pos=i;return o}r.allowWhitespace();s=n(r);if(!s){r.pos=i;return o}o={t:e.INFIX_OPERATOR,s:t,o:[o,s]}}}};(function(){var e,i,o,s,a;s="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" ");a=t;for(e=0,i=s.length;e<i;e+=1){o=r(s[e],a);a=o}n=a})();return n}(F,Hr);var Kr=function(e,t){return function(n){var r,i,o,s;i=t(n);if(!i){return null}r=n.pos;n.allowWhitespace();if(!n.getStringMatch("?")){n.pos=r;return i}n.allowWhitespace();o=n.getExpression();if(!o){n.pos=r;return i}n.allowWhitespace();if(!n.getStringMatch(":")){n.pos=r;return i}n.allowWhitespace();s=n.getExpression();if(!s){n.pos=r;return i}return{t:e.CONDITIONAL,o:[i,o,s]}}}(F,$r);var Gr=function(e){return function(){return e(this)}}(Kr);var Yr=function(e,t,n,r,i,o,s){var a;a=function(e,t){var n;this.str=e;this.pos=0;this.delimiters=t.delimiters;this.tripleDelimiters=t.tripleDelimiters;this.interpolate=t.interpolate;this.tokens=[];while(this.pos<this.str.length){n=this.getToken();if(n===null&&this.remaining()){this.fail()}this.tokens.push(n)}};a.prototype={getToken:function(){var e=this.getMustache()||this.getComment()||this.getTag()||this.getText();return e},getMustache:e,getComment:t,getTag:n,getText:r,getExpression:i,allowWhitespace:o,getStringMatch:s,remaining:function(){return this.str.substring(this.pos)},fail:function(){var e,t;e=this.str.substr(0,this.pos).substr(-20);if(e.length===20){e="..."+e}t=this.remaining().substr(0,20);if(t.length===20){t=t+"..."}throw new Error("Could not parse template: "+(e?e+"<- ":"")+"failed at character "+this.pos+" ->"+t)},expected:function(e){var t=this.remaining().substr(0,40);if(t.length===40){t+="..."}throw new Error('Tokenizer failed: unexpected string "'+t+'" (expected '+e+")")}};return a}(Ar,Nr,Cr,Lr,Gr,_n,En);var Jr=function(e,t,n,r,i){return function(o,s){var a,u;s=s||{};if(s.stripComments!==false){o=t(o)}a=new i(o,{delimiters:s.delimiters||e.defaults.delimiters,tripleDelimiters:s.tripleDelimiters||e.defaults.tripleDelimiters,interpolate:{script:s.interpolateScripts!==false?true:false,style:s.interpolateStyles!==false?true:false}});u=a.tokens;n(u);r(u);return u}}(i,_r,xr,kr,Yr);var Qr=function(e){var t,n,r,i,o,s,a,u,f;t=function(e,t){this.text=t?e.value:e.value.replace(f," ")};t.prototype={type:e.TEXT,toJSON:function(){return this.decoded||(this.decoded=u(this.text))},toString:function(){return this.text}};n={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};r=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376];i=new RegExp("&("+Object.keys(n).join("|")+");?","g");o=/&#x([0-9]+);?/g;s=/&#([0-9]+);?/g;a=function(e){if(!e){return 65533}if(e===10){return 32}if(e<128){return e}if(e<=159){return r[e-128]}if(e<55296){return e}if(e<=57343){return 65533}if(e<=65535){return e}return 65533};u=function(e){var t;t=e.replace(i,function(e,t){if(n[t]){return String.fromCharCode(n[t])}return e});t=t.replace(o,function(e,t){return String.fromCharCode(a(parseInt(t,16)))});t=t.replace(s,function(e,t){return String.fromCharCode(a(t))});return t};f=/\s+/g;return t}(F);var Xr=function(e,t){return function(n,r){if(n.type===e.TEXT){this.pos+=1;return new t(n,r)}return null}}(F,Qr);var Zr=function(e){var t;t=function(e){this.content=e.content};t.prototype={toJSON:function(){return{t:e.COMMENT,f:this.content}},toString:function(){return"<!--"+this.content+"-->"}};return t}(F);var ei=function(e,t){return function(n){if(n.type===e.COMMENT){this.pos+=1;return new t(n,this.preserveWhitespace)}return null}}(F,Zr);var ti=function(e,t){var n=function(e){this.refs=[];i(e,this.refs);this.str=o(e,this.refs)};n.prototype={toJSON:function(){if(!this.json){this.json={r:this.refs,s:this.str}}return this.json}};return n;function r(e){return JSON.stringify(String(e))}function i(n,r){var o,s;if(n.t===e.REFERENCE){if(r.indexOf(n.n)===-1){r.unshift(n.n)}}s=n.o||n.m;if(s){if(t(s)){i(s,r)}else{o=s.length;while(o--){i(s[o],r)}}}if(n.x){i(n.x,r)}if(n.r){i(n.r,r)}if(n.v){i(n.v,r)}}function o(t,n){var i=function(e){return o(e,n)};switch(t.t){case e.BOOLEAN_LITERAL:case e.GLOBAL:case e.NUMBER_LITERAL:return t.v;case e.STRING_LITERAL:return r(t.v);case e.ARRAY_LITERAL:return"["+(t.m?t.m.map(i).join(","):"")+"]";case e.OBJECT_LITERAL:return"{"+(t.m?t.m.map(i).join(","):"")+"}";case e.KEY_VALUE_PAIR:return t.k+":"+o(t.v,n);case e.PREFIX_OPERATOR:return(t.s==="typeof"?"typeof ":t.s)+o(t.o,n);case e.INFIX_OPERATOR:return o(t.o[0],n)+(t.s.substr(0,2)==="in"?" "+t.s+" ":t.s)+o(t.o[1],n);case e.INVOCATION:return o(t.x,n)+"("+(t.o?t.o.map(i).join(","):"")+")";case e.BRACKETED:return"("+o(t.x,n)+")";case e.MEMBER:return o(t.x,n)+o(t.r,n);case e.REFINEMENT:return t.n?"."+t.n:"["+o(t.x,n)+"]";case e.CONDITIONAL:return o(t.o[0],n)+"?"+o(t.o[1],n)+":"+o(t.o[2],n);case e.REFERENCE:return"${"+n.indexOf(t.n)+"}";default:throw new Error("Could not stringify expression token. This error is unexpected")}}}(F,et);var ni=function(e,t){var n;n=function(e){this.json={r:e.r,m:e.m.map(r)}};n.prototype={toJSON:function(){return this.json}};return n;function r(n){if(n.n){return n.n}if(n.x.t===e.STRING_LITERAL||n.x.t===e.NUMBER_LITERAL){return n.x.v}if(n.x.t===e.REFERENCE){return n.x}return new t(n.x).toJSON()}}(F,ti);var ri=function(e,t,n){var r=function(r,i){this.type=r.type===e.TRIPLE?e.TRIPLE:r.mustacheType;if(r.ref){this.ref=r.ref}if(r.keypathExpression){this.keypathExpr=new t(r.keypathExpression)}if(r.expression){this.expr=new n(r.expression)}i.pos+=1};r.prototype={toJSON:function(){var e;if(this.json){return this.json}e={t:this.type};if(this.ref){e.r=this.ref}if(this.keypathExpr){e.kx=this.keypathExpr.toJSON()}if(this.expr){e.x=this.expr.toJSON()}this.json=e;return e},toString:function(){return false}};return r}(F,ni,ti);var ii=function(e){var t="",n,r,i;if(!e){return""}for(r=0,i=e.length;r<i;r+=1){n=e[r].toString();if(n===false){return false}t+=n}return t};var oi=function(e){return function(t,n,r){var i,o;if(!r&&!n){i=e(t);if(i!==false){return i}}o=t.map(function(e){return e.toJSON(n)});return o}}(ii);var si=function(e,t,n,r,i){var o=function(t,n){var o;this.ref=t.ref;this.indexRef=t.indexRef;this.inverted=t.mustacheType===e.INVERTED;if(t.keypathExpression){this.keypathExpr=new r(t.keypathExpression)}if(t.expression){this.expr=new i(t.expression)}n.pos+=1;this.items=[];o=n.next();while(o){if(o.mustacheType===e.CLOSING){s(this,o);n.pos+=1;break}this.items.push(n.getStub());o=n.next()}};function s(e,n){var r=e.ref,i=t(n.ref.trim());if(!r||!i){return}if(e.indexRef){r+=":"+e.indexRef}if(r.substr(0,i.length)!==i){throw new Error("Could not parse template: Illegal closing section {{/"+i+"}}. Expected {{/"+e.ref+"}}.")}}o.prototype={toJSON:function(t){var r;if(this.json){return this.json}r={t:e.SECTION};if(this.ref){r.r=this.ref}if(this.indexRef){r.i=this.indexRef}if(this.inverted){r.n=true}if(this.expr){r.x=this.expr.toJSON()}if(this.keypathExpr){r.kx=this.keypathExpr.toJSON()}if(this.items.length){r.f=n(this.items,t)}this.json=r;return r},toString:function(){return false}};return o}(F,g,oi,ni,ti);var ai=function(e,t,n){return function(r){if(r.type===e.MUSTACHE||r.type===e.TRIPLE){if(r.mustacheType===e.SECTION||r.mustacheType===e.INVERTED){return new n(r,this)}return new t(r,this)}}}(F,ri,si);var ui={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote dir div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tr:["tr"],td:["td","th"],th:["td","th"]};var fi=function(e){return function(e){var n,r,i,o,s,a;i={};n=[];r=[];s=e.length;for(o=0;o<s;o+=1){a=e[o];if(a.name==="intro"){if(i.intro){throw new Error("An element can only have one intro transition")}i.intro=a}else if(a.name==="outro"){if(i.outro){throw new Error("An element can only have one outro transition")}i.outro=a}else if(a.name==="intro-outro"){if(i.intro||i.outro){throw new Error("An element can only have one intro and one outro transition")}i.intro=a;i.outro=t(a)}else if(a.name.substr(0,6)==="proxy-"){a.name=a.name.substring(6);r.push(a)}else if(a.name.substr(0,3)==="on-"){a.name=a.name.substring(3);r.push(a)}else if(a.name==="decorator"){i.decorator=a}else{n.push(a)}}i.attrs=n;i.proxies=r;return i};function t(n){var r,i;if(typeof n!=="object"){return n}if(e(n)){return n.map(t)}r={};for(i in n){if(n.hasOwnProperty(i)){r[i]=t(n[i])}}return r}}(L);var li=function(e,t){return function(n){var r,i,o,s,a,u,f,l;a=function(){throw new Error("Illegal directive")};if(!n.name||!n.value){a()}r={directiveType:n.name};i=n.value;u=[];f=[];while(i.length){o=i.shift();if(o.type===e.TEXT){s=o.value.indexOf(":");if(s===-1){u.push(o)}else{if(s){u.push({type:e.TEXT,value:o.value.substr(0,s)})}if(o.value.length>s+1){f[0]={type:e.TEXT,value:o.value.substring(s+1)}}break}}else{u.push(o)}}f=f.concat(i);if(u.length===1&&u[0].type===e.TEXT){r.name=u[0].value}else{r.name=u}if(f.length){if(f.length===1&&f[0].type===e.TEXT){l=t("["+f[0].value+"]");r.args=l?l.value:f[0].value}else{r.dynamicArgs=f}}return r}}(F,Cn);var ci=function(e,t){var n;n=function(e,t){var n;this.tokens=e||[];this.pos=0;this.options=t;this.result=[];while(n=this.getStub()){this.result.push(n)}};n.prototype={getStub:function(){var e=this.next();if(!e){return null}return this.getText(e)||this.getMustache(e)},getText:e,getMustache:t,next:function(){return this.tokens[this.pos]}};return n}(Xr,ai);var hi=function(e,t,n){var r;r=function(t){var n=new e(t);this.stubs=n.result};r.prototype={toJSON:function(e){var t;if(this["json_"+e]){return this["json_"+e]}t=this["json_"+e]=n(this.stubs,e);return t},toString:function(){if(this.str!==undefined){return this.str}this.str=t(this.stubs);return this.str}};return r}(ci,ii,oi);var pi=function(e){return function(t){var n,r;if(typeof t.name==="string"){if(!t.args&&!t.dynamicArgs){return t.name}r=t.name}else{r=new e(t.name).toJSON()}n={n:r};if(t.args){n.a=t.args;return n}if(t.dynamicArgs){n.d=new e(t.dynamicArgs).toJSON()}return n}}(hi);var di=function(e,t,n){return function(r){var i,o,s,a,u,f,l;if(this["json_"+r]){return this["json_"+r]}i={t:e.ELEMENT,e:this.tag};if(this.doctype){i.y=1}if(this.attributes&&this.attributes.length){i.a={};f=this.attributes.length;for(u=0;u<f;u+=1){l=this.attributes[u];o=l.name;if(i.a[o]){throw new Error("You cannot have multiple attributes with the same name")}if(l.value===null){s=null}else{s=l.value.toJSON(r)}i.a[o]=s}}if(this.items&&this.items.length){i.f=t(this.items,r)}if(this.proxies&&this.proxies.length){i.v={};f=this.proxies.length;for(u=0;u<f;u+=1){a=this.proxies[u];i.v[a.directiveType]=n(a)}}if(this.intro){i.t1=n(this.intro)}if(this.outro){i.t2=n(this.outro)}if(this.decorator){i.o=n(this.decorator)}this["json_"+r]=i;return i}}(F,oi,pi);var vi=function(e,t){var n;n="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" ");return function(){var r,i,o,s,a,u,f,l;if(this.str!==undefined){return this.str}if(n.indexOf(this.tag.toLowerCase())===-1){return this.str=false}if(this.proxies||this.intro||this.outro||this.decorator){return this.str=false}f=e(this.items);if(f===false){return this.str=false}l=t.indexOf(this.tag.toLowerCase())!==-1;r="<"+this.tag;if(this.attributes){for(i=0,o=this.attributes.length;i<o;i+=1){a=this.attributes[i].name;if(a.indexOf(":")!==-1){return this.str=false}if(a==="id"||a==="intro"||a==="outro"){return this.str=false}s=" "+a;if(this.attributes[i].value!==null){u=this.attributes[i].value.toString();if(u===false){return this.str=false}if(u!==""){s+="=";if(/[\s"'=<>`]/.test(u)){s+='"'+u.replace(/"/g,"&quot;")+'"'}else{s+=u}}}r+=s}}if(this.selfClosing&&!l){r+="/>";return this.str=r}r+=">";if(l){return this.str=r}r+=f;r+="</"+this.tag+">";return this.str=r}}(ii,hr);var gi=function(e,t,n,r,i,o,s,a,u){var f,l,c,h,p,d=/^\s+/,v=/\s+$/;f=function(s,a,f){var l,c,h,g,m,y,w;a.pos+=1;y=function(e){return{name:e.name,value:e.value?new u(e.value):null}};this.tag=s.name;w=s.name.toLowerCase();if(w.substr(0,3)==="rv-"){n('The "rv-" prefix for components has been deprecated. Support will be removed in a future version');this.tag=this.tag.substring(3)}f=f||w==="pre"||w==="style"||w==="script";if(s.attrs){h=i(s.attrs);c=h.attrs;g=h.proxies;if(a.options.sanitize&&a.options.sanitize.eventAttributes){c=c.filter(p)}if(c.length){this.attributes=c.map(y)}if(g.length){this.proxies=g.map(o)}if(h.intro){this.intro=o(h.intro)}if(h.outro){this.outro=o(h.outro)}if(h.decorator){this.decorator=o(h.decorator)}}if(s.doctype){this.doctype=true}if(s.selfClosing){this.selfClosing=true}if(t.indexOf(w)!==-1){this.isVoid=true}if(this.selfClosing||this.isVoid){return}this.siblings=r[w];this.items=[];l=a.next();while(l){if(l.mustacheType===e.CLOSING){break}if(l.type===e.TAG){if(l.closing){if(l.name.toLowerCase()===w){a.pos+=1}break}else if(this.siblings&&this.siblings.indexOf(l.name.toLowerCase())!==-1){break}}this.items.push(a.getStub(f));l=a.next()}if(!f){m=this.items[0];if(m&&m.type===e.TEXT){m.text=m.text.replace(d,"");if(!m.text){this.items.shift()}}m=this.items[this.items.length-1];if(m&&m.type===e.TEXT){m.text=m.text.replace(v,"");if(!m.text){this.items.pop()}}}};f.prototype={toJSON:s,toString:a};l="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" ");c="li dd rt rp optgroup option tbody tfoot tr td th".split(" ");h=/^on[a-zA-Z]/;p=function(e){var t=!h.test(e.name);return t};return f}(F,hr,Z,ui,fi,li,di,vi,hi);var mi=function(e){return function(t){if(this.options.sanitize&&this.options.sanitize.elements){if(this.options.sanitize.elements.indexOf(t.name.toLowerCase())!==-1){return null}}return new e(t,this,this.preserveWhitespace)}}(gi);var yi=function(e,t,n,r,i){var o;o=function(e,t){var n,r;this.tokens=e||[];this.pos=0;this.options=t;this.preserveWhitespace=t.preserveWhitespace;r=[];while(n=this.getStub()){r.push(n)}this.result=i(r,t.noStringify,true)};o.prototype={getStub:function(e){var t=this.next();if(!t){return null}return this.getText(t,this.preserveWhitespace||e)||this.getComment(t)||this.getMustache(t)||this.getElement(t)},getText:e,getComment:t,getMustache:n,getElement:r,next:function(){return this.tokens[this.pos]}};return o}(Xr,ei,ai,mi,oi);var wi=function(e,t,n){var r,i,o,s,a;i=/^\s*$/;o=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/;s=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/;r=function(r,s){var u,f,l;s=s||{};if(o.test(r)){return a(r,s)}if(s.sanitize===true){s.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:true}}u=e(r,s);if(!s.preserveWhitespace){l=u[0];if(l&&l.type===t.TEXT&&i.test(l.value)){u.shift()}l=u[u.length-1];if(l&&l.type===t.TEXT&&i.test(l.value)){u.pop()}}f=new n(u,s).result;if(typeof f==="string"){return[f]}return f};a=function(e,t){var n,i,a,u,f,l;a={};n="";i=e;while(f=o.exec(i)){u=f[1];n+=i.substr(0,f.index);i=i.substring(f.index+f[0].length);l=s.exec(i);if(!l||l[1]!==u){throw new Error("Inline partials must have a closing delimiter, and cannot be nested")}a[u]=r(i.substr(0,l.index),t);i=i.substring(l.index+l[0].length)}return{main:r(n,t),partials:a}};return r}(Jr,F,yi);var bi=function(){var e=/^\s*$/,t=/^\s*/;return function(t){var r,i,o,s;r=t.split("\n");i=r[0];if(i!==undefined&&e.test(i)){r.shift()}o=r[r.length-1];if(o!==undefined&&e.test(o)){r.pop()}s=r.reduce(n,null);if(s){t=r.map(function(e){return e.replace(s,"")}).join("\n")}return t};function n(e,n){var r=t.exec(n)[0];if(e===null||r.length<e.length){return r}return e}}();var Ei=function(e,t,n,r,i,o,s){var a,u,f,l;a=function(r,a){var c,h,p;if(h=f(r,a)){return h}if(t){c=document.getElementById(a);if(c&&c.tagName==="SCRIPT"){if(!o){throw new Error(e.missingParser)}u(o(s(c.text),r.parseOptions),a,i)}}h=i[a];if(!h){p='Could not find descriptor for partial "'+a+'"';if(r.debug){throw new Error(p)}else{n(p)}return[]}return l(h)};f=function(t,n){var r;if(t.partials[n]){if(typeof t.partials[n]==="string"){if(!o){throw new Error(e.missingParser)}r=o(t.partials[n],t.parseOptions);u(r,n,t.partials)}return l(t.partials[n])}};u=function(e,t,n){var i;if(r(e)){n[t]=e.main;for(i in e.partials){if(e.partials.hasOwnProperty(i)){n[i]=e.partials[i]}}}else{n[t]=e}};l=function(e){if(e.length===1&&typeof e[0]==="string"){return e[0]}return e};return a}(br,u,Z,et,Er,wi,bi);var _i=function(e,t){var n;if(!t){return e}n=e.split("\n").map(function(e,n){return n?t+e:e}).join("\n");return n};var xi=function(e,t,n,r){var i,o;r.push(function(){o=r.DomFragment});i=function(n,r){var i=this.parentFragment=n.parentFragment,s;this.type=e.PARTIAL;this.name=n.descriptor.r;this.index=n.index;if(!n.descriptor.r){throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.")}s=t(i.root,n.descriptor.r);this.fragment=new o({descriptor:s,root:i.root,pNode:i.pNode,owner:this});if(r){r.appendChild(this.fragment.docFrag)}};i.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},reassign:function(e,t,n,r){return this.fragment.reassign(e,t,n,r)},teardown:function(e){this.fragment.teardown(e)},toString:function(){var t,r,i,o;t=this.fragment.toString();r=this.parentFragment.items[this.index-1];if(!r||r.type!==e.TEXT){return t}i=r.descriptor.split("\n").pop();if(o=/^\s+$/.exec(i)){return n(t,o[0])}return t},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)}};return i}(F,Ei,_i,b);var ki=function(e,t){var n=function(e,n,r){this.parentFragment=e.parentFragment;this.component=e;this.key=n;this.fragment=new t({descriptor:r,root:e.root,owner:this});this.selfUpdating=this.fragment.isSimple();this.value=this.fragment.getValue()};n.prototype={bubble:function(){if(this.selfUpdating){this.update()}else if(!this.deferred&&this.ready){e.addAttribute(this);this.deferred=true}},update:function(){var e=this.fragment.getValue();this.component.instance.set(this.key,e);this.value=e},teardown:function(){this.fragment.teardown()}};return n}(R,Mn);var Si=function(e,t,n,r,i){return function(e,t,n,r){var i,s,a;i={};e.complexParameters=[];for(s in n){if(n.hasOwnProperty(s)){a=o(e,s,n[s],r);if(a!==undefined||t[s]===undefined){i[s]=a}}}return i};function o(o,s,a,u){var f,l,c,h,p,d;c=o.root;h=o.parentFragment;if(typeof a==="string"){l=t(a);return l?l.value:a}if(a===null){return true}if(a.length===1&&a[0].t===e.INTERPOLATOR&&a[0].r){if(h.indexRefs&&h.indexRefs[d=a[0].r]!==undefined){o.indexRefBindings[d]=s;return h.indexRefs[d]}p=n(c,a[0].r,h)||a[0].r;u.push({childKeypath:s,parentKeypath:p});return r(c,p)}f=new i(o,s,a);o.complexParameters.push(f);return f.value}}(F,Cn,O,X,ki);var Oi=function(){return function(t,n,r,i,o){var s,a,u,f,l;a=t.parentFragment;f=t.root;u={content:o||[]};l=e(f,n.defaults.adapt,n.adaptors);s=new n({el:a.pNode,append:true,data:r,partials:u,magic:f.magic||n.defaults.magic,modifyArrays:f.modifyArrays,_parent:f,_component:t,adapt:l});
if(i){s.insert(i);s.fragment.pNode=s.el=a.pNode}return s};function e(e,t){var n,r,i;if(e.adapt.length){n=e.adapt.map(function(t){if(typeof t==="object"){return t}return e.adaptors[t]||t})}else{n=[]}if(r=t.length){for(i=0;i<r;i+=1){if(n.indexOf(t[i])===-1){n.push(t[i])}}}return n}}();var Ti=function(e,t,n){return function r(i,o){o.forEach(function s(r){var o,s;e(i,i.root,r.parentKeypath,r.childKeypath);o=t(i.instance,r.childKeypath);s=t(i.root,r.parentKeypath);if(o!==undefined&&s===undefined){n(i.root,r.parentKeypath,o)}})}}(Y,X,U);var Ai=function(e){var t="Components currently only support simple events - you cannot include arguments. Sorry!";return function(e,t){var r;for(r in t){if(t.hasOwnProperty(r)){n(e.instance,e.root,r,t[r])}}};function n(n,r,i,o){if(typeof o!=="string"){if(r.debug){throw new Error(t)}else{e(t);return}}n.on(i,function(){var e=Array.prototype.slice.call(arguments);e.unshift(o);r.fire.apply(r,e)})}}(Z);var Ni=function(e){var t,n;t=e.root;while(t){if(n=t._liveComponentQueries[e.name]){n.push(e.instance)}t=t._parent}};var Ri=function(e,t,n,r,i,o,s){return function a(u,f,l){var c,h,p,d,v;c=u.parentFragment=f.parentFragment;h=c.root;u.root=h;u.type=e.COMPONENT;u.name=f.descriptor.e;u.index=f.index;u.indexRefBindings={};u.bindings=[];p=h.components[f.descriptor.e];if(!p){throw new Error('Component "'+f.descriptor.e+'" not found')}v=[];d=n(u,p.data||{},f.descriptor.a,v);r(u,p,d,l,f.descriptor.f);i(u,v);o(u,f.descriptor.v);if(f.descriptor.t1||f.descriptor.t2||f.descriptor.o){t('The "intro", "outro" and "decorator" directives have no effect on components')}s(u)}}(F,Z,Si,Oi,Ti,Ai,Ni);var Ci=function(e,t){var n=function(t,n){e(this,t,n)};n.prototype={firstNode:function(){return this.instance.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.instance.fragment.detach()},teardown:function(e){while(this.complexParameters.length){this.complexParameters.pop().teardown()}while(this.bindings.length){this.bindings.pop().teardown()}r(this);this.shouldDestroy=e;this.instance.teardown()},reassign:function(e,n,r,i){var o=this.instance,s=o._parent,a,u;this.bindings.forEach(function(a){var u;if(a.root!==s){return}if(a.keypath===e){o.set(a.otherKeypath,n)}if(u=t(a.keypath,r,i)){a.reassign(u)}});if(a=this.indexRefBindings[e]){o.set(a,n)}if(u=this.root._liveComponentQueries[this.name]){u._makeDirty()}},toString:function(){return this.instance.fragment.toString()},find:function(e){return this.instance.fragment.find(e)},findAll:function(e,t){return this.instance.fragment.findAll(e,t)},findComponent:function(e){if(!e||e===this.name){return this.instance}if(this.instance.fragment){return this.instance.fragment.findComponent(e)}return null},findAllComponents:function(e,t){t._test(this,true);if(this.instance.fragment){this.instance.fragment.findAllComponents(e,t)}}};return n;function r(e){var t,n;t=e.root;do{if(n=t._liveComponentQueries[e.name]){n._remove(e)}}while(t=t._parent)}}(Ri,Dt);var Li=function(e,t){var n=function(t,n){this.type=e.COMMENT;this.descriptor=t.descriptor;if(n){this.node=document.createComment(t.descriptor.f);n.appendChild(this.node)}};n.prototype={detach:t,teardown:function(e){if(e){this.detach()}},firstNode:function(){return this.node},toString:function(){return"<!--"+this.descriptor.f+"-->"}};return n}(F,qt);var Ii=function(e,t,n,r,i,o,s,a,u,f,l,c,h){var p=function(e){if(e.pNode){this.docFrag=document.createDocumentFragment()}if(typeof e.descriptor==="string"){this.html=e.descriptor;if(this.docFrag){this.nodes=r(this.html,e.pNode.tagName,e.pNode.namespaceURI,this.docFrag)}}else{n.init(this,e)}};p.prototype={reassign:n.reassign,detach:function(){var e,t;if(this.docFrag){if(this.nodes){e=this.nodes.length;for(t=0;t<e;t+=1){this.docFrag.appendChild(this.nodes[t])}}else if(this.items){e=this.items.length;for(t=0;t<e;t+=1){this.docFrag.appendChild(this.items[t].detach())}}return this.docFrag}},createItem:function(t){if(typeof t.descriptor==="string"){return new i(t,this.docFrag)}switch(t.descriptor.t){case e.INTERPOLATOR:return new o(t,this.docFrag);case e.SECTION:return new s(t,this.docFrag);case e.TRIPLE:return new a(t,this.docFrag);case e.ELEMENT:if(this.root.components[t.descriptor.e]){return new l(t,this.docFrag)}return new u(t,this.docFrag);case e.PARTIAL:return new f(t,this.docFrag);case e.COMMENT:return new c(t,this.docFrag);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/RactiveJS/Ractive/issues. Thanks!")}},teardown:function(e){var t;if(this.nodes&&e){while(t=this.nodes.pop()){t.parentNode.removeChild(t)}}else if(this.items){while(this.items.length){this.items.pop().teardown(e)}}this.nodes=this.items=this.docFrag=null},firstNode:function(){if(this.items&&this.items[0]){return this.items[0].firstNode()}else if(this.nodes){return this.nodes[0]||null}return null},findNextNode:function(e){var t=e.index;if(this.items[t+1]){return this.items[t+1].firstNode()}if(this.owner===this.root){if(!this.owner.component){return null}return this.owner.component.findNextNode()}return this.owner.findNextNode(this)},toString:function(){var e,t,n,r;if(this.html){return this.html}e="";if(!this.items){return e}n=this.items.length;for(t=0;t<n;t+=1){r=this.items[t];e+=r.toString()}return e},find:function(e){var n,r,i,o,s;if(this.nodes){r=this.nodes.length;for(n=0;n<r;n+=1){o=this.nodes[n];if(o.nodeType!==1){continue}if(t(o,e)){return o}if(s=o.querySelector(e)){return s}}return null}if(this.items){r=this.items.length;for(n=0;n<r;n+=1){i=this.items[n];if(i.find&&(s=i.find(e))){return s}}return null}},findAll:function(e,n){var r,i,o,s,a,u,f;if(this.nodes){i=this.nodes.length;for(r=0;r<i;r+=1){s=this.nodes[r];if(s.nodeType!==1){continue}if(t(s,e)){n.push(s)}if(a=s.querySelectorAll(e)){u=a.length;for(f=0;f<u;f+=1){n.push(a[f])}}}}else if(this.items){i=this.items.length;for(r=0;r<i;r+=1){o=this.items[r];if(o.findAll){o.findAll(e,n)}}}return n},findComponent:function(e){var t,n,r,i;if(this.items){t=this.items.length;for(n=0;n<t;n+=1){r=this.items[n];if(r.findComponent&&(i=r.findComponent(e))){return i}}return null}},findAllComponents:function(e,t){var n,r,i;if(this.items){r=this.items.length;for(n=0;n<r;n+=1){i=this.items[n];if(i.findAllComponents){i.findAllComponents(e,t)}}}return t}};h.DomFragment=p;return p}(F,at,Vt,Wt,zt,rn,ln,cn,wr,xi,Ci,Li,b);var ji=function(e,t,n){return function i(o,s){this._rendering=true;e.start(this,s);if(!this._initing){throw new Error("You cannot call ractive.render() directly!")}if(this.constructor.css){t.add(this.constructor)}this.fragment=new n({descriptor:this.template,root:this,owner:this,pNode:o});if(o){o.appendChild(this.fragment.docFrag)}if(!this._parent||!this._parent._rendering){r(this)}delete this._rendering;e.end()};function r(e){var t;while(t=e._childInitQueue.pop()){if(t.instance.init){t.instance.init(t.options)}r(t.instance)}}}(R,_,Ii);var Pi=function(e){return function(){e("renderHTML() has been deprecated and will be removed in a future version. Please use toHTML() instead");return this.toHTML()}}(Z);var Mi=function(e,t,n,r){return function(i,o){var s,a,u;if(typeof i==="function"){o=i;i={}}else{i=i||{}}if(typeof i!=="object"){throw new Error("The reset method takes either no arguments, or an object containing new data")}s=new e(function(e){a=e});if(o){s.then(o)}t.start(this,a);if((u=this._wrapped[""])&&u.reset){if(u.reset(i)===false){this.data=i}}else{this.data=i}n(this,"");r(this,"");t.end();this.fire("reset",i);return s}}(v,R,D,A);var Fi=function(e,t,n,r,i){return function o(s,a,u){var f,l,c;l=new r(function(e){c=e});e.start(this,c);if(t(s)){f=s;u=a;for(s in f){if(f.hasOwnProperty(s)){a=f[s];s=n(s);i(this,s,a)}}}else{s=n(s);i(this,s,a)}e.end();if(u){l.then(u.bind(this))}return l}}(R,et,g,v,U);var Di=function(e){return function(t,n){return e(this,t,n===undefined?-1:-n)}}(h);var Bi=function(e,t,n,r,i){return function(o){var s,a,u,f,l,c,h,p;this.fire("teardown");f=!this.component||this.component.shouldDestroy;if(this.constructor.css){if(f){l=o;o=function(){if(l){l.call(this)}t.remove(this.constructor)}}else{c=this.component.parentFragment;do{if(c.owner.type!==e.ELEMENT){continue}if(c.owner.willDetach){h=c.owner}}while(!h&&(c=c.parent));if(!h){throw new Error("A component is being torn down but doesn't have a nearest detaching element... this shouldn't happen!")}h.cssDetachQueue.push(this.constructor)}}a=new r(function(e){u=e});n.start(this,u);this.fragment.teardown(f);while(this._animations[0]){this._animations[0].stop()}for(s in this._cache){i(this,s)}while(p=this._unresolvedImplicitDependencies.pop()){p.teardown()}n.end();if(o){a.then(o.bind(this))}return a}}(F,_,R,v,D);var Ui=function(){return this.fragment.toString()};var Vi=function(e,t){var n;if(typeof e!=="string"){if(this.debug){throw new Error("Bad arguments")}return}n=this.get(e);return this.set(e,!n,t)};var Wi=function(e,t,n,r){return function(i,o){var s,a;if(typeof i==="function"){o=i;i=""}else{i=i||""}s=new t(function(e){a=e});e.start(this,a);n(this,i);r(this,i);e.end();this.fire("update",i);if(o){s.then(o.bind(this))}return s}}(R,v,D,A);var qi=function(e,t,n){return function i(t,n){var i,o,s;if(typeof t!=="string"){t="";n=true}r(this,t,i={},o=[],n);if(s=o.length){while(s--){t=o[s];i[t]=e(this,t)}}this.set(i)};function r(e,i,o,s,a){var u,f,l,c,h,p;u=e._twowayBindings[i];if(u){l=u.length;while(l--){c=u[l];if(c.radioName&&!c.node.checked){continue}if(c.checkboxName){if(c.changed()&&s[i]!==true){s[i]=true;s.push(i)}continue}h=c.attr.value;p=c.value();if(t(h,p)){continue}if(!n(h,p)){o[i]=p}}}if(!a){return}f=e._depsMap[i];if(f){l=f.length;while(l--){r(e,f[l],o,s,a)}}}}(x,yn,d);var zi=function(e,t,n,r,i,o,s,a,u,f,l,c,h,p,d,v,g,m,y,w,b,E,_,x){return{add:e,animate:t,detach:n,find:r,findAll:i,findAllComponents:o,findComponent:s,fire:a,get:u,insert:f,merge:l,observe:c,off:h,on:p,render:d,renderHTML:v,reset:g,set:m,subtract:y,teardown:w,toHTML:b,toggle:E,update:_,updateModel:x}}(p,it,ot,st,gt,mt,yt,wt,Et,xt,Ot,Ct,Lt,It,ji,Pi,Mi,Fi,Di,Bi,Ui,Vi,Wi,qi);var Hi={};var $i={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){if((e/=.5)<1){return.5*Math.pow(e,3)}return.5*(Math.pow(e-2,3)+2)}};var Ki=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;t=Math.random()*16|0;n=e=="x"?t:t&3|8;return n.toString(16)})};var Gi=function(e){var t,n,r=Array.prototype.slice.call(arguments,1);while(n=r.shift()){for(t in n){if(n.hasOwnProperty(t)){e[t]=n[t]}}}return e};var Yi=["adaptors","components","decorators","easing","events","interpolators","partials","transitions","data"];var Ji=function(){var e=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,t=/\/\*.*?\*\//g,n=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g;return function o(s,a){var u,f;f=function(e){var t,r,o,s,u,f,l,c,h=[];t=[];while(r=n.exec(e)){t.push({str:r[0],base:r[1],modifiers:r[2]})}s='[data-rvcguid="'+a+'"]';u=t.map(i);c=t.length;while(c--){l=u.slice();o=t[c];l[c]=o.base+s+o.modifiers||"";f=u.slice();f[c]=s+" "+f[c];h.push(l.join(" "),f.join(" "))}return h.join(", ")};u=s.replace(t,"").replace(e,function(e,t){var n,i;n=t.split(",").map(r);i=n.map(f).join(", ")+" ";return e.replace(t,i)});return u};function r(e){if(e.trim){return e.trim()}return e.replace(/^\s+/,"").replace(/\s+$/,"")}function i(e){return e.str}}();var Qi=function(e,t,n,r){return function(i,o){e.forEach(function(e){if(o[e]){i[e]=t(o[e])}});n(i,"defaults",{value:t(o.defaults)});if(o.css){n(i,"css",{value:o.defaults.noCssTransform?o.css:r(o.css,i._guid)})}}}(Yi,jt,f,Ji);var Xi=function(e,t){if(/_super/.test(e)){return function(){var n=this._super,r;this._super=t;r=e.apply(this,arguments);this._super=n;return r}}else{return e}};var Zi=function(e,t){var n;for(n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return e};var eo=function(e,t,n,r,i,o){var s={};t.concat(e.keys).forEach(function(e){s[e]=true});return function(a,u){var f,l;t.forEach(function(e){var t=u[e];if(t){if(a[e]){i(a[e],t)}else{a[e]=t}}});e.keys.forEach(function(e){var t=u[e];if(t!==undefined){if(typeof t==="function"&&typeof a[e]==="function"){a.defaults[e]=r(t,a[e])}else{a.defaults[e]=u[e]}}});for(f in u){if(!s[f]&&u.hasOwnProperty(f)){l=u[f];if(typeof l==="function"&&typeof a.prototype[f]==="function"){a.prototype[f]=r(l,a.prototype[f])}else{a.prototype[f]=l}}}if(u.css){n(a,"css",{value:a.defaults.noCssTransform?u.css:o(u.css,a._guid)})}}}(i,Yi,f,Xi,Zi,Ji);var to=function(e,t){return function(n,r){if(e(n.defaults.template)){if(!n.partials){n.partials={}}t(n.partials,n.defaults.template.partials);if(r.partials){t(n.partials,r.partials)}n.defaults.template=n.defaults.template.main}}}(et,Zi);var no=function(e,t,n){return function(r){var i;if(typeof r.defaults.template==="string"){if(!n){throw new Error(e.missingParser)}if(r.defaults.template.charAt(0)==="#"&&t){i=document.getElementById(r.defaults.template.substring(1));if(i&&i.tagName==="SCRIPT"){r.defaults.template=n(i.innerHTML,r)}else{throw new Error("Could not find template element ("+r.defaults.template+")")}}else{r.defaults.template=n(r.defaults.template,r.defaults)}}}}(br,u,wi);var ro=function(e,t){return function(n){var r;if(n.partials){for(r in n.partials){if(n.partials.hasOwnProperty(r)&&typeof n.partials[r]==="string"){if(!t){throw new Error(e.missingParser)}n.partials[r]=t(n.partials[r],n)}}}}}(br,wi);var io=function(){var e=/\$\{([^\}]+)\}/g;return function(e){if(typeof e==="function"){return{get:e}}if(typeof e==="string"){return{get:t(e)}}if(typeof e==="object"&&typeof e.get==="string"){e={get:t(e.get),set:e.set}}return e};function t(t){var n="var __ractive=this;return("+t.replace(e,function(e,t){return'__ractive.get("'+t+'")'})+")";return new Function(n)}}();var oo=function(e,t,n){var r=function(e,n){this.root=e.ractive;this.keypath=n;this.priority=0;this.computation=e;t(this)};r.prototype={update:function(){var t;t=this.root.get(this.keypath);if(!e(t,this.value)){this.computation.bubble()}},teardown:function(){n(this)}};return r}(d,K,G);var so=function(e,t,n,r){var i=function(e,t,n){this.ractive=e;this.key=t;this.getter=n.get;this.setter=n.set;this.watchers=[];this.update()};i.prototype={set:function(e){if(this.setting){this.value=e;return}if(!this.setter){throw new Error("Computed properties without setters are read-only in the current version")}this.setter.call(this.ractive,e)},update:function(){var t,r,i,s;t=this.ractive;r=t._captured;if(!r){t._captured=[]}try{i=this.getter.call(t)}catch(a){if(t.debug){e('Failed to compute "'+this.key+'": '+a.message||a)}s=true}o(this,this.watchers,t._captured);t._captured=r;if(!s){this.setting=true;this.value=i;n(t,this.key,i);this.setting=false}this.deferred=false},bubble:function(){if(this.watchers.length<=1){this.update()}else if(!this.deferred){t.addComputation(this);this.deferred=true}}};function o(e,t,n){var i,o,s;i=t.length;while(i--){o=t[i];if(!n[o.keypath]){t.splice(i,1);t[o.keypath]=null;o.teardown()}}i=n.length;while(i--){s=n[i];if(!t[s]){o=new r(e,s);t.push(t[s]=o)}}}return i}(Z,R,U,oo);var ao=function(e,t){return function n(r,i){var o,s;for(o in i){s=e(i[o]);r._computations[o]=new t(r,o,s)}}}(io,so);var uo=function(e,t,n,r,i,o,s,a,u,f,l,c,h,p,d,v,g){var m=["adapt","modifyArrays","magic","twoway","lazy","debug","isolated"];return function y(w,b){var E,_,x,k,S,O,T;if(c(b.adaptors)){i("The `adaptors` option, to indicate which adaptors should be used with a given Ractive instance, has been deprecated in favour of `adapt`. See [TODO] for more information");b.adapt=b.adaptors;delete b.adaptors}E=w.constructor.defaults;n.keys.forEach(function(e){if(b[e]===undefined){b[e]=E[e]}});m.forEach(function(e){w[e]=b[e]});if(typeof w.adapt==="string"){w.adapt=[w.adapt]}if(w.magic&&!d){throw new Error("Getters and setters (magic mode) are not supported in this browser")}u(w,{_initing:{value:true,writable:true},_guid:{value:h()},_subs:{value:o(null),configurable:true},_cache:{value:{}},_cacheMap:{value:o(null)},_deps:{value:[]},_depsMap:{value:o(null)},_patternObservers:{value:[]},_evaluators:{value:o(null)},_computations:{value:o(null)},_twowayBindings:{value:{}},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:o(null)},_liveQueries:{value:[]},_liveComponentQueries:{value:[]},_childInitQueue:{value:[]},_changes:{value:[]},_unresolvedImplicitDependencies:{value:[]}});if(b._parent&&b._component){u(w,{_parent:{value:b._parent},component:{value:b._component}});b._component.instance=w}if(b.el){w.el=f(b.el);if(!w.el&&w.debug){throw new Error("Could not find container element")}}if(b.eventDefinitions){i("ractive.eventDefinitions has been deprecated in favour of ractive.events. Support will be removed in future versions");b.events=b.eventDefinitions}r.forEach(function(e){if(w.constructor[e]){w[e]=s(o(w.constructor[e]),b[e])}else if(b[e]){w[e]=b[e]}});if(!w.data){w.data={}}T=E.computed?s(o(E.computed),b.computed):b.computed;if(T){g(w,T)}_=b.template;if(typeof _==="string"){if(!v){throw new Error(t.missingParser)}if(_.charAt(0)==="#"&&e){x=document.getElementById(_.substring(1));if(x){k=v(x.innerHTML,b)}else{throw new Error("Could not find template element ("+_+")")}}else{k=v(_,b)}}else{k=_}if(l(k)){a(w.partials,k.partials);k=k.main}if(k&&k.length===1&&typeof k[0]==="string"){k=k[0]}w.template=k;s(w.partials,b.partials);w.parseOptions={preserveWhitespace:b.preserveWhitespace,sanitize:b.sanitize,stripComments:b.stripComments};w.transitionsEnabled=b.noIntro?false:b.transitionsEnabled;if(e&&!w.el){w.el=document.createDocumentFragment()}if(w.el&&!b.append){w.el.innerHTML=""}S=new p(function(e){O=e});w.render(w.el,O);if(b.complete){S.then(b.complete.bind(w))}w.transitionsEnabled=b.transitionsEnabled;w._initing=false}}(u,br,i,Yi,Z,jt,Gi,ir,l,_t,et,L,Ki,v,z,wi,ao);var fo=function(e,t,n){return function r(i,o,s){e.keys.forEach(function(e){var n=s[e],r=o.defaults[e];if(typeof n==="function"&&typeof r==="function"){s[e]=t(n,r)}});if(i.beforeInit){i.beforeInit(s)}n(i,s);if(s._parent&&s._parent._rendering){s._parent._childInitQueue.push({instance:i,options:s})}else if(i.init){i.init(s)}}}(i,Xi,uo);var lo=function(e,t,n,r,i,o,s,a,u,f,l){var c;l.push(function(){c=l.Ractive});return function h(l){var h=this,p,d,v;if(l.prototype instanceof c){l=r({},l,l.prototype,l.defaults)}p=function(e){f(this,p,e||{})};p.prototype=e(h.prototype);p.prototype.constructor=p;t(p,{extend:{value:h.extend},_guid:{value:n()}});i(p,h);o(p,l);if(p.adaptors&&(v=p.defaults.adapt.length)){while(v--){d=p.defaults.adapt[v];if(typeof d==="string"){p.defaults.adapt[v]=p.adaptors[d]||d}}}if(l.template){a(p);s(p,l);u(p)}return p}}(jt,l,Ki,Gi,Qi,eo,to,no,ro,fo,b);var co=function(e,t,n,r,i,o,s,a,u,f,l,c,h,p){var d=function(e){h(this,e)};d.prototype=r;n(d,{partials:{value:i},adaptors:{value:o},easing:{value:a},transitions:{value:{}},events:{value:{}},components:{value:s},decorators:{value:{}},interpolators:{value:u},defaults:{value:e.defaults},svg:{value:t},VERSION:{value:"0.4.0"}});d.eventDefinitions=d.events;d.prototype.constructor=d;d.Promise=f;d.extend=l;d.parse=c;p.Ractive=d;return d}(i,o,l,zi,Er,j,Hi,$i,tt,v,lo,wi,uo,b);var ho=function(e,t){var n="function";while(t.length){t.pop()()}if(typeof Date.now!==n||typeof String.prototype.trim!==n||typeof Object.keys!==n||typeof Array.prototype.indexOf!==n||typeof Array.prototype.forEach!==n||typeof Array.prototype.map!==n||typeof Array.prototype.filter!==n||typeof window!=="undefined"&&typeof window.addEventListener!==n){throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.")}if(typeof window!=="undefined"&&window.Node&&!window.Node.prototype.contains&&window.HTMLElement&&window.HTMLElement.prototype.contains){window.Node.prototype.contains=window.HTMLElement.prototype.contains}return e}(co,b,r);if(typeof t!=="undefined"&&t.exports){t.exports=ho}else if(typeof define==="function"&&define.amd){define(function(){return ho})}e.Ractive=ho;ho.noConflict=function(){e.Ractive=n;return ho}})(typeof window!=="undefined"?window:this)},{}],65:[function(e,t,n){t.exports=function r(e,t){var n=0;var r=t.indexOf(e);while(r!==-1){n++;r=t.indexOf(e,r+1)}return n}},{}],66:[function(e,t,n){var r=e("./templateToolbox");var i=e("./numberOfOccurrances");var o=e("events").EventEmitter;function s(){return Object.create(new o)}function a(e,t){var n=Object.create(e);var r=0;t.forEach(function(e){var t=e.split("=");var i,o;if(t.length>1){i=t[0];o=t[1]}else{r++;i=r;o=t[0]}n[i]=o});return n}function u(e){var t=e.data;if(!t){t=e.ractive?e.ractive.get():{}}e.templateElements=[];e.html=e.html.replace(/::([^:]+)::/gm,function(n,o,u,f){var l=i("<code",f.substr(0,u));var c=i("</code",f.substr(0,u));if(l!==c){return n}else{var h=s();var p=o.split("|");h.postName=p.shift(0);h.elementId=r.generateId(h.postName);h.data=a(t,p);e.templateElements.push(h);return r.generatePostDiv(h.elementId)}});return e}t.exports=u},{"./numberOfOccurrances":65,"./templateToolbox":67,events:80}],67:[function(e,t,n){var r=e("pagedown").Converter;var i=new r;var o=/noddity_post_(.+)_[\da-z]{12}4[\da-z]{19}/;function s(e){return e.metadata.markdown!==false?i.makeHtml(e.content):e.content}function a(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}function u(e){return"noddity_post_"+e+"_"+a()}function f(e){var t=o.exec(e);if(t!==null){return t[1]}}function l(e){return o.test(e)}function c(e){return'<span class="noddity-template" id="'+e+'"></span>'}function h(e,t){var n=Object.create(t);var r=0;e.forEach(function(e){var t=e.split("=");var i,o;if(t.length>1){i=t[0];o=t[1]}else{r++;i=r;o=t[0]}n[i]=o});return n}t.exports={generateId:u,getPostName:f,generatePostDiv:c,isAPostDiv:l,getTemplateDataObject:h,htmlify:s}},{pagedown:71}],68:[function(e,t,n){t.exports=function r(e){var t={};e.on("post changed",function(e,n,r){if(t[e]){t[e].forEach(function(e){e.emit("post changed",n)})}});return function n(e){if(typeof t[e.postName]==="undefined"){t[e.postName]=[]}t[e.postName].push(e);e.ractive.on("teardown",function(){t[e.postName]=t[e.postName].filter(function(t){return t!==e})})}}},{}],69:[function(e,t,n){var r;if(typeof n==="object"&&typeof e==="function")r=n;else r={};(function(){function e(e){return e}function t(e){return false}function n(){}n.prototype={chain:function(t,n){var r=this[t];if(!r)throw new Error("unknown hook "+t);if(r===e)this[t]=n;else this[t]=function(e){var t=Array.prototype.slice.call(arguments,0);t[0]=r.apply(null,t);return n.apply(null,t)}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}};r.HookCollection=n;function i(){}i.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}};r.Converter=function(){var e=this.hooks=new n;e.addNoop("plainLinkText");e.addNoop("preConversion");e.addNoop("postNormalization");e.addNoop("preBlockGamut");e.addNoop("postBlockGamut");e.addNoop("preSpanGamut");e.addNoop("postSpanGamut");e.addNoop("postConversion");var t;var r;var o;var s;this.makeHtml=function(n){if(t)throw new Error("Recursive call to converter.makeHtml");t=new i;r=new i;o=[];s=0;n=e.preConversion(n);n=n.replace(/~/g,"~T");n=n.replace(/\$/g,"~D");n=n.replace(/\r\n/g,"\n");n=n.replace(/\r/g,"\n");n="\n\n"+n+"\n\n";n=M(n);n=n.replace(/^[ \t]+$/gm,"");n=e.postNormalization(n);n=u(n);n=a(n);n=c(n);n=j(n);n=n.replace(/~D/g,"$$");n=n.replace(/~T/g,"~");n=e.postConversion(n);o=r=t=null;return n};function a(e){e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(e,n,i,o,s,a){n=n.toLowerCase();t.set(n,R(i));if(s){return o}else if(a){r.set(n,a.replace(/"/g,"&quot;"))}return""});return e}function u(e){var t="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del";var n="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math";e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,f);e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,f);e=e.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,f);e=e.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,f);e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,f);return e}function f(e,t){var n=t;n=n.replace(/^\n+/,"");n=n.replace(/\n+$/g,"");n="\n\n~K"+(o.push(n)-1)+"K\n\n";return n}var l=function(e){return c(e)};function c(t,n){t=e.preBlockGamut(t,l);t=w(t);var r="<hr />\n";t=t.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r);t=t.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,r);t=t.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,r);t=b(t);t=x(t);t=A(t);t=e.postBlockGamut(t,l);t=u(t);t=N(t,n);return t}function h(t){t=e.preSpanGamut(t);t=S(t);t=p(t);t=C(t);t=g(t);t=d(t);t=I(t);t=t.replace(/~P/g,"://");t=R(t);t=T(t);t=t.replace(/  +\n/g," <br>\n");t=e.postSpanGamut(t);return t}function p(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");t=B(t,e.charAt(1)=="!"?"\\`*_/":"\\`*_");return t});return e}function d(e){e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,v);e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,v);e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,v);return e}function v(e,n,i,o,s,a,u,f){if(f==undefined)f="";var l=n;var c=i.replace(/:\/\//g,"~P");var h=o.toLowerCase();var p=s;var d=f;if(p==""){if(h==""){h=c.toLowerCase().replace(/ ?\n/g," ")}p="#"+h;if(t.get(h)!=undefined){p=t.get(h);if(r.get(h)!=undefined){d=r.get(h)}}else{if(l.search(/\(\s*\)$/m)>-1){p=""}else{return l}}}p=D(p);p=B(p,"*_");var v='<a href="'+p+'"';if(d!=""){d=m(d);d=B(d,"*_");v+=' title="'+d+'"'}v+=">"+c+"</a>";return v}function g(e){e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,y);e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,y);return e}function m(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function y(e,n,i,o,s,a,u,f){var l=n;var c=i;var h=o.toLowerCase();var p=s;var d=f;if(!d)d="";if(p==""){if(h==""){h=c.toLowerCase().replace(/ ?\n/g," ")}p="#"+h;if(t.get(h)!=undefined){p=t.get(h);if(r.get(h)!=undefined){d=r.get(h)}}else{return l}}c=B(m(c),"*_[]()");p=B(p,"*_");var v='<img src="'+p+'" alt="'+c+'"';d=m(d);d=B(d,"*_");v+=' title="'+d+'"';v+=" />";return v}function w(e){e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){return"<h1>"+h(t)+"</h1>\n\n"});e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,t){return"<h2>"+h(t)+"</h2>\n\n"});e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,t,n){var r=t.length;return"<h"+r+">"+h(n)+"</h"+r+">\n\n"});return e}function b(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;if(s){e=e.replace(t,function(e,t,n){var r=t;var i=n.search(/[*+-]/g)>-1?"ul":"ol";var o=_(r,i);o=o.replace(/\s+$/,"");o="<"+i+">"+o+"</"+i+">\n";return o})}else{t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;e=e.replace(t,function(e,t,n,r){var i=t;var o=n;var s=r.search(/[*+-]/g)>-1?"ul":"ol";var a=_(o,s);a=i+"<"+s+">\n"+a+"</"+s+">\n";return a})}e=e.replace(/~0/,"");return e}var E={ol:"\\d+[.]",ul:"[*+-]"};function _(e,t){s++;e=e.replace(/\n{2,}$/,"\n");e+="~0";var n=E[t];var r=new RegExp("(^[ \\t]*)("+n+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+n+")[ \\t]+))","gm");var i=false;e=e.replace(r,function(e,t,n,r){var o=r;var s=t;var a=/\n\n$/.test(o);var u=a||o.search(/\n{2,}/)>-1;if(u||i){o=c(P(o),true)}else{o=b(P(o));o=o.replace(/\n$/,"");o=h(o)}i=a;return"<li>"+o+"</li>\n"});e=e.replace(/~0/g,"");s--;return e}function x(e){e+="~0";e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t;var i=n;r=O(P(r));r=M(r);r=r.replace(/^\n+/g,"");r=r.replace(/\n+$/g,"");r="<pre><code>"+r+"\n</code></pre>";return"\n\n"+r+"\n\n"+i});e=e.replace(/~0/,"");return e}function k(e){e=e.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(o.push(e)-1)+"K\n\n"}function S(e){e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r,i){var o=r;o=o.replace(/^([ \t]*)/g,"");o=o.replace(/[ \t]*$/g,"");o=O(o);o=o.replace(/:\/\//g,"~P");return t+"<code>"+o+"</code>"});return e}function O(e){e=e.replace(/&/g,"&amp;");e=e.replace(/</g,"&lt;");e=e.replace(/>/g,"&gt;");e=B(e,"*_{}[]\\",false);return e}function T(e){e=e.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4");e=e.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4");return e}function A(e){e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;n=n.replace(/^[ \t]*>[ \t]?/gm,"~0");n=n.replace(/~0/g,"");n=n.replace(/^[ \t]+$/gm,"");n=c(n);n=n.replace(/(^|\n)/g,"$1  ");n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;n=n.replace(/^  /gm,"~0");n=n.replace(/~0/g,"");return n});return k("<blockquote>\n"+n+"\n</blockquote>")});return e}function N(e,t){e=e.replace(/^\n+/g,"");e=e.replace(/\n+$/g,"");var n=e.split(/\n{2,}/g);var r=[];var i=/~K(\d+)K/;var s=n.length;for(var a=0;a<s;a++){var u=n[a];if(i.test(u)){r.push(u)}else if(/\S/.test(u)){u=h(u);u=u.replace(/^([ \t]*)/g,"<p>");u+="</p>";r.push(u)}}if(!t){s=r.length;for(var a=0;a<s;a++){var f=true;while(f){f=false;r[a]=r[a].replace(/~K(\d+)K/g,function(e,t){f=true;return o[t]})}}}return r.join("\n\n")}function R(e){e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");e=e.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;");return e}function C(e){e=e.replace(/\\(\\)/g,U);e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,U);return e}function L(e,t,n,r){if(t)return e;if(r.charAt(r.length-1)!==")")return"<"+n+r+">";var i=r.match(/[()]/g);var o=0;for(var s=0;s<i.length;s++){if(i[s]==="("){if(o<=0)o=1;else o++}else{o--}}var a="";if(o<0){var u=new RegExp("\\){1,"+-o+"}$");r=r.replace(u,function(e){a=e;return""})}return"<"+n+r+">"+a}function I(t){t=t.replace(/(="|<)?\b(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\])])(?=$|\W)/gi,L);var n=function(t,n){return'<a href="'+n+'">'+e.plainLinkText(n)+"</a>"};t=t.replace(/<((https?|ftp):[^'">\s]+)>/gi,n);return t}function j(e){e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)});return e}function P(e){e=e.replace(/^(\t|[ ]{1,4})/gm,"~0");e=e.replace(/~0/g,"");return e}function M(e){if(!/\t/.test(e))return e;var t=["    ","   ","  "," "],n=0,r;return e.replace(/[\n\t]/g,function(e,i){if(e==="\n"){n=i+1;return e}r=(i-n)%4;n=i+1;return t[r]})}var F=/(?:["'*()[\]:]|~D)/g;function D(e){if(!e)return"";var t=e.length;return e.replace(F,function(n,r){if(n=="~D")return"%24";if(n==":"){if(r==t-1||/[0-9\/]/.test(e.charAt(r+1)))return":"}return"%"+n.charCodeAt(0).toString(16)})}function B(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";if(n){r="\\\\"+r}var i=new RegExp(r,"g");e=e.replace(i,U);return e}function U(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}}})()},{}],70:[function(e,t,n){(function(){var t,r;if(typeof n==="object"&&typeof e==="function"){t=n;r=e("./Markdown.Converter").Converter}else{t=window.Markdown;r=t.Converter}t.getSanitizingConverter=function(){var e=new r;e.hooks.chain("postConversion",i);e.hooks.chain("postConversion",f);return e};function i(e){return e.replace(/<[^>]*>?/gi,u)}var o=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i;var s=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i;
var a=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i;function u(e){if(e.match(o)||e.match(s)||e.match(a))return e;else return""}function f(e){if(e=="")return"";var t=/<\/?\w+[^>]*(\s|$|>)/g;var n=e.toLowerCase().match(t);var r=(n||[]).length;if(r==0)return e;var i,o;var s="<p><img><br><li><hr>";var a;var u=[];var f=[];var l=false;for(var c=0;c<r;c++){i=n[c].replace(/<\/?(\w+).*/,"$1");if(u[c]||s.search("<"+i+">")>-1)continue;o=n[c];a=-1;if(!/^<\//.test(o)){for(var h=c+1;h<r;h++){if(!u[h]&&n[h]=="</"+i+">"){a=h;break}}}if(a==-1)l=f[c]=true;else u[a]=true}if(!l)return e;var c=0;e=e.replace(t,function(e){var t=f[c]?"":e;c++;return t});return e}})()},{"./Markdown.Converter":69}],71:[function(e,t,n){n.Converter=e("./Markdown.Converter").Converter;n.getSanitizingConverter=e("./Markdown.Sanitizer").getSanitizingConverter},{"./Markdown.Converter":69,"./Markdown.Sanitizer":70}],72:[function(e,t,n){(function(e){"use strict";var n=e.Ractive;var r=function(){var e={el:void 0,append:false,template:{v:1,t:[]},"yield":null,preserveWhitespace:false,sanitize:false,stripComments:true,data:{},computed:{},magic:false,modifyArrays:true,adapt:[],isolated:false,twoway:true,lazy:false,noIntro:false,transitionsEnabled:true,complete:void 0,noCssTransform:false,debug:false};return e}();var i={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){if((e/=.5)<1){return.5*Math.pow(e,3)}return.5*(Math.pow(e-2,3)+2)}};var o=[];var s=Object.prototype.hasOwnProperty;var a=function(){var e=Object.prototype.toString;return function(t){return e.call(t)==="[object Array]"}}();var u=function(){var e=Object.prototype.toString;return function(t){return t&&e.call(t)==="[object Object]"}}();var f=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};var l=function(e,t,n,r,i){var o,s,a;e.push(function(){s=e.interpolate});a=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/;o={number:function(e,t){var n;if(!i(e)||!i(t)){return null}e=+e;t=+t;n=t-e;if(!n){return function(){return e}}return function(t){return e+t*n}},array:function(e,t){var r,i,o,a;if(!n(e)||!n(t)){return null}r=[];i=[];a=o=Math.min(e.length,t.length);while(a--){i[a]=s(e[a],t[a])}for(a=o;a<e.length;a+=1){r[a]=e[a]}for(a=o;a<t.length;a+=1){r[a]=t[a]}return function(e){var t=o;while(t--){r[t]=i[t](e)}return r}},object:function(e,n){var i,o,a,u,f;if(!r(e)||!r(n)){return null}i=[];u={};a={};for(f in e){if(t.call(e,f)){if(t.call(n,f)){i.push(f);a[f]=s(e[f],n[f])}else{u[f]=e[f]}}}for(f in n){if(t.call(n,f)&&!t.call(e,f)){u[f]=n[f]}}o=i.length;return function(e){var t=o,n;while(t--){n=i[t];u[n]=a[n](e)}return u}}};return o}(o,s,a,u,f);var c=function(){var e;if(typeof document==="undefined"){e=false}else{e=document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}return e}();var h=function(){var e;var t={};e=function r(e){var r,i,o,s,a,u;r=e.split(".");if(!(i=t[r.length])){i=n(r.length)}a=[];o=function(e,t){return e?"*":r[t]};s=i.length;while(s--){u=i[s].map(o).join(".");if(!a.hasOwnProperty(u)){a.push(u);a[u]=true}}return a};function n(e){var n="",r,i,o,s,a;if(!t[e]){o=[];while(n.length<e){n+=1}r=parseInt(n,2);s=function(e){return e==="1"};for(a=0;a<=r;a+=1){i=a.toString(2);while(i.length<e){i="0"+i}o[a]=Array.prototype.map.call(i,s)}t[e]=o}return t[e]}return e}();var p=function(e){var t;t=function i(t,r){var i=arguments[2];if(i===void 0)i={};if(!r){return}var o=e(r);n(t,o,i.event,i.args,true)};function n(t,i,o,s){var a=arguments[4];if(a===void 0)a=false;var u,f,l=true;for(f=i.length;f>=0;f--){u=t._subs[i[f]];if(u){l=r(t,u,o,s)&&l}}if(t._parent&&l){if(a&&t.component){var c=t.component.name+"."+i[i.length-1];i=e(c);if(o){o.component=t}}n(t._parent,i,o,s)}}function r(e,t,n,r){var i=null,o=false;if(n){r=[n].concat(r)}for(var s=0,a=t.length;s<a;s+=1){if(t[s].apply(e,r)===false){o=true}}if(n&&o&&(i=n.original)){i.preventDefault&&i.preventDefault();i.stopPropagation&&i.stopPropagation()}return!o}return t}(h);var d=function(e,t){var n=e.indexOf(t);if(n!==-1){e.splice(n,1)}};var v=function(){var e;var t,n={},r={},i={};if(typeof v==="function"){t=v}else{t=function(e){var u=[],f=[],l=n,c,h,p,d,v,g;p=function(e){return function(t){if(l!==n){return}c=t;l=e;h=s(l===r?u:f,c);o(h)}};d=p(r);v=p(i);try{e(d,v)}catch(m){v(m)}g={then:function(e,r){var i=new t(function(t,s){var c=function(e,n,r){if(typeof e==="function"){n.push(function(n){var r;try{r=e(n);a(i,r,t,s)}catch(o){s(o)}})}else{n.push(r)}};c(e,u,t);c(r,f,s);if(l!==n){o(h)}});return i}};g["catch"]=function(e){return this.then(null,e)};return g};t.all=function(e){return new t(function(t,n){var r=[],i,o,s;if(!e.length){t(r);return}s=function(o){e[o].then(function(e){r[o]=e;if(!--i){t(r)}},n)};i=o=e.length;while(o--){s(o)}})};t.resolve=function(e){return new t(function(t){t(e)})};t.reject=function(e){return new t(function(t,n){n(e)})}}e=t;function o(e){setTimeout(e,0)}function s(e,t){return function(){var n;while(n=e.shift()){n(t)}}}function a(e,n,r,i){var o;if(n===e){throw new TypeError("A promise's fulfillment handler cannot return the same promise")}if(n instanceof t){n.then(r,i)}else if(n&&(typeof n==="object"||typeof n==="function")){try{o=n.then}catch(s){i(s);return}if(typeof o==="function"){var u,f,l;f=function(t){if(u){return}u=true;a(e,t,r,i)};l=function(e){if(u){return}u=true;i(e)};try{o.call(n,f,l)}catch(s){if(!u){i(s);u=true;return}}}else{r(n)}}else{r(n)}}return e}();var g=function(){var e=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function t(n){return(n||"").replace(e,".$1")}}();var m=function(e){do{if(e.context!==undefined){return e.context}}while(e=e.parent);return""};var y=function(e,t){if(e===null&&t===null){return true}if(typeof e==="object"||typeof t==="object"){return false}return e===t};var w=function(e,t,n){var r;e.push(function(){return r=e.runloop});var i=function(e,t,n,r,i){this.root=e;this.keypath=t;this.priority=i;this.otherInstance=n;this.otherKeypath=r;this.bind();this.value=this.root.viewmodel.get(this.keypath)};i.prototype={setValue:function(e){var i=this;if(this.updating||this.counterpart&&this.counterpart.updating){this.value=e;return}if(t(e)&&e._ractive&&e._ractive.setting){return}if(!n(e,this.value)){this.updating=true;r.addViewmodel(this.otherInstance.viewmodel);this.otherInstance.viewmodel.set(this.otherKeypath,e);this.value=e;r.scheduleTask(function(){return i.updating=false})}},bind:function(){this.root.viewmodel.register(this.keypath,this)},rebind:function(e){this.unbind();this.keypath=e;this.counterpart.otherKeypath=e;this.bind()},unbind:function(){this.root.viewmodel.unregister(this.keypath,this)}};return function o(e,t,n,r){var o,s,a,u,f,l;o=n+"="+r;a=e.bindings;if(a[o]){return}s=e.instance;u=e.parentFragment.priority;f=new i(t,n,s,r,u);a.push(f);if(s.twoway){l=new i(s,r,t,n,1);a.push(l);f.counterpart=l;l.counterpart=f}a[o]=f}}(o,a,y);var b=function(e,t,n){var r;var i,o;i='Could not resolve reference - too many "../" prefixes';o={evaluateWrapped:true};r=function a(r,i,u){var f,l,c,h,p,d,v,g,m,y;i=e(i);if(i.substr(0,2)==="~/"){return i.substring(2)}if(i.charAt(0)==="."){return s(t(u),i)}l=i.split(".")[0];do{f=u.context;if(!f){continue}d=true;p=r.viewmodel.get(f,o);if(p&&(typeof p==="object"||typeof p==="function")&&l in p){return f+"."+i}}while(u=u.parent);if(l in r.data||l in r.viewmodel.computations){return i}if(r._parent&&!r.isolated){u=r.component.parentFragment;if(u.indexRefs&&(c=u.indexRefs[i])!==undefined){r.component.indexRefBindings[i]=i;r.viewmodel.set(i,c,true);return}h=a(r._parent,i,u);if(h){v=h.split(".");g=i.split(".");while(v.length>1&&g.length>1&&v[v.length-1]===g[g.length-1]){v.pop();g.pop()}m=v.join(".");y=g.join(".");r.viewmodel.set(y,r._parent.viewmodel.get(m),true);n(r.component,r._parent,m,y);return i}}if(!d){return i}if(r.viewmodel.get(i)!==undefined){return i}};function s(e,t){var n;if(t===".")return e;n=e?e.split("."):[];if(t.substr(0,3)==="../"){while(t.substr(0,3)==="../"){if(!n.length){throw new Error(i)}n.pop();t=t.substring(3)}n.push(t);return n.join(".")}if(!e){return t.replace(/^\.\/?/,"")}return e+t.replace(/^\.\//,".")}return r}(g,m,w);var E=function(e){var t=function(e,t){this.callback=e;this.parent=t;this.intros=[];this.outros=[];this.children=[];this.totalChildren=this.outroChildren=0;this.detachQueue=[];this.outrosComplete=false;if(t){t.addChild(this)}};t.prototype={addChild:function(e){this.children.push(e);this.totalChildren+=1;this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1;i(this)},decrementTotal:function(){this.totalChildren-=1;i(this)},add:function(e){var t=e.isIntro?this.intros:this.outros;t.push(e)},remove:function(t){var n=t.isIntro?this.intros:this.outros;e(n,t);i(this)},init:function(){this.ready=true;i(this)},detachNodes:function(){this.detachQueue.forEach(n);this.children.forEach(r)}};function n(e){e.detach()}function r(e){e.detachNodes()}function i(e){if(!e.ready||e.outros.length||e.outroChildren)return;if(!e.outrosComplete){if(e.parent){e.parent.decrementOutros(e)}else{e.detachNodes()}e.outrosComplete=true}if(!e.intros.length&&!e.totalChildren){if(typeof e.callback==="function"){e.callback()}if(e.parent){e.parent.decrementTotal()}}}return t}(d);var _=function(e,t,n,r,i,o){var s;var a,u,f=[];u={start:function(e,t){var n,i;if(t){n=new r(function(e){return i=e})}a={previousBatch:a,transitionManager:new o(i,a&&a.transitionManager),views:[],tasks:[],viewmodels:[]};if(e){a.viewmodels.push(e.viewmodel)}return n},end:function(){l();a.transitionManager.init();a=a.previousBatch},addViewmodel:function(e){if(a){if(a.viewmodels.indexOf(e)===-1){a.viewmodels.push(e)}}else{e.applyChanges()}},registerTransition:function(e){e._manager=a.transitionManager;a.transitionManager.add(e)},addView:function(e){a.views.push(e)},addUnresolved:function(e){f.push(e)},removeUnresolved:function(e){n(f,e)},detachWhenReady:function(e){a.transitionManager.detachQueue.push(e)},scheduleTask:function(e){if(!a){e()}else{a.tasks.push(e)}}};e.runloop=u;s=u;function l(){var e,n,r;for(e=0;e<a.viewmodels.length;e+=1){n=a.viewmodels[e];r=n.applyChanges();if(r){t(n.ractive,"change",{args:[r]})}}a.viewmodels.length=0;c();for(e=0;e<a.views.length;e+=1){a.views[e].update()}a.views.length=0;for(e=0;e<a.tasks.length;e+=1){a.tasks[e]()}a.tasks.length=0;if(a.viewmodels.length)return l()}function c(){var e,t,n,r;e=f.length;while(e--){t=f[e];if(t.keypath){f.splice(e,1)}if(n=i(t.root,t.ref,t.parentFragment)){(r||(r=[])).push({item:t,keypath:n});f.splice(e,1)}}if(r){r.forEach(h)}}function h(e){e.item.resolve(e.keypath)}return s}(o,p,d,v,b,E);var x=function(){var e=/^\s*[0-9]+\s*$/;return function(t){return e.test(t)?[]:{}}}();var k=function(e,t,n){var r;var i,o;try{Object.defineProperty({},"test",{value:0});i={filter:function(e,t,r){var i,o,s,a,u;if(!t){return false}i=t.split(".");o=i.pop();s=i.join(".");if((a=r.viewmodel.wrapped[s])&&!a.magic){return false}u=r.get(s);if(n(u)&&/^[0-9]+$/.test(o)){return false}return u&&(typeof u==="object"||typeof u==="function")},wrap:function(e,t,n){return new o(e,t,n)}};o=function(e,t,n){var r,i,o,s;this.magic=true;this.ractive=e;this.keypath=n;this.value=t;r=n.split(".");this.prop=r.pop();i=r.join(".");this.obj=i?e.get(i):e.data;o=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop);if(o&&o.set&&(s=o.set._ractiveWrappers)){if(s.indexOf(this)===-1){s.push(this)}return}a(this,t,o)};o.prototype={get:function(){return this.value},reset:function(t){if(this.updating){return}this.updating=true;this.obj[this.prop]=t;e.addViewmodel(this.ractive.viewmodel);this.ractive.viewmodel.mark(this.keypath);this.updating=false},set:function(e,n){if(this.updating){return}if(!this.obj[this.prop]){this.updating=true;this.obj[this.prop]=t(e);this.updating=false}this.obj[this.prop][e]=n},teardown:function(){var e,t,n,r,i;if(this.updating){return false}e=Object.getOwnPropertyDescriptor(this.obj,this.prop);t=e&&e.set;if(!t){return}r=t._ractiveWrappers;i=r.indexOf(this);if(i!==-1){r.splice(i,1)}if(!r.length){n=this.obj[this.prop];Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:true,enumerable:true,configurable:true});this.obj[this.prop]=n}}}}catch(s){i=false}r=i;function a(t,n,r){var i,o,s,a,u,f;i=t.obj;o=t.prop;if(r&&!r.configurable){if(o==="length"){return}throw new Error('Cannot use magic mode with property "'+o+'" - object is not configurable')}if(r){s=r.get;a=r.set}u=s||function(){return n};f=function(e){if(a){a(e)}n=s?s():e;f._ractiveWrappers.forEach(l)};function l(t){var r,i;t.value=n;if(t.updating){return}i=t.ractive;r=t.keypath;t.updating=true;e.start(i);i.viewmodel.mark(r);e.end();t.updating=false}f._ractiveWrappers=[t];Object.defineProperty(i,o,{get:u,set:f,enumerable:true,configurable:true})}return r}(_,x,a);var S=function(e){return!!e}(k);var O={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};var T=function(e,t){var n;if(!e){n=function(e,n){if(n&&n!==t.html){throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information"}return document.createElement(e)}}else{n=function(e,n){if(!n||n===t.html){return document.createElement(e)}return document.createElementNS(n,e)}}return n}(c,O);var A=function(){var e=typeof document==="object";return e}();var N=function(e){var t;try{Object.defineProperty({},"test",{value:0});if(e){Object.defineProperty(document.createElement("div"),"test",{value:0})}t=Object.defineProperty}catch(n){t=function(e,t,n){e[t]=n.value}}return t}(A);var R=function(e,t,n){var r;try{try{Object.defineProperties({},{test:{value:0}})}catch(i){throw i}if(n){Object.defineProperties(e("div"),{test:{value:0}})}r=Object.defineProperties}catch(i){r=function(e,n){var r;for(r in n){if(n.hasOwnProperty(r)){t(e,r,n[r])}}}}return r}(T,N,A);var C=function(e){return function t(n,r,i){var o;if(typeof r!=="string"||!e(i)){throw new Error("Bad arguments")}o=+n.get(r)||0;if(!e(o)){throw new Error("Cannot add to a non-numeric value")}return n.set(r,o+i)}}(f);var L=function(e){return function t(n,r){return e(this,n,r===undefined?1:+r)}}(C);var I=function(e){var t=/^\.+/;return function n(r){return e(r).replace(t,"")}}(g);var j=["o","ms","moz","webkit"];var P=function(e){var t;if(typeof window==="undefined"){t=null}else{(function(e,t,n){var r,i;if(n.requestAnimationFrame){return}for(r=0;r<e.length&&!n.requestAnimationFrame;++r){n.requestAnimationFrame=n[e[r]+"RequestAnimationFrame"]}if(!n.requestAnimationFrame){i=n.setTimeout;n.requestAnimationFrame=function(e){var n,r,o;n=Date.now();r=Math.max(0,16-(n-t));o=i(function(){e(n+r)},r);t=n+r;return o}}})(e,0,window);t=window.requestAnimationFrame}return t}(j);var M=function(){var e;if(typeof window!=="undefined"&&window.performance&&typeof window.performance.now==="function"){e=function(){return window.performance.now()}}else{e=function(){return Date.now()}}return e}();var F=function(e,t,n){var r=[];var i={tick:function(){var o,s,a;a=t();n.start();for(o=0;o<r.length;o+=1){s=r[o];if(!s.tick(a)){r.splice(o--,1)}}n.end();if(r.length){e(i.tick)}else{i.running=false}},add:function(t){r.push(t);if(!i.running){i.running=true;e(i.tick)}},abort:function(e,t){var n=r.length,i;while(n--){i=r[n];if(i.root===t&&i.keypath===e){i.stop()}}}};return i}(P,M,_);var D=function(){var e,t={};if(typeof console!=="undefined"&&typeof console.warn==="function"&&typeof console.warn.apply==="function"){e=function(e,n){if(!n){if(t[e]){return}t[e]=true}console.warn(e)}}else{e=function(){}}return e}();var B=function(){var e;var t=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,n=/\/\*.*?\*\//g,r=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g,i=/^@media/,o=/\[data-rvcguid="[a-z0-9-]+"]/g;e=function u(e,f){var l,c;c=function(e){var t,n,i,o,s,u,l,c,h=[];t=[];while(n=r.exec(e)){t.push({str:n[0],base:n[1],modifiers:n[2]})}o='[data-rvcguid="'+f+'"]';s=t.map(a);c=t.length;while(c--){l=s.slice();i=t[c];l[c]=i.base+o+i.modifiers||"";u=s.slice();u[c]=o+" "+u[c];h.push(l.join(" "),u.join(" "))}return h.join(", ")};if(o.test(e)){l=e.replace(o,'[data-rvcguid="'+f+'"]')}else{l=e.replace(n,"").replace(t,function(e,t){var n,r;if(i.test(t))return e;n=t.split(",").map(s);r=n.map(c).join(", ")+" ";return e.replace(t,r)})}return l};function s(e){if(e.trim){return e.trim()}return e.replace(/^\s+/,"").replace(/\s+$/,"")}function a(e){return e.str}return e}();var U=function(e){var t={name:"css",extend:n,init:function(){}};function n(e,t,n){var i=t.constructor._guid,o;if(o=r(n.css,n,i)||r(e.css,e,i)){t.constructor.css=o}}function r(t,n,r){if(!t){return}return n.noCssTransform?t:e(t,r)}return t}(B);var V=function(){var e;e=function(e,n,r){if(r||t(e,n)){return function(){var t="_super"in this,r=this._super,i;this._super=n;i=e.apply(this,arguments);if(t){this._super=r}return i}}else{return e}};function t(e,t){return typeof t==="function"&&/_super/.test(e)}return e}();var W=function(e){var t;var n={name:"data",extend:i,init:o,reset:s};t=n;function r(e,t,n){var r=n.data||{},i=a(e.prototype.data);return u(i,r)}function i(e,t,n){t.data=r(e,t,n)}function o(e,t,n){var i=n.data,o=r(e,t,n);if(typeof o==="function"){o=o.call(t,i)||i}return t.data=o||{}}function s(e){var t=this.init(e.constructor,e,e);if(t){e.data=t;return true}}function a(e){if(typeof e!=="function"||!Object.keys(e).length){return e}var t={};f(e,t);return u(e,t)}function u(e,t){if(typeof t==="function"){return h(t,e)}else if(typeof e==="function"){return c(t,e)}else{return l(t,e)}}function f(e,t,n){for(var r in e){if(n&&r in t){continue}t[r]=e[r]}}function l(e,t){e=e||{};if(!t){return e}f(t,e,true);return e}function c(e,t){return function(n){var r;if(e){r=[];for(var i in e){if(!n||!(i in n)){r.push(i)}}}n=t.call(this,n)||n;if(r&&r.length){n=n||{};r.forEach(function(t){n[t]=e[t]})}return n}}function h(t,n){var r;if(typeof n!=="function"){r=function(e){l(e,n)}}else{r=function(t){n=e(n,function(){},true);return n.call(this,t)||t}}return e(t,r)}return t}(V);var q={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned',defaultElSpecified:"The <{name}/> component has a default `el` property; it has been disregarded",noElementProxyEventWildcards:'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.'};var z={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53};var H=function(){var e;try{Object.create(null);e=Object.create}catch(t){e=function(){var e=function(){};return function(t,n){var r;if(t===null){return{}}e.prototype=t;r=new e;if(n){Object.defineProperties(r,n)}return r}}()}return e}();var $={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"};var K=function(e){var t=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;return function(n){var r;if(r=n.matchPattern(t)){return{t:e.NUMBER_LITERAL,v:r}}return null}}(z);var G=function(e){return function(t){var n=t.remaining();if(n.substr(0,4)==="true"){t.pos+=4;return{t:e.BOOLEAN_LITERAL,v:"true"}}if(n.substr(0,5)==="false"){t.pos+=5;return{t:e.BOOLEAN_LITERAL,v:"false"}}return null}}(z);var Y=function(){var e,t,n;e=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/;t=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/;n=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;return function(r){return function(i){var o,s,a,u;o=i.pos;s='"';a=false;while(!a){u=i.matchPattern(e)||i.matchPattern(t)||i.matchString(r);if(u){if(u==='"'){s+='\\"'}else if(u==="\\'"){s+="'"}else{s+=u}}else{u=i.matchPattern(n);if(u){s+="\\u"+("000"+u.charCodeAt(1).toString(16)).slice(-4)}else{a=true}}}s+='"';return JSON.parse(s)}}}();var J=function(e){return e('"')}(Y);var Q=function(e){return e("'")}(Y);var X=function(e,t,n){return function(r){var i,o;i=r.pos;if(r.matchString('"')){o=n(r);if(!r.matchString('"')){r.pos=i;return null}return{t:e.STRING_LITERAL,v:o}}if(r.matchString("'")){o=t(r);if(!r.matchString("'")){r.pos=i;return null}return{t:e.STRING_LITERAL,v:o}}return null}}(z,J,Q);var Z={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/};var et=function(e,t,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var o;if(o=e(i)){return r.test(o.v)?o.v:'"'+o.v.replace(/"/g,'\\"')+'"'}if(o=t(i)){return o.v}if(o=i.matchPattern(n.name)){return o}}}(X,K,Z);var tt=function(e,t){return function(n){var r,i,o;r=n.pos;n.allowWhitespace();i=t(n);if(i===null){n.pos=r;return null}n.allowWhitespace();if(!n.matchString(":")){n.pos=r;return null}n.allowWhitespace();o=n.readExpression();if(o===null){n.pos=r;return null}return{t:e.KEY_VALUE_PAIR,k:i,v:o}}}(z,et);var nt=function(e){return function t(n){var r,i,o,s;r=n.pos;o=e(n);if(o===null){return null}i=[o];if(n.matchString(",")){s=t(n);if(!s){n.pos=r;return null}return i.concat(s)}return i}}(tt);var rt=function(e,t){return function(n){var r,i;r=n.pos;n.allowWhitespace();if(!n.matchString("{")){n.pos=r;return null}i=t(n);n.allowWhitespace();if(!n.matchString("}")){n.pos=r;return null}return{t:e.OBJECT_LITERAL,m:i}}}(z,nt);var it=function(e){return function t(n){var r,i,o,s;r=n.pos;n.allowWhitespace();o=n.readExpression();if(o===null){return null}i=[o];n.allowWhitespace();if(n.matchString(",")){s=t(n);if(s===null){n.error(e.expectedExpression)}s.forEach(a)}function a(e){i.push(e)}return i}}($);var ot=function(e,t){return function(n){var r,i;r=n.pos;n.allowWhitespace();if(!n.matchString("[")){n.pos=r;return null}i=t(n);if(!n.matchString("]")){n.pos=r;return null}return{t:e.ARRAY_LITERAL,m:i}}}(z,it);var st=function(e,t,n,r,i){return function(o){var s=e(o)||t(o)||n(o)||r(o)||i(o);return s}}(K,G,X,rt,ot);var at=function(e,t){var n,r,i,o,s;n=/^\.[a-zA-Z_$0-9]+/;i=function(e){var t=e.matchPattern(r);if(t){return"."+t}return null};r=/^\[(0|[1-9][0-9]*)\]/;o=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/;s=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;return function(r){var a,u,f,l,c,h,p;a=r.pos;if(r.matchString("~/")){u="~/"}else{u="";while(r.matchString("../")){u+="../"}}if(!u){l=r.matchString(".")||""}f=r.matchPattern(/^@(?:index|key)/)||r.matchPattern(t.name)||"";if(s.test(f)){r.pos=a;return null}if(!u&&!l&&o.test(f)){return{t:e.GLOBAL,v:f}}c=(u||l)+f;if(!c){return null}while(h=r.matchPattern(n)||i(r)){c+=h}if(r.matchString("(")){p=c.lastIndexOf(".");if(p!==-1){c=c.substr(0,p);r.pos=a+c.length}else{r.pos-=1}}return{t:e.REFERENCE,n:c.replace(/^this\./,"./").replace(/^this$/,".")}}}(z,Z);var ut=function(e,t){return function(n){var r,i;r=n.pos;if(!n.matchString("(")){return null}n.allowWhitespace();i=n.readExpression();if(!i){n.error(t.expectedExpression)}n.allowWhitespace();if(!n.matchString(")")){n.error(t.expectedParen)}return{t:e.BRACKETED,x:i}}}(z,$);var ft=function(e,t,n){return function(r){return e(r)||t(r)||n(r)}}(st,at,ut);var lt=function(e,t,n){return function r(i){var o,s,a;o=i.pos;i.allowWhitespace();if(i.matchString(".")){i.allowWhitespace();if(s=i.matchPattern(n.name)){return{t:e.REFINEMENT,n:s}}i.error("Expected a property name")}if(i.matchString("[")){i.allowWhitespace();a=i.readExpression();if(!a){i.error(t.expectedExpression)}i.allowWhitespace();if(!i.matchString("]")){i.error("Expected ']'")}return{t:e.REFINEMENT,x:a}}return null}}(z,$,Z);var ct=function(e,t,n,r,i){return function(o){var s,a,u,f;a=t(o);if(!a){return null}while(a){s=o.pos;if(u=r(o)){a={t:e.MEMBER,x:a,r:u}}else if(o.matchString("(")){o.allowWhitespace();f=n(o);o.allowWhitespace();if(!o.matchString(")")){o.error(i.expectedParen)}a={t:e.INVOCATION,x:a};if(f){a.o=f}}else{break}}return a}}(z,ft,it,lt,$);var ht=function(e,t,n){var r,i;i=function(n,r){return function(i){var o;if(o=r(i)){return o}if(!i.matchString(n)){return null}i.allowWhitespace();o=i.readExpression();if(!o){i.error(t.expectedExpression)}return{s:n,o:o,t:e.PREFIX_OPERATOR}}};(function(){var e,t,o,s,a;s="! ~ + - typeof".split(" ");a=n;for(e=0,t=s.length;e<t;e+=1){o=i(s[e],a);a=o}r=a})();return r}(z,$,ct);var pt=function(e,t){var n,r;r=function(t,n){return function(r){var i,o,s;o=n(r);if(!o){return null}while(true){i=r.pos;r.allowWhitespace();if(!r.matchString(t)){r.pos=i;return o}if(t==="in"&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0))){r.pos=i;return o}r.allowWhitespace();s=n(r);if(!s){r.pos=i;return o}o={t:e.INFIX_OPERATOR,s:t,o:[o,s]}}}};(function(){var e,i,o,s,a;s="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" ");a=t;for(e=0,i=s.length;e<i;e+=1){o=r(s[e],a);a=o}n=a})();return n}(z,ht);var dt=function(e,t,n){return function(r){var i,o,s,a;o=t(r);if(!o){return null}i=r.pos;r.allowWhitespace();if(!r.matchString("?")){r.pos=i;return o}r.allowWhitespace();s=r.readExpression();if(!s){r.error(n.expectedExpression)}r.allowWhitespace();if(!r.matchString(":")){r.error('Expected ":"')}r.allowWhitespace();a=r.readExpression();if(!a){r.error(n.expectedExpression)}return{t:e.CONDITIONAL,o:[o,s,a]}}}(z,pt,$);var vt=function(e,t){var n;n=function(e){var t=[],n;i(e,t);n={r:t,s:o(this,e,t)};return n};function r(e){return JSON.stringify(String(e))}function i(n,r){var o,s;if(n.t===e.REFERENCE){if(r.indexOf(n.n)===-1){r.unshift(n.n)}}s=n.o||n.m;if(s){if(t(s)){i(s,r)}else{o=s.length;while(o--){i(s[o],r)}}}if(n.x){i(n.x,r)}if(n.r){i(n.r,r)}if(n.v){i(n.v,r)}}function o(t,n,i){var s=function(e){return o(t,e,i)};switch(n.t){case e.BOOLEAN_LITERAL:case e.GLOBAL:case e.NUMBER_LITERAL:return n.v;case e.STRING_LITERAL:return r(n.v);case e.ARRAY_LITERAL:return"["+(n.m?n.m.map(s).join(","):"")+"]";case e.OBJECT_LITERAL:return"{"+(n.m?n.m.map(s).join(","):"")+"}";case e.KEY_VALUE_PAIR:return n.k+":"+o(t,n.v,i);case e.PREFIX_OPERATOR:return(n.s==="typeof"?"typeof ":n.s)+o(t,n.o,i);case e.INFIX_OPERATOR:return o(t,n.o[0],i)+(n.s.substr(0,2)==="in"?" "+n.s+" ":n.s)+o(t,n.o[1],i);case e.INVOCATION:return o(t,n.x,i)+"("+(n.o?n.o.map(s).join(","):"")+")";case e.BRACKETED:return"("+o(t,n.x,i)+")";case e.MEMBER:return o(t,n.x,i)+o(t,n.r,i);case e.REFINEMENT:return n.n?"."+n.n:"["+o(t,n.x,i)+"]";case e.CONDITIONAL:return o(t,n.o[0],i)+"?"+o(t,n.o[1],i)+":"+o(t,n.o[2],i);case e.REFERENCE:return"_"+i.indexOf(n.n);default:t.error("Expected legal JavaScript")}}return n}(z,u);var gt=function(e,t,n,r,i){var o,s,a=/^\s+/;s=function(e){this.name="ParseError";this.message=e;try{throw new Error(e)}catch(t){this.stack=t.stack}};s.prototype=Error.prototype;o=function(e,t){var n,r,i=0;this.str=e;this.options=t||{};this.pos=0;this.lines=this.str.split("\n");this.lineEnds=this.lines.map(function(e){var t=i+e.length+1;i=t;return t},0);if(this.init)this.init(e,t);n=[];while(this.pos<this.str.length&&(r=this.read())){n.push(r)}this.leftover=this.remaining();this.result=this.postProcess?this.postProcess(n,t):n};o.prototype={read:function(e){var t,n,r,i;if(!e)e=this.converters;t=this.pos;r=e.length;for(n=0;n<r;n+=1){this.pos=t;if(i=e[n](this)){return i}}return null},readExpression:function(){return r(this)},flattenExpression:i,getLinePos:function(e){var t=0,n=0,r;while(e>=this.lineEnds[t]){n=this.lineEnds[t];t+=1}r=e-n;return[t+1,r+1]},error:function(e){var t,n,r,i,o,a;t=this.getLinePos(this.pos);n=t[0];r=t[1];i=this.lines[t[0]-1];o=i+"\n"+new Array(t[1]).join(" ")+"^----";a=new s(e+" at line "+n+" character "+r+":\n"+o);a.line=t[0];a.character=t[1];a.shortMessage=e;throw a},matchString:function(e){if(this.str.substr(this.pos,e.length)===e){this.pos+=e.length;return e}},matchPattern:function(e){var t;if(t=e.exec(this.remaining())){this.pos+=t[0].length;return t[1]||t[0]}},allowWhitespace:function(){this.matchPattern(a)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}};o.extend=function(e){var r=this,i,s;i=function(e,t){o.call(this,e,t)};i.prototype=t(r.prototype);for(s in e){if(n.call(e,s)){i.prototype[s]=e[s]}}i.extend=o.extend;return i};e.Parser=o;return o}(o,H,s,dt,vt);var mt=function(){var e=/^[^\s=]+/,t=/^\s+/;return function(n){var r,i,o;if(!n.matchString("=")){return null}r=n.pos;n.allowWhitespace();i=n.matchPattern(e);if(!i){n.pos=r;return null}if(!n.matchPattern(t)){return null}o=n.matchPattern(e);if(!o){n.pos=r;return null}n.allowWhitespace();if(!n.matchString("=")){n.pos=r;return null}return[i,o]}}();var yt=[{delimiters:"delimiters",isTriple:false,isStatic:false},{delimiters:"tripleDelimiters",isTriple:true,isStatic:false},{delimiters:"staticDelimiters",isTriple:false,isStatic:true},{delimiters:"staticTripleDelimiters",isTriple:true,isStatic:true}];var wt=function(e){var t={"#":e.SECTION,"^":e.INVERTED,"/":e.CLOSING,">":e.PARTIAL,"!":e.COMMENT,"&":e.TRIPLE};return function(e){var n=t[e.str.charAt(e.pos)];if(!n){return null}e.pos+=1;return n}}(z);var bt=function(e){return{"if":e.SECTION_IF,unless:e.SECTION_UNLESS,"with":e.SECTION_WITH,each:e.SECTION_EACH}}(z);var Et=null;var _t=function(e,t,n){var r;var i=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,o=/^[0-9][1-9]*$/,s=new RegExp("^("+Object.keys(n).join("|")+")\\b"),a;a=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/;r=function(n,r){var o,f,l,c,h,p,d,v,g,m;o=n.pos;l={};m=n[r.delimiters];if(r.isStatic){l.s=true}if(r.isTriple){l.t=e.TRIPLE}else{if(n.remaining()[0]==="!"){try{p=n.readExpression();n.allowWhitespace();if(n.remaining().indexOf(m[1])){p=null}else{l.t=e.INTERPOLATOR}}catch(y){}if(!p){g=n.remaining().indexOf(m[1]);if(~g){n.pos+=g}else{n.error("Expected closing delimiter ('"+m[1]+"')")}return{t:e.COMMENT}}}if(!p){c=t(n);l.t=c||e.INTERPOLATOR;if(c===e.SECTION){if(h=n.matchPattern(s)){l.n=h}n.allowWhitespace()}else if(c===e.COMMENT||c===e.CLOSING){v=n.remaining();g=v.indexOf(m[1]);if(g!==-1){l.r=v.substr(0,g).split(" ")[0];n.pos+=g;return l}}}}if(!p){n.allowWhitespace();p=n.readExpression();var w;if(l.t===e.PARTIAL&&p&&(w=n.readExpression())){l={contextPartialExpression:p};p=w}v=n.remaining();if(v.substr(0,m[1].length)!==m[1]&&v.charAt(0)!==":"){f=n.pos;n.pos=o;v=n.remaining();g=v.indexOf(m[1]);if(g!==-1){l.r=v.substr(0,g).trim();if(!a.test(l.r)){n.error("Expected a legal Mustache reference")}n.pos+=g;return l}n.pos=f}}u(n,p,l);if(l.contextPartialExpression){l.contextPartialExpression=[u(n,l.contextPartialExpression,{t:e.PARTIAL})]}if(d=n.matchPattern(i)){l.i=d
}return l};function u(t,n,r){var i;if(n){while(n.t===e.BRACKETED&&n.x){n=n.x}if(n.t===e.REFERENCE){r.r=n.n}else{if(n.t===e.NUMBER_LITERAL&&o.test(n.v)){r.r=n.v}else if(i=f(t,n)){r.rx=i}else{r.x=t.flattenExpression(n)}}return r}}function f(t,n){var r=[],i;while(n.t===e.MEMBER&&n.r.t===e.REFINEMENT){i=n.r;if(i.x){if(i.x.t===e.REFERENCE){r.unshift(i.x)}else{r.unshift(t.flattenExpression(i.x))}}else{r.unshift(i.n)}n=n.x}if(n.t!==e.REFERENCE){return null}return{r:n.n,m:r}}return r}(z,wt,bt,Et);var xt=function(e,t,n,r,i){var o;var s={t:e.DELIMCHANGE,exclude:true},a=/^@(?:index|key)$/;o=u;function u(e){var t;if(e.interpolate[e.inside]===false){return null}t=n.slice().sort(function r(t,n){return e[n.delimiters][0].length-e[t.delimiters][0].length});return function i(n){if(!n){return null}else{return f(e,n)||i(t.shift())}}(t.shift())}function f(n,o){var a,u,f,c,h,d,v,g,m;a=n.pos;f=n[o.delimiters];if(!n.matchString(f[0])){return null}if(u=t(n)){if(!n.matchString(f[1])){return null}n[o.delimiters]=u;return s}n.allowWhitespace();u=r(n,o);if(u===null){n.pos=a;return null}n.allowWhitespace();if(!n.matchString(f[1])){n.error("Expected closing delimiter '"+f[1]+"' after reference")}if(u.t===e.COMMENT){u.exclude=true}if(u.t===e.CLOSING){n.sectionDepth-=1;if(n.sectionDepth<0){n.pos=a;n.error("Attempted to close a section that wasn't open")}}if(u.contextPartialExpression){u.f=u.contextPartialExpression;u.t=e.SECTION;u.n="with";delete u.contextPartialExpression}else if(p(u)){n.sectionDepth+=1;c=[];v=c;h=u.n;while(g=n.read()){if(g.t===e.CLOSING){if(h&&g.r!==h){n.error("Expected {{/"+h+"}}")}break}if(g.t===e.INTERPOLATOR&&g.r==="else"){switch(u.n){case"unless":n.error("{{else}} not allowed in {{#unless}}");break;case"with":n.error("{{else}} not allowed in {{#with}}");break;default:v=d=[];continue}}v.push(g)}if(c.length){u.f=c;if(!u.i&&u.n==="each"&&(m=l(u.f))){u.i=m}}if(d&&d.length){u.l=d}}if(n.includeLinePositions){u.p=n.getLinePos(a)}if(u.n){u.n=i[u.n]}else if(u.t===e.INVERTED){u.t=e.SECTION;u.n=e.SECTION_UNLESS}return u}function l(t){var n,r,i,o;if(!t){return}n=t.length;while(n--){r=t[n];if(r.t===e.ELEMENT){if(i=l(r.o&&r.o.d)||l(r.t0&&r.t0.d)||l(r.t1&&r.t1.d)||l(r.t2&&r.t2.d)||l(r.f)){return i}for(o in r.v){if(r.v.hasOwnProperty(o)&&r.v[o].d&&(i=l(r.v[o].d))){return i}}for(o in r.a){if(r.a.hasOwnProperty(o)&&(i=l(r.a[o]))){return i}}}if(r.t===e.INTERPOLATOR||r.t===e.TRIPLE||r.t===e.SECTION){if(r.r&&a.test(r.r)){return r.r}if(r.x&&(i=c(r.x))){return i}if(r.rx&&(i=h(r.rx))){return i}}}}function c(e){var t;t=e.r.length;while(t--){if(a.test(e.r[t])){return e.r[t]}}}function h(t){var n,r,i;n=t.m.length;while(n--){i=t.m[n];if(i.r&&(r=c(i))){return r}if(i.t===e.REFERENCE&&a.test(i.n)){return i.n}}}function p(t){return t.t===e.SECTION||t.t===e.INVERTED}return o}(z,mt,yt,_t,bt);var kt=function(e){var t="<!--",n="-->";return function(r){var i,o,s,a,u;i=r.pos;if(!r.matchString(t)){return null}s=r.remaining();a=s.indexOf(n);if(a===-1){r.error("Illegal HTML - expected closing comment sequence ('-->')")}o=s.substr(0,a);r.pos+=a+3;u={t:e.COMMENT,c:o};if(r.includeLinePositions){u.p=r.getLinePos(i)}return u}}(z);var St=function(){var e=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;return e}();var Ot=function(e,t){var n,r,i;n=t.length;while(n--){r=e.indexOf(t[n]);if(!r){return 0}if(r===-1){continue}if(!i||r<i){i=r}}return i||-1};var Tt=function(e){return function(t){var n,r,i,o;r=t.remaining();o=t.inside?"</"+t.inside:"<";if(t.inside&&!t.interpolate[t.inside]){n=r.indexOf(o)}else{i=[o,t.delimiters[0],t.tripleDelimiters[0],t.staticDelimiters[0],t.staticTripleDelimiters[0]];if(t.inAttribute===true){i.push('"',"'","=",">","`")}else if(t.inAttribute){i.push(t.inAttribute)}n=e(r,i)}if(!n){return null}if(n===-1){n=r.length}t.pos+=n;return r.substr(0,n)}}(Ot);var At=function(e){var t=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;return function(n){var r;if(!n.matchString("</")){return null}if(r=n.matchPattern(t)){return{t:e.CLOSING_TAG,e:r}}n.pos-=2;n.error("Illegal closing tag")}}(z);var Nt=function(){var e;var t,n,r;t={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};n=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376];r=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(t).join("|")+"));?","g");e=function o(e){return e.replace(r,function(e,n){var r;if(n[0]!=="#"){r=t[n]}else if(n[1]==="x"){r=parseInt(n.substring(2),16)}else{r=parseInt(n.substring(1),10)}if(!r){return e}return String.fromCharCode(i(r))})};function i(e){if(!e){return 65533}if(e===10){return 32}if(e<128){return e}if(e<=159){return n[e-128]}if(e<55296){return e}if(e<=57343){return 65533}if(e<=65535){return e}return 65533}return e}(Et);var Rt=function(e,t,n){var r;var i=/^[^\s"'>\/=]+/,o=/^[^\s"'=<>`]+/;r=s;function s(e){var t,n,r;e.allowWhitespace();n=e.matchPattern(i);if(!n){return null}t={name:n};r=a(e);if(r){t.value=r}return t}function a(e){var t,r,i,o;t=e.pos;e.allowWhitespace();if(!e.matchString("=")){e.pos=t;return null}e.allowWhitespace();r=e.pos;i=e.sectionDepth;o=l(e,"'")||l(e,'"')||f(e);if(e.sectionDepth!==i){e.pos=r;e.error("An attribute value must contain as many opening section tags as closing section tags")}if(o===null){e.pos=t;return null}if(!o.length){return null}if(o.length===1&&typeof o[0]==="string"){return n(o[0])}return o}function u(t){var n,r,i,s,a;n=t.pos;r=t.matchPattern(o);if(!r){return null}i=r;s=[t.delimiters[0],t.tripleDelimiters[0],t.staticDelimiters[0],t.staticTripleDelimiters[0]];if((a=e(i,s))!==-1){r=r.substr(0,a);t.pos=n+r.length}return r}function f(e){var n,r;e.inAttribute=true;n=[];r=t(e)||u(e);while(r!==null){n.push(r);r=t(e)||u(e)}if(!n.length){return null}e.inAttribute=false;return n}function l(e,n){var r,i,o;r=e.pos;if(!e.matchString(n)){return null}e.inAttribute=n;i=[];o=t(e)||c(e,n);while(o!==null){i.push(o);o=t(e)||c(e,n)}if(!e.matchString(n)){e.pos=r;return null}e.inAttribute=false;return i}function c(t,n){var r,i,o,s;r=t.pos;o=t.remaining();s=[n,t.delimiters[0],t.tripleDelimiters[0],t.staticDelimiters[0],t.staticTripleDelimiters[0]];i=e(o,s);if(i===-1){t.error("Quoted attribute value must have a closing quote")}if(!i){return null}t.pos+=i;return o.substr(0,i)}return r}(Ot,xt,Nt);var Ct=function(e,t,n){var r,i,o,s,a,u,f;i={"true":true,"false":false,undefined:undefined,"null":null};o=new RegExp("^(?:"+Object.keys(i).join("|")+")");s=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;a=/\$\{([^\}]+)\}/g;u=/^\$\{([^\}]+)\}/;f=/^\s*$/;r=e.extend({init:function(e,t){this.values=t.values;this.allowWhitespace()},postProcess:function(e){if(e.length!==1||!f.test(this.leftover)){return null}return{value:e[0].v}},converters:[function c(e){var t;if(!e.values){return null}t=e.matchPattern(u);if(t&&e.values.hasOwnProperty(t)){return{v:e.values[t]}}},function h(e){var t;if(t=e.matchPattern(o)){return{v:i[t]}}},function p(e){var t;if(t=e.matchPattern(s)){return{v:+t}}},function d(e){var n=t(e),r;if(n&&(r=e.values)){return{v:n.v.replace(a,function(e,t){return t in r?r[t]:t})}}return n},function v(e){var t,n;if(!e.matchString("{")){return null}t={};e.allowWhitespace();if(e.matchString("}")){return{v:t}}while(n=l(e)){t[n.key]=n.value;e.allowWhitespace();if(e.matchString("}")){return{v:t}}if(!e.matchString(",")){return null}}return null},function g(e){var t,n;if(!e.matchString("[")){return null}t=[];e.allowWhitespace();if(e.matchString("]")){return{v:t}}while(n=e.read()){t.push(n.v);e.allowWhitespace();if(e.matchString("]")){return{v:t}}if(!e.matchString(",")){return null}e.allowWhitespace()}return null}]});function l(e){var t,r,i;e.allowWhitespace();t=n(e);if(!t){return null}i={key:t};e.allowWhitespace();if(!e.matchString(":")){return null}e.allowWhitespace();r=e.read();if(!r){return null}i.value=r.v;return i}return function(e,t){var n=new r(e,{values:t});return n.result}}(gt,X,et);var Lt=function(e,t,n,r){var i=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,o;o=e.extend({converters:[t]});return function(e){var t,s,a,u,f,l,c,h,p;if(typeof e==="string"){if(s=i.exec(e)){t={m:s[1]};u="["+e.slice(t.m.length+1,-1)+"]";a=new o(u);t.a=n(a.result[0]);return t}if(e.indexOf(":")===-1){return e.trim()}e=[e]}t={};c=[];h=[];while(e.length){f=e.shift();if(typeof f==="string"){l=f.indexOf(":");if(l===-1){c.push(f)}else{if(l){c.push(f.substr(0,l))}if(f.length>l+1){h[0]=f.substring(l+1)}break}}else{c.push(f)}}h=h.concat(e);if(h.length||typeof c!=="string"){t={n:c.length===1&&typeof c[0]==="string"?c[0]:c};if(h.length===1&&typeof h[0]==="string"){p=r("["+h[0]+"]");t.a=p?p.value:h[0].trim()}else{t.d=h}}else{t=c}return t}}(gt,dt,vt,Ct);var It=function(e,t,n,r,i,o,s,a){var u;var f=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,l=/^[\s\n\/>]/,c=/^on/,h=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,p=/^(?:change|reset|teardown|update)$/,d={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},v={exclude:true},g,m;g=[n,r,y,i,o];m={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};u=y;function y(n){var r,i,o,u,m,y,b,E,_,x,k;r=n.pos;if(n.inside){return null}if(!n.matchString("<")){return null}if(n.nextChar()==="/"){return null}i={t:e.ELEMENT};if(n.includeLinePositions){i.p=n.getLinePos(r)}if(n.matchString("!")){i.y=1}i.e=n.matchPattern(f);if(!i.e){return null}if(!l.test(n.nextChar())){n.error("Illegal tag name")}y=function(e,t){var r=t.n||t;if(p.test(r)){n.pos-=r.length;n.error("Cannot use reserved event names (change, reset, teardown, update)")}i.v[e]=t};while(b=s(n)){if(u=d[b.name]){i[u]=a(b.value)}else if(m=h.exec(b.name)){if(!i.v)i.v={};E=a(b.value);y(m[1],E)}else{if(!n.sanitizeEventAttributes||!c.test(b.name)){if(!i.a)i.a={};i.a[b.name]=b.value||0}}}n.allowWhitespace();if(n.matchString("/")){_=true}if(!n.matchString(">")){return null}o=i.e.toLowerCase();if(!_&&!t.test(i.e)){if(o==="script"||o==="style"){n.inside=o}x=[];while(w(o,n.remaining())&&(k=n.read(g))){if(k.t===e.CLOSING){break}if(k.t===e.CLOSING_TAG){break}x.push(k)}if(x.length){i.f=x}}n.inside=null;if(n.sanitizeElements&&n.sanitizeElements.indexOf(o)!==-1){return v}return i}function w(e,t){var n,r;n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(t);r=m[e];if(!n||!r){return true}return!~r.indexOf(n[1].toLowerCase())}return u}(z,St,xt,kt,Tt,At,Rt,Lt);var jt=function(){var e=/^[ \t\f\r\n]+/,t=/[ \t\f\r\n]+$/;return function(n,r,i){var o;if(r){o=n[0];if(typeof o==="string"){o=o.replace(e,"");if(!o){n.shift()}else{n[0]=o}}}if(i){o=n[n.length-1];if(typeof o==="string"){o=o.replace(t,"");if(!o){n.pop()}else{n[n.length-1]=o}}}}}();var Pt=function(e){var t;var n=/^\s*\r?\n/,r=/\r?\n\s*$/;t=function(e){var t,a,u,f,l;for(t=1;t<e.length;t+=1){a=e[t];u=e[t-1];f=e[t-2];if(i(a)&&o(u)&&i(f)){if(r.test(f)&&n.test(a)){e[t-2]=f.replace(r,"\n");e[t]=a.replace(n,"")}}if(s(a)&&i(u)){if(r.test(u)&&i(a.f[0])&&n.test(a.f[0])){e[t-1]=u.replace(r,"\n");a.f[0]=a.f[0].replace(n,"")}}if(i(a)&&s(u)){l=u.f[u.f.length-1];if(i(l)&&r.test(l)&&n.test(a)){u.f[u.f.length-1]=l.replace(r,"\n");e[t]=a.replace(n,"")}}}return e};function i(e){return typeof e==="string"}function o(t){return t.t===e.COMMENT||t.t===e.DELIMCHANGE}function s(t){return(t.t===e.SECTION||t.t===e.INVERTED)&&t.f}return t}(z);var Mt=function(){var e=/[-/\\^$*+?.()|[\]{}]/g;return function t(n){return n.replace(e,"\\$&")}}();var Ft=function(e,t,n,r,i,o,s,a,u){var f;var l,c,h=/[ \t\f\r\n]+/g,p=/^(?:pre|script|style|textarea)$/i,d=/^\s+/,v=/\s+$/;l=t.extend({init:function(e,t){m(t,this);this.sectionDepth=0;this.interpolate={script:!t.interpolate||t.interpolate.script!==false,style:!t.interpolate||t.interpolate.style!==false};if(t.sanitize===true){t.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:true}}this.sanitizeElements=t.sanitize&&t.sanitize.elements;this.sanitizeEventAttributes=t.sanitize&&t.sanitize.eventAttributes;this.includeLinePositions=t.includeLinePositions},postProcess:function(e,t){if(this.sectionDepth>0){this.error("A section was left open")}g(e,t.stripComments!==false,t.preserveWhitespace,!t.preserveWhitespace,!t.preserveWhitespace,t.rewriteElse!==false);return e},converters:[n,r,i,o]});c=function(e){var t=arguments[1];if(t===void 0)t={};var n,r,i,o,s,a,f,c;m(t);f=new RegExp("<!--\\s*"+u(t.delimiters[0])+"\\s*>\\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\\s*"+u(t.delimiters[1])+"\\s*-->");c=new RegExp("<!--\\s*"+u(t.delimiters[0])+"\\s*\\/\\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\\s*"+u(t.delimiters[1])+"\\s*-->");n={v:1};if(f.test(e)){r=e;e="";while(s=f.exec(r)){o=s[1];e+=r.substr(0,s.index);r=r.substring(s.index+s[0].length);a=c.exec(r);if(!a||a[1]!==o){throw new Error('Inline partials must have a closing delimiter, and cannot be nested. Expected closing for "'+o+'", but '+(a?'instead found "'+a[1]+'"':" no closing found"))}(i||(i={}))[o]=new l(r.substr(0,a.index),t).result;r=r.substring(a.index+a[0].length)}e+=r;n.p=i}n.t=new l(e,t).result;return n};f=c;function g(t,n,r,i,o,u){var f,l,c,m,y,w,b,E,_;a(t);f=t.length;while(f--){l=t[f];if(l.exclude){t.splice(f,1)}else if(n&&l.t===e.COMMENT){t.splice(f,1)}}s(t,i,o);f=t.length;while(f--){l=t[f];if(l.f){y=r||l.t===e.ELEMENT&&p.test(l.e);if(!y){c=t[f-1];m=t[f+1];if(!c||typeof c==="string"&&v.test(c)){w=true}if(!m||typeof m==="string"&&d.test(m)){b=true}}g(l.f,n,y,w,b,u)}if(l.l){g(l.l,n,r,w,b,u);if(u){E={t:4,n:e.SECTION_UNLESS,f:l.l};if(l.r){E.r=l.r}if(l.x){E.x=l.x}if(l.rx){E.rx=l.rx}t.splice(f+1,0,E);delete l.l}}if(l.a){for(_ in l.a){if(l.a.hasOwnProperty(_)&&typeof l.a[_]!=="string"){g(l.a[_],n,r,w,b,u)}}}}f=t.length;while(f--){if(typeof t[f]==="string"){if(typeof t[f+1]==="string"){t[f]=t[f]+t[f+1];t.splice(f+1,1)}if(!r){t[f]=t[f].replace(h," ")}if(t[f]===""){t.splice(f,1)}}}}function m(e){var t=arguments[1];if(t===void 0)t=e;t.delimiters=e.delimiters||["{{","}}"];t.tripleDelimiters=e.tripleDelimiters||["{{{","}}}"];t.staticDelimiters=e.staticDelimiters||["[[","]]"];t.staticTripleDelimiters=e.staticTripleDelimiters||["[[[","]]]"]}return f}(z,gt,xt,kt,It,Tt,jt,Pt,Mt);var Dt=function(){return function e(t,n){var r=t.map(n);t.forEach(function(e,t){r[e]=r[t]});return r}}(Et);var Bt=function(e){var t,n;t=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"];n=e(t,function(e){return e});return n}(Dt);var Ut=function(e,t,n,r,i){var o={parse:a,fromId:u,isHashedId:f,isParsed:l,getParseOptions:c,createHelper:s};function s(e){var t=r(o);t.parse=function(t,n){return a(t,n||e)};return t}function a(t,r){if(!n){throw new Error(e.missingParser)}return n(t,r||this.options)}function u(e,n){var r;if(!t){if(n&&n.noThrow){return}throw new Error("Cannot retrieve template #"+e+" as Ractive is not running in a browser.")}if(f(e)){e=e.substring(1)}if(!(r=document.getElementById(e))){if(n&&n.noThrow){return}throw new Error("Could not find template element with id #"+e)}if(r.tagName.toUpperCase()!=="SCRIPT"){if(n&&n.noThrow){return}throw new Error("Template element with id #"+e+", must be a <script> element")}return r.innerHTML}function f(e){return e.charAt(0)==="#"}function l(e){return!(typeof e==="string")}function c(e){if(e.defaults){e=e.defaults}return i.reduce(function(t,n){t[n]=e[n];return t},{})}return o}(q,A,Ft,H,Bt);var Vt=function(e,t){var n={name:"template",extend:function a(e,t,n){var r;if("template"in n){r=n.template;if(typeof r==="function"){t.template=r}else{t.template=o(r,t)}}},init:function u(e,t,n){var r,a;r="template"in n?n.template:e.prototype.template;if(typeof r==="function"){a=r;r=i(t,a);t._config.template={fn:a,result:r}}r=o(r,t);t.template=r.t;if(r.p){s(t.partials,r.p)}},reset:function(e){var t=r(e),n;if(t){n=o(t,e);e.template=n.t;s(e.partials,n.p,true);return true}}};function r(e){var t=e._config.template,n;if(!t||!t.fn){return}n=i(e,t.fn);if(n!==t.result){t.result=n;n=o(n,e);return n}}function i(t,n){var r=e.createHelper(e.getParseOptions(t));return n.call(t,t.data,r)}function o(n,r){if(typeof n==="string"){if(n[0]==="#"){n=e.fromId(n)}n=t(n,e.getParseOptions(r))}else if(n.v!==1){throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return n}function s(e,t,n){if(!t)return;for(var r in t){if(n||!e.hasOwnProperty(r)){e[r]=t[r]}}}return n}(Ut,Ft);var Wt=function(e){function t(e,t){this.name=e;this.useDefaults=t}t.prototype={constructor:t,extend:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,this.useDefaults?t:t.constructor,n)},init:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,t,n)},configure:function(t,n,r){var i=this.name,o=r[i],s;s=e(t[i]);for(var a in o){s[a]=o[a]}n[i]=s},reset:function(e){var t=e[this.name];var n=false;Object.keys(t).forEach(function(e){var r=t[e];if(r._fn){if(r._fn.isOwner){t[e]=r._fn}else{delete t[e]}n=true}});return n},findOwner:function(e,t){return e[this.name].hasOwnProperty(t)?e:this.findConstructor(e.constructor,t)},findConstructor:function(e,t){if(!e){return}return e[this.name].hasOwnProperty(t)?e:this.findConstructor(e._parent,t)},find:function(e,t){var r=this;return n(e,function(e){return e[r.name][t]})},findInstance:function(e,t){var r=this;return n(e,function(e){return e[r.name][t]?e:void 0})}};function n(e,t){var r,i;if(r=t(e)){return r}if(!e.isolated&&(i=e._parent)){return n(i,t)}}return t}(H,Et);var qt=function(e,t){var n=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],r=e(n,function(e){return new t(e,e==="computed")});return r}(Dt,Wt);var zt=function(){};var Ht=function(e){var t;t=function r(e,t,i){if(!/_super/.test(i)){return i}var o=function s(){var e=n(o._parent,t),r="_super"in this,s=this._super,a;this._super=e;a=i.apply(this,arguments);if(r){this._super=s}else{delete this._super}return a};o._parent=e;o._method=i;return o};function n(t,n){var r;if(n in t){var i=t[n];if(typeof i==="function"){r=i}else{r=function o(){return i}}}else{r=e}return r}return t}(zt);var $t=function(e,t){function n(t,n,i){if(n in t){if(!(i in t)){e(r(n,i));t[i]=t[n]}else{throw new Error(r(n,i,true))}}}function r(e,t,n){return"options."+e+" has been deprecated in favour of options."+t+"."+(n?" You cannot specify both options, please use options."+t+".":"")}function i(e){n(e,"eventDefinitions","events")}function o(e){if(t(e.adaptors)){n(e,"adaptors","adapt")}}return function s(e){i(e);o(e)}}(D,a);var Kt=function(e,t,n,r,i,o,s,a){var u,f,l;u={data:t,template:r,css:e};f=Object.keys(n).filter(function(e){return!o[e]&&!u[e]&&!i[e]});l=[].concat(u.data,i,f,o,u.template,u.css);for(var c in u){l[c]=u[c]}l.keys=Object.keys(n).concat(o.map(function(e){return e.name})).concat(["css"]);l.parseOptions=i;l.registries=o;function h(e,t,n,r,i){u[t][e](n,r,i)}l.extend=function(e,t,n){p("extend",e,t,n)};l.init=function(e,t,n){p("init",e,t,n);if(t._config){t._config.options=n}};function p(e,t,r,i){a(i);h(e,"data",t,r,i);l.parseOptions.forEach(function(e){if(e in i){r[e]=i[e]}});for(var o in i){if(o in n&&!(o in l.parseOptions)&&!(o in u)){var f=i[o];r[o]=typeof f==="function"?s(t.prototype,o,f):f}}l.registries.forEach(function(n){n[e](t,r,i)});h(e,"template",t,r,i);h(e,"css",t,r,i)}l.reset=function(e){return l.filter(function(t){return t.reset&&t.reset(e)}).map(function(e){return e.name})};return l}(U,W,r,Vt,Bt,qt,Ht,$t);var Gt=function(e,t,n,r){var i;var o=function(e,i,o,a){if(e===i){return s(i)}if(a){var u=r.registries.interpolators.find(o,a);if(u){return u(e,i)||s(i)}t('Missing "'+a+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(e,i)||n.array(e,i)||n.object(e,i)||s(i)};e.interpolate=o;i=o;function s(e){return function(){return e}}return i}(o,D,l,Kt);var Yt=function(e,t,n){var r=function(e){var t;this.startTime=Date.now();for(t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}this.interpolator=n(this.from,this.to,this.root,this.interpolator);this.running=true;this.tick()};r.prototype={tick:function(){var n,r,i,o,s,a;a=this.keypath;if(this.running){o=Date.now();n=o-this.startTime;if(n>=this.duration){if(a!==null){t.start(this.root);this.root.viewmodel.set(a,this.to);t.end()}if(this.step){this.step(1,this.to)}this.complete(this.to);s=this.root._animations.indexOf(this);if(s===-1){e("Animation was not found")}this.root._animations.splice(s,1);this.running=false;return false}r=this.easing?this.easing(n/this.duration):n/this.duration;if(a!==null){i=this.interpolator(r);t.start(this.root);this.root.viewmodel.set(a,i);t.end()}if(this.step){this.step(r,i)}return true}return false},stop:function(){var t;this.running=false;t=this.root._animations.indexOf(this);if(t===-1){e("Animation was not found")}this.root._animations.splice(t,1)}};return r}(D,_,Gt);var Jt=function(e,t,n,r,i){var o;var s=function(){},a={stop:s};o=function f(e,n,r){var i,o,a,f,l,c,h,p,d,v,g,m,y,w;i=new t(function(e){o=e});if(typeof e==="object"){r=n||{};c=r.easing;h=r.duration;l=[];p=r.step;d=r.complete;if(p||d){g={};r.step=null;r.complete=null;v=function(e){return function(t,n){g[e]=n}}}for(a in e){if(e.hasOwnProperty(a)){if(p||d){m=v(a);r={easing:c,duration:h};if(p){r.step=m}}r.complete=d?m:s;l.push(u(this,a,e[a],r))}}w={easing:c,duration:h};if(p){w.step=function(e){p(e,g)}}if(d){i.then(function(e){d(e,g)})}w.complete=o;y=u(this,null,null,w);l.push(y);i.stop=function(){var e;while(e=l.pop()){e.stop()}if(y){y.stop()}};return i}r=r||{};if(r.complete){i.then(r.complete)}r.complete=o;f=u(this,e,n,r);i.stop=function(){f.stop()};return i};function u(t,o,s,u){var f,l,c,h;if(o){o=n(o)}if(o!==null){h=t.viewmodel.get(o)}r.abort(o,t);if(e(h,s)){if(u.complete){u.complete(u.to)}return a}if(u.easing){if(typeof u.easing==="function"){f=u.easing}else{f=t.easing[u.easing]}if(typeof f!=="function"){f=null}}l=u.duration===undefined?400:u.duration;c=new i({keypath:o,from:h,to:s,root:t,duration:l,easing:f,interpolator:u.interpolator,step:u.step,complete:u.complete});r.add(c);t._animations.push(c);return c}return o}(y,v,I,F,Yt);var Qt=function(e){return function t(){if(this.detached){return this.detached}if(this.el){e(this.el.__ractive_instances__,this)}this.detached=this.fragment.detach();return this.detached}}(d);var Xt=function fa(e){if(!this.el){return null}return this.fragment.find(e)};var Zt=function(e,t,n){var r,i,o,s,a,u,f,l;if(!e){r=null}else{i=n("div");o=["matches","matchesSelector"];l=function(e){return function(t,n){return t[e](n)}};u=o.length;while(u--&&!r){s=o[u];if(i[s]){r=l(s)}else{f=t.length;while(f--){a=t[u]+s.substr(0,1).toUpperCase()+s.substring(1);if(i[a]){r=l(a);break}}}}if(!r){r=function(e,t){var n,r,o;r=e.parentNode;if(!r){i.innerHTML="";r=i;e=e.cloneNode();i.appendChild(e)}n=r.querySelectorAll(t);o=n.length;while(o--){if(n[o]===e){return true}}return false}}}return r}(A,j,T);var en=function(e){return function(t,n){var r=this._isComponentQuery?!this.selector||t.name===this.selector:e(t.node,this.selector);if(r){this.push(t.node||t.instance);if(!n){this._makeDirty()}return true}}}(Zt);var tn=function(){var e,t,n;e=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"];t=this.selector;n=e.indexOf(t);if(n!==-1){e.splice(n,1);e[t]=null}};var nn=function(){var e;e=function(e,t){var r,i,o,s,a,u,f,l,c,h;r=n(e.component||e._ractive.proxy);i=n(t.component||t._ractive.proxy);o=r[r.length-1];s=i[i.length-1];while(o&&o===s){r.pop();i.pop();a=o;o=r[r.length-1];s=i[i.length-1]}o=o.component||o;s=s.component||s;c=o.parentFragment;h=s.parentFragment;if(c===h){u=c.items.indexOf(o);f=h.items.indexOf(s);return u-f||r.length-i.length}if(l=a.fragments){u=l.indexOf(c);f=l.indexOf(h);return u-f||r.length-i.length}throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")};function t(e){var t;if(t=e.parentFragment){return t.owner}if(e.component&&(t=e.component.parentFragment)){return t.owner}}function n(e){var n,r;n=[e];r=t(e);while(r){n.push(r);r=t(r)}return n}return e}();var rn=function(e){return function(t,n){var r;if(t.compareDocumentPosition){r=t.compareDocumentPosition(n);return r&2?1:-1}return e(t,n)}}(nn);var on=function(e,t){return function(){this.sort(this._isComponentQuery?t:e);this._dirty=false}}(rn,nn);var sn=function(e){return function(){var t=this;if(!this._dirty){this._dirty=true;e.scheduleTask(function(){t._sort()})}}}(_);var an=function(e){var t=this.indexOf(this._isComponentQuery?e.instance:e);if(t!==-1){this.splice(t,1)}};var un=function(e,t,n,r,i,o){return function s(a,u,f,l){var c=[];e(c,{selector:{value:u},live:{value:f},_isComponentQuery:{value:l},_test:{value:t}});if(!f){return c}e(c,{cancel:{value:n},_root:{value:a},_sort:{value:r},_makeDirty:{value:i},_remove:{value:o},_dirty:{value:false,writable:true}});return c}}(R,en,tn,on,sn,an);var fn=function(e){return function t(n,r){var i,o;if(!this.el){return[]}r=r||{};i=this._liveQueries;if(o=i[n]){return r&&r.live?o:o.slice()}o=e(this,n,!!r.live,false);if(o.live){i.push(n);i["_"+n]=o}this.fragment.findAll(n,o);return o}}(un);var ln=function(e){return function t(n,r){var i,o;r=r||{};i=this._liveComponentQueries;if(o=i[n]){return r&&r.live?o:o.slice()}o=e(this,n,!!r.live,true);if(o.live){i.push(n);i["_"+n]=o}this.fragment.findAllComponents(n,o);return o}}(un);var cn=function la(e){return this.fragment.findComponent(e)};var hn=function(e){return function t(n){var r={args:Array.prototype.slice.call(arguments,1)};e(this,n,r)}}(p);var pn=function(e){var t={capture:true};return function n(r){r=e(r);return this.viewmodel.get(r,t)}}(I);var dn=function ca(e){var t;if(!e||typeof e==="boolean"){return}if(typeof window==="undefined"||!document||!e){return null}if(e.nodeType){return e}if(typeof e==="string"){t=document.getElementById(e);if(!t&&document.querySelector){t=document.querySelector(e)}if(t&&t.nodeType){return t}}if(e[0]&&e[0].nodeType){return e[0]}return null};var vn=function(e){return function t(n,r){if(!this.rendered){throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.")}n=e(n);r=e(r)||null;if(!n){throw new Error("You must specify a valid target to insert into")}n.insertBefore(this.detach(),r);this.el=n;(n.__ractive_instances__||(n.__ractive_instances__=[])).push(this);this.detached=null}}(dn);var gn=function(e,t,n){return function r(i,o,s){var a,u;i=n(i);a=this.viewmodel.get(i);if(!t(a)||!t(o)){return this.set(i,o,s&&s.complete)}u=e.start(this,true);this.viewmodel.merge(i,a,o,s);e.end();if(s&&s.complete){u.then(s.complete)}return u}}(_,a,I);var mn=function(e,t){var n=function(e,t,n,r){this.root=e;this.keypath=t;this.callback=n;this.defer=r.defer;this.priority=0;this.context=r&&r.context?r.context:e};n.prototype={init:function(e){this.value=this.root.viewmodel.get(this.keypath);if(e!==false){this.update()}else{this.oldValue=this.value}},setValue:function(n){var r=this;if(!t(n,this.value)){this.value=n;if(this.defer&&this.ready){e.scheduleTask(function(){return r.update()})}else{this.update()}}},update:function(){if(this.updating){return}this.updating=true;this.callback.call(this.context,this.value,this.oldValue,this.keypath);this.oldValue=this.value;this.updating=false}};return n}(_,y);var yn=function(e){return function t(n,r){var i,o,s;i=r.split(".");s=[""];while(o=i.shift()){if(o==="*"){s=s.reduce(a,[])}else{if(s[0]===""){s[0]=o}else{s=s.map(u(o))}}}return s;function a(t,r){var i,o,s;i=n.viewmodel.wrapped[r]?n.viewmodel.wrapped[r].get():n.get(r);for(o in i){if(i.hasOwnProperty(o)&&(o!=="_ractive"||!e(i))){s=r?r+"."+o:o;t.push(s)}}return t}function u(e){return function(t){return t?t+"."+e:e}}}}(a);var wn=function(e){return function t(n,r){var i,o;i=e(n,r);o={};i.forEach(function(e){o[e]=n.get(e)});return o}}(yn);var bn=function(e,t,n){var r,i=/\*/,o=Array.prototype.slice;r=function(e,t,n,r){this.root=e;this.callback=n;this.defer=r.defer;this.keypath=t;this.regex=new RegExp("^"+t.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$");this.values={};if(this.defer){this.proxies=[]}this.priority="pattern";this.context=r&&r.context?r.context:e};r.prototype={init:function(e){var t,r;t=n(this.root,this.keypath);if(e!==false){for(r in t){if(t.hasOwnProperty(r)){this.update(r)}}}else{this.values=t}},update:function(t){var r=this;var o;if(i.test(t)){o=n(this.root,t);for(t in o){if(o.hasOwnProperty(t)){this.update(t)}}return}if(this.root.viewmodel.implicitChanges[t]){return}if(this.defer&&this.ready){e.scheduleTask(function(){return r.getProxy(t).update()});return}this.reallyUpdate(t)},reallyUpdate:function(e){var n,r,i;n=this.root.viewmodel.get(e);if(this.updating){this.values[e]=n;return}this.updating=true;if(!t(n,this.values[e])||!this.ready){r=o.call(this.regex.exec(e),1);i=[n,this.values[e],e].concat(r);this.callback.apply(this.context,i);this.values[e]=n}this.updating=false},getProxy:function(e){var t=this;if(!this.proxies[e]){this.proxies[e]={update:function(){t.reallyUpdate(e)}}}return this.proxies[e]}};return r}(_,y,wn);var En=function(e,t,n){var r=/\*/,i={};return function o(s,a,u,f){var l,c,h;a=e(a);f=f||i;if(r.test(a)){l=new n(s,a,u,f);s.viewmodel.patternObservers.push(l);c=true}else{l=new t(s,a,u,f)}s.viewmodel.register(a,l,c?"patternObservers":"observers");
l.init(f.init);l.ready=true;return{cancel:function(){var e;if(h){return}if(c){e=s.viewmodel.patternObservers.indexOf(l);s.viewmodel.patternObservers.splice(e,1);s.viewmodel.unregister(a,l,"patternObservers")}else{s.viewmodel.unregister(a,l,"observers")}h=true}}}}(I,mn,bn);var _n=function(e,t){return function n(r,i,o){var s,a,u,f;if(e(r)){o=i;a=r;s=[];for(r in a){if(a.hasOwnProperty(r)){i=a[r];s.push(this.observe(r,i,o))}}return{cancel:function(){while(s.length){s.pop().cancel()}}}}if(typeof r==="function"){o=i;i=r;r="";return t(this,r,i,o)}u=r.split(" ");if(u.length===1){return t(this,r,i,o)}s=[];f=u.length;while(f--){r=u[f];if(r){s.push(t(this,r,i,o))}}return{cancel:function(){while(s.length){s.pop().cancel()}}}}}(u,En);var xn=function(e){return e.trim()};var kn=function(e){return e!==""};var Sn=function(e,t){return function n(r,i){var o=this;var s;if(!r){for(r in this._subs){delete this._subs[r]}}else{s=r.split(" ").map(e).filter(t);s.forEach(function(e){var t,n;if(t=o._subs[e]){if(i){n=t.indexOf(i);if(n!==-1){t.splice(n,1)}}else{o._subs[e]=[]}}})}return this}}(xn,kn);var On=function(e,t){return function n(r,i){var o=this;var s=this,a,u,f;if(typeof r==="object"){a=[];for(u in r){if(r.hasOwnProperty(u)){a.push(this.on(u,r[u]))}}return{cancel:function(){var e;while(e=a.pop()){e.cancel()}}}}f=r.split(" ").map(e).filter(t);f.forEach(function(e){(o._subs[e]||(o._subs[e]=[])).push(i)});return{cancel:function(){s.off(r,i)}}}}(xn,kn);var Tn=function(e,t,n){switch(t){case"splice":return n;case"sort":case"reverse":return null;case"pop":if(e.length){return[-1]}return null;case"push":return[e.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}};var An=function(e,t){var n,r,i,o,s,a;if(!t){return null}n=+(t[0]<0?e.length+t[0]:t[0]);if(n<0){n=0}else if(n>e.length){n=e.length}o=Math.max(0,t.length-2);s=t[1]!==undefined?t[1]:e.length-n;s=Math.min(s,e.length-n);a=o-s;i=e.length+a;if(!a){r=n+o}else{r=Math.max(e.length,i)}return{rangeStart:n,rangeEnd:r,balance:a,added:o,removed:s}};var Nn=function(e,t,n,r){var i=Array.prototype;return function(o){return function(s){var a=Array.prototype.slice;var u=a.call(arguments,1);var f,l,c,h,p;f=this.get(s);if(!e(f)){throw new Error("Called ractive."+o+"('"+s+"'), but '"+s+"' does not refer to an array")}l=n(f,o,u);c=r(f,l);if(c){p=i.splice.apply(f,l)}else{p=i[o].apply(f,u)}h=t.start(this,true);if(c){this.viewmodel.splice(s,c)}else{this.viewmodel.mark(s)}t.end();if(o==="splice"||o==="pop"||o==="shift"){h=h.then(function(){return p})}return h}}}(a,_,Tn,An);var Rn=function(e){return e("pop")}(Nn);var Cn=function(e){return e("push")}(Nn);var Ln=function(e,t,n){var r,i,o,s,a,u,f,l="/* Ractive.js component styles */\n",c={},h=[];if(!t){r=null}else{e.push(function(){o=e.runloop});s=document.createElement("style");s.type="text/css";a=document.getElementsByTagName("head")[0];f=false;u=s.styleSheet;i=function(){var e;if(h.length){e=l+h.join(" ");if(u){u.cssText=e}else{s.innerHTML=e}if(!f){a.appendChild(s);f=true}}else if(f){a.removeChild(s);f=false}};r={add:function(e){if(!e.css){return}if(!c[e._guid]){c[e._guid]=0;h.push(e.css);o.scheduleTask(i)}c[e._guid]+=1},remove:function(e){if(!e.css){return}c[e._guid]-=1;if(!c[e._guid]){n(h,e.css);o.scheduleTask(i)}}}}return r}(o,A,d);var In=function(e,t,n){var r;var i={},o={};r=function u(r,i){var u=this;var f,l,c;o[this._guid]=true;c=this.transitionsEnabled;if(this.noIntro){this.transitionsEnabled=false}f=e.start(this,true);if(this.rendered){throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first")}r=n(r)||this.el;i=n(i)||this.anchor;this.el=r;this.anchor=i;if(this.constructor.css){t.add(this.constructor)}if(r){if(!(l=r.__ractive_instances__)){r.__ractive_instances__=[this]}else{l.push(this)}if(i){r.insertBefore(this.fragment.render(),i)}else{r.appendChild(this.fragment.render())}}if(!this._hasInited){this._hasInited=true;if(!this._parent||!o[this._parent._guid]){s(this)}else{a(this._parent).push(this)}}o[this._guid]=false;e.end();this.rendered=true;this.transitionsEnabled=c;if(this.complete){f.then(function(){return u.complete()})}return f};function s(e){var t=a(e);if(e.init){e.init(e._config.options)}while(t.length){s(t.shift())}i[e._guid]=null}function a(e){return i[e._guid]||(i[e._guid]=[])}return r}(_,Ln,dn);var jn=function ha(){this.dirtyValue=this.dirtyArgs=true;if(this.bound&&typeof this.owner.bubble==="function"){this.owner.bubble()}};var Pn=function pa(){var e;if(this.items.length===1){return this.items[0].detach()}e=document.createDocumentFragment();this.items.forEach(function(t){e.appendChild(t.detach())});return e};var Mn=function da(e){var t,n,r,i;if(this.items){n=this.items.length;for(t=0;t<n;t+=1){r=this.items[t];if(r.find&&(i=r.find(e))){return i}}return null}};var Fn=function va(e,t){var n,r,i;if(this.items){r=this.items.length;for(n=0;n<r;n+=1){i=this.items[n];if(i.findAll){i.findAll(e,t)}}}return t};var Dn=function ga(e,t){var n,r,i;if(this.items){r=this.items.length;for(n=0;n<r;n+=1){i=this.items[n];if(i.findAllComponents){i.findAllComponents(e,t)}}}return t};var Bn=function ma(e){var t,n,r,i;if(this.items){t=this.items.length;for(n=0;n<t;n+=1){r=this.items[n];if(r.findComponent&&(i=r.findComponent(e))){return i}}return null}};var Un=function ya(e){var t=e.index,n;if(this.items[t+1]){n=this.items[t+1].firstNode()}else if(this.owner===this.root){if(!this.owner.component){n=null}else{n=this.owner.component.findNextNode()}}else{n=this.owner.findNextNode(this)}return n};var Vn=function wa(){if(this.items&&this.items[0]){return this.items[0].firstNode()}return null};var Wn=function ba(){var e=this;do{if(e.pElement){return e.pElement.node}}while(e=e.parent);return this.root.detached||this.root.el};var qn=function(e){var t;var n={};t=function i(){var t=arguments[0];if(t===void 0)t=n;var i,o,s,a,u,f,l;i=t.args;u=i?"argsList":"value";f=i?"dirtyArgs":"dirtyValue";if(this[f]){s=r(this.items,o={},this.root._guid);a=e(i?"["+s+"]":s,o);if(!a){l=i?[this.toString()]:this.toString()}else{l=a.value}this[u]=l;this[f]=false}return this[u]};function r(e,t,n,i){i=i||0;return e.map(function(e){var o,s,a;if(e.text){return e.text}if(e.fragments){return e.fragments.map(function(e){return r(e.items,t,n,i)}).join("")}o=n+"-"+i++;if(s=e.root.viewmodel.wrapped[e.keypath]){a=s.value}else{a=e.getValue()}t[o]=a;return"${"+o+"}"}).join("")}return t}(Ct);var zn=function(){var e=/</g,t=/>/g;return function n(r){return r.replace(e,"&lt;").replace(t,"&gt;")}}();var Hn=function Ea(e){if(e&&e.parentNode){e.parentNode.removeChild(e)}return e};var $n=function(e){return function(){return e(this.node)}}(Hn);var Kn=function(e,t,n,r){var i=function(t){this.type=e.TEXT;this.text=t.template};i.prototype={detach:n,firstNode:function(){return this.node},render:function(){if(!this.node){this.node=document.createTextNode(r(this.text))}return this.node},toString:function(e){return e?t(this.text):this.text},unrender:function(e){if(e){return this.detach()}}};return i}(z,zn,$n,Nt);var Gn=function(e){return function t(){if(!this.keypath){e.removeUnresolved(this)}else{this.root.viewmodel.unregister(this.keypath,this)}if(this.resolver){this.resolver.unbind()}}}(_);var Yn=function _a(){return this.value};var Jn=function(e){var t=function(t,n,r,i){this.root=t;this.ref=n;this.parentFragment=r;this.resolve=i;e.addUnresolved(this)};t.prototype={unbind:function(){e.removeUnresolved(this)}};return t}(_);var Qn=function xa(e,t){return e&&t&&e.substr(0,t.length+1)===t+"."};var Xn=function(e){return function t(n,r,i){if(n===r){return i!==undefined?i:null}if(e(n,r)){return i===null?i:n.replace(r+".",i+".")}}}(Qn);var Zn=function(e,t){var n={warn:function(e,t){if(!e.debug&&!t){return}this.logger(r(e),e.allowDuplicates)},error:function(e){this.errorOnly(e);if(!e.debug){this.warn(e,true)}},errorOnly:function(e){if(e.debug){this.critical(e)}},critical:function(e){var t=e.err||new Error(r(e));this.thrower(t)},logger:e,thrower:function(e){throw e}};function r(e){var n=t[e.message]||e.message||"";return i(n,e.args)}function i(e,t){return e.replace(/{([^{}]*)}/g,function(e,n){return t[n]})}return n}(D,q);var er=function(){var e={};return function t(n,r){var i,o;if(e[n]){return e[n]}o=[];while(r--){o[r]="_"+r}i=new Function(o.join(","),"return("+n+")");e[n]=i;return i}}();var tr=function ka(e,t,n){var r,i;r=t.length;while(r--){i=t[r];if(n.indexOf(i)===-1){e.viewmodel.unregister(i,e,"computed")}}r=n.length;while(r--){i=n[r];if(t.indexOf(i)===-1){e.viewmodel.register(i,e,"computed")}}e.dependencies=n.slice()};var nr=function(e,t,n,r,i){var o;var s,a=Function.prototype.bind;s=function(e,t,n,i,o,s){var a=this,f=e.viewmodel;a.root=e;a.viewmodel=f;a.uniqueString=n;a.keypath=t;a.priority=s;a.fn=r(i,o.length);a.explicitDependencies=[];a.dependencies=[];a.argumentGetters=o.map(function(t){var n,r;if(!t){return void 0}if(t.indexRef){r=t.value;return r}n=t.keypath;a.explicitDependencies.push(n);f.register(n,a,"computed");return function(){var t=f.get(n);return typeof t==="function"?u(t,e):t}})};s.prototype={wake:function(){this.awake=true},sleep:function(){this.awake=false},getValue:function(){var t,n,r;t=this.argumentGetters.map(f);if(this.updating){return}this.updating=true;this.viewmodel.capture();try{n=this.fn.apply(null,t)}catch(o){if(this.root.debug){e.warn({debug:this.root.debug,message:"evaluationError",args:{uniqueString:this.uniqueString,err:o.message||o}})}n=undefined}r=this.viewmodel.release();i(this,this.dependencies,r);this.updating=false;return n},update:function(){var e=this.getValue();if(!t(e,this.value)){this.value=e;this.root.viewmodel.mark(this.keypath)}return this},teardown:function(){var e=this;this.explicitDependencies.concat(this.dependencies).forEach(function(t){return e.viewmodel.unregister(t,e,"computed")});this.root.viewmodel.evaluators[this.keypath]=null}};o=s;function u(e,t){var r,i,o;if(e._noWrap){return e}i="__ractive_"+t._guid;r=e[i];if(r){return r}else if(/this/.test(e.toString())){n(e,i,{value:a.call(e,t)});for(o in e){if(e.hasOwnProperty(o)){e[i][o]=e[o]}}return e[i]}n(e,"__ractive_nowrap",{value:e});return e.__ractive_nowrap}function f(e){return typeof e==="function"?e():e}return o}(Zn,y,N,er,tr,Et);var rr=function(e,t,n,r,i){var o;var s=function(r,i,o,s){var a=this,u,f,l;u=r.root;this.root=u;this.callback=s;this.owner=r;this.str=o.s;this.args=l=[];this.unresolved=[];this.pending=0;f=i.indexRefs;if(!o.r||!o.r.length){this.resolved=this.ready=true;this.bubble();return}o.r.forEach(function(r,o){var s,c,h;if(f&&(s=f[r])!==undefined){l[o]={indexRef:r,value:s};return}if(c=t(u,r,i)){l[o]={keypath:c};return}else if(r==="."){l[o]={"":""};return}l[o]=null;a.pending+=1;h=new n(u,r,i,function(t){a.resolve(o,t);e(a.unresolved,h)});a.unresolved.push(h)});this.ready=true;this.bubble()};s.prototype={bubble:function(){if(!this.ready){return}this.uniqueString=a(this.str,this.args);this.keypath=u(this.uniqueString);this.createEvaluator();this.callback(this.keypath)},unbind:function(){var e;while(e=this.unresolved.pop()){e.unbind()}},resolve:function(e,t){this.args[e]={keypath:t};this.bubble();this.resolved=!--this.pending},createEvaluator:function(){var e=this.root.viewmodel.evaluators[this.keypath];if(!e){e=new r(this.root,this.keypath,this.uniqueString,this.str,this.args,this.owner.priority);this.root.viewmodel.evaluators[this.keypath]=e}e.update()},rebind:function(e,t,n,r){var o;this.args.forEach(function(s){var a;if(!s)return;if(s.keypath&&(a=i(s.keypath,n,r))){s.keypath=a;o=true}else if(s.indexRef&&s.indexRef===e){s.value=t;o=true}});if(o){this.bubble()}}};o=s;function a(e,t){return e.replace(/_([0-9]+)/g,function(e,n){var r=t[n];if(!r)return"undefined";if(r.indexRef)return r.value;return r.keypath})}function u(e){return"${"+e.replace(/[\.\[\]]/g,"-")+"}"}return o}(d,b,Jn,nr,Xn);var ir=function(e,t,n,r,i){var o=function(r,o,s){var a=this,u,f,l,c,h;a.resolver=o;a.root=o.root;a.viewmodel=o.root.viewmodel;if(typeof r==="string"){a.value=r}else if(r.t===e.REFERENCE){u=a.ref=r.n;if((f=s.indexRefs)&&(l=f[u])!==undefined){a.indexRef=u;a.value=l}else{c=o.root;if(h=t(c,u,s)){a.resolve(h)}else{a.unresolved=new n(c,u,s,function(e){a.unresolved=null;a.resolve(e)})}}}else{new i(o,s,r,function(e){a.resolve(e)})}};o.prototype={resolve:function(e){this.keypath=e;this.value=this.viewmodel.get(e);this.bind();this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(e,t,n,i){var o;if(e&&this.indexRef===e){if(t!==this.value){this.value=t;return true}}else if(this.keypath&&(o=r(this.keypath,n,i))){this.unbind();this.keypath=o;this.value=this.root.viewmodel.get(o);this.bind();return true}},setValue:function(e){this.value=e;this.resolver.bubble()},unbind:function(){if(this.keypath){this.root.viewmodel.unregister(this.keypath,this)}if(this.unresolved){this.unresolved.unbind()}},forceResolution:function(){if(this.unresolved){this.unresolved.unbind();this.unresolved=null;this.keypath=this.ref;this.value=this.viewmodel.get(this.ref);this.bind()}}};return o}(z,b,Jn,Xn,rr);var or=function(e,t,n){var r=function(r,i,o){var s=this;var a=this,u,f,l,c;c=r.parentFragment;a.root=u=r.root;a.mustache=r;a.priority=r.priority;a.ref=f=i.r;a.callback=o;a.unresolved=[];if(l=e(u,f,c)){a.base=l}else{a.baseResolver=new t(u,f,c,function(e){a.base=e;a.baseResolver=null;a.bubble()})}a.members=i.m.map(function(e){return new n(e,s,c)});a.ready=true;a.bubble()};r.prototype={getKeypath:function(){var e=this.members.map(i);if(!e.every(o)||this.baseResolver){return null}return this.base+"."+e.join(".")},bubble:function(){if(!this.ready||this.baseResolver){return}this.callback(this.getKeypath())},unbind:function(){this.members.forEach(s)},rebind:function(e,t,n,r){var i;this.members.forEach(function(o){if(o.rebind(e,t,n,r)){i=true}});if(i){this.bubble()}},forceResolution:function(){if(this.baseResolver){this.base=this.ref;this.baseResolver.unbind();this.baseResolver=null}this.members.forEach(function(e){return e.forceResolution()});this.bubble()}};function i(e){return e.value}function o(e){return e!=undefined}function s(e){e.unbind()}return r}(b,Jn,ir);var sr=function(e,t,n,r,i){return function o(s,a){var u,f,l,c,h,p;h=a.parentFragment;p=a.template;s.root=h.root;s.parentFragment=h;s.pElement=h.pElement;s.template=a.template;s.index=a.index||0;s.priority=h.priority;s.isStatic=a.template.s;s.type=a.template.t;if(u=p.r){l=h.indexRefs;if(l&&(c=l[u])!==undefined){s.indexRef=u;s.setValue(c);return}f=n(s.root,u,s.parentFragment);if(f!==undefined){s.resolve(f)}else{s.ref=u;t.addUnresolved(s)}}if(a.template.x){s.resolver=new i(s,h,a.template.x,d)}if(a.template.rx){s.resolver=new r(s,a.template.rx,d)}if(s.template.n===e.SECTION_UNLESS&&!s.hasOwnProperty("value")){s.setValue(undefined)}function d(e){var t=s.keypath;if(e!==t){s.resolve(e);if(t!==undefined){s.fragments&&s.fragments.forEach(function(n){n.rebind(null,null,t,e)})}}}}}(z,_,b,or,rr);var ar=function Sa(e){var t,n,r;if(this.keypath!=undefined){this.root.viewmodel.unregister(this.keypath,this);t=true}this.keypath=e;if(e!=undefined){n=this.root.viewmodel.get(e);this.root.viewmodel.register(e,this)}this.setValue(n);if(t&&(r=this.twowayBinding)){r.rebound()}};var ur=function(e){return function t(n,r,i,o){var s;if(this.fragments){this.fragments.forEach(function(e){return e.rebind(n,r,i,o)})}if(this.resolver){this.resolver.rebind(n,r,i,o)}if(this.keypath!==undefined){s=e(this.keypath,i,o);if(s!==undefined){this.resolve(s)}}else if(n!==undefined&&this.indexRef===n){this.setValue(r)}}}(Xn);var fr=function(e,t,n,r){return{getValue:e,init:t,resolve:n,rebind:r}}(Yn,sr,ar,ur);var lr=function(e,t,n,r,i,o,s,a){var u=function(t){this.type=e.INTERPOLATOR;s.init(this,t)};u.prototype={update:function(){this.node.data=this.value==undefined?"":this.value},resolve:s.resolve,rebind:s.rebind,detach:a,unbind:o,render:function(){if(!this.node){this.node=document.createTextNode(this.value!=undefined?this.value:"")}return this.node},unrender:function(e){if(e){r(this.node)}},getValue:s.getValue,setValue:function(e){var n;if(n=this.root.viewmodel.wrapped[this.keypath]){e=n.get()}if(!i(e,this.value)){this.value=e;this.parentFragment.bubble();if(this.node){t.addView(this)}}},firstNode:function(){return this.node},toString:function(e){var t=this.value!=undefined?""+this.value:"";return e?n(t):t}};return u}(z,_,zn,Hn,y,Gn,fr,$n);var cr=function Oa(){this.parentFragment.bubble()};var hr=function Ta(){var e;if(this.fragments.length===1){return this.fragments[0].detach()}e=document.createDocumentFragment();this.fragments.forEach(function(t){e.appendChild(t.detach())});return e};var pr=function Aa(e){var t,n,r;n=this.fragments.length;for(t=0;t<n;t+=1){if(r=this.fragments[t].find(e)){return r}}return null};var dr=function Na(e,t){var n,r;r=this.fragments.length;for(n=0;n<r;n+=1){this.fragments[n].findAll(e,t)}};var vr=function Ra(e,t){var n,r;r=this.fragments.length;for(n=0;n<r;n+=1){this.fragments[n].findAllComponents(e,t)}};var gr=function Ca(e){var t,n,r;n=this.fragments.length;for(t=0;t<n;t+=1){if(r=this.fragments[t].findComponent(e)){return r}}return null};var mr=function La(e){if(this.fragments[e.index+1]){return this.fragments[e.index+1].firstNode()}return this.parentFragment.findNextNode(this)};var yr=function Ia(){var e,t,n;if(e=this.fragments.length){for(t=0;t<e;t+=1){if(n=this.fragments[t].firstNode()){return n}}}return this.parentFragment.findNextNode(this)};var wr=function(e,t){var n;t.push(function(){n=t.Fragment});return function r(t){var n=this,r,i,o,s,a,u,f,l;if(this.unbound){return}r=this.parentFragment;a=[];t.forEach(function c(e,t){var r,o,s,u;if(e===t){a[e]=n.fragments[t];return}r=n.fragments[t];if(i===undefined){i=t}if(e===-1){n.fragmentsToUnrender.push(r);r.unbind();return}o=e-t;s=n.keypath+"."+t;u=n.keypath+"."+e;r.rebind(n.template.i,e,s,u);a[e]=r});s=this.root.get(this.keypath).length;if(i===undefined){if(this.length===s){return}i=this.length}this.length=this.fragments.length=s;e.addView(this);u={template:this.template.f,root:this.root,owner:this};if(this.template.i){u.indexRef=this.template.i}for(o=i;o<s;o+=1){if(f=a[o]){this.docFrag.appendChild(f.detach(false))}else{this.fragmentsToCreate.push(o)}this.fragments[o]=f}l=r.findNextNode(this);this.parentFragment.getNode().insertBefore(this.docFrag,l)}}(_,o);var br=function ja(){var e;e=this.docFrag=document.createDocumentFragment();this.update();this.rendered=true;return e};var Er=function(e,t,n,r,i){var o;var s;i.push(function(){s=i.Fragment});o=function d(e){var t=this;var n,i;if(this.updating){return}this.updating=true;if(n=this.root.viewmodel.wrapped[this.keypath]){e=n.get()}if(this.fragmentsToCreate.length){i={template:this.template.f,root:this.root,pElement:this.pElement,owner:this,indexRef:this.template.i};this.fragmentsToCreate.forEach(function(e){var n;i.context=t.keypath+"."+e;i.index=e;n=new s(i);t.fragmentsToRender.push(t.fragments[e]=n)});this.fragmentsToCreate.length=0}else if(a(this,e)){this.bubble();if(this.rendered){r.addView(this)}}this.value=e;this.updating=false};function a(r,i){var o={template:r.template.f,root:r.root,pElement:r.parentFragment.pElement,owner:r};if(r.subtype){switch(r.subtype){case e.SECTION_IF:return c(r,i,false,o);case e.SECTION_UNLESS:return c(r,i,true,o);case e.SECTION_WITH:return l(r,o);case e.SECTION_EACH:if(n(i)){return f(r,i,o)}}}r.ordered=!!t(i);if(r.ordered){return u(r,i,o)}if(n(i)||typeof i==="function"){if(r.template.i){return f(r,i,o)}return l(r,o)}return c(r,i,false,o)}function u(e,t,n){var r,i,o;i=t.length;if(i===e.length){return false}if(i<e.length){e.fragmentsToUnrender=e.fragments.splice(i,e.length-i);e.fragmentsToUnrender.forEach(h)}else{if(i>e.length){for(r=e.length;r<i;r+=1){n.context=e.keypath+"."+r;n.index=r;if(e.template.i){n.indexRef=e.template.i}o=new s(n);e.fragmentsToRender.push(e.fragments[r]=o)}}}e.length=i;return true}function f(e,t,n){var r,i,o,a,u;o=e.hasKey||(e.hasKey={});i=e.fragments.length;while(i--){a=e.fragments[i];if(!(a.index in t)){u=true;a.unbind();e.fragmentsToUnrender.push(a);e.fragments.splice(i,1);o[a.index]=false}}for(r in t){if(!o[r]){u=true;n.context=e.keypath+"."+r;n.index=r;if(e.template.i){n.indexRef=e.template.i}a=new s(n);e.fragmentsToRender.push(a);e.fragments.push(a);o[r]=true}}e.length=e.fragments.length;return u}function l(e,t){var n;if(!e.length){t.context=e.keypath;t.index=0;n=new s(t);e.fragmentsToRender.push(e.fragments[0]=n);e.length=1;return true}}function c(e,n,r,i){var o,a,u;a=t(n)&&n.length===0;if(r){o=a||!n}else{o=n&&!a}if(o){if(!e.length){i.index=0;u=new s(i);e.fragmentsToRender.push(e.fragments[0]=u);e.length=1;return true}if(e.length>1){e.fragmentsToUnrender=e.fragments.splice(1);e.fragmentsToUnrender.forEach(h);return true}}else if(e.length){e.fragmentsToUnrender=e.fragments.splice(0,e.fragments.length).filter(p);e.fragmentsToUnrender.forEach(h);e.length=e.fragmentsToRender.length=0;return true}}function h(e){e.unbind()}function p(e){return e.rendered}return o}(z,a,u,_,o);var _r=function(e,t){var n;var r;t.push(function(){r=t.Fragment});n=function a(t){var n=this,r,a,u,f,l;if(this.unbound){return}r=t.balance;if(!r){return}e.addView(n);a=t.rangeStart;n.length+=r;if(r<0){n.fragmentsToUnrender=n.fragments.splice(a,-r);n.fragmentsToUnrender.forEach(i);s(n,a,n.length,r);return}u=a+t.removed;f=a+t.added;l=[u,0];l.length+=r;n.fragments.splice.apply(n.fragments,l);s(n,f,n.length,r);n.fragmentsToCreate=o(u,f)};function i(e){e.unbind()}function o(e,t){var n=[],r;for(r=e;r<t;r+=1){n.push(r)}return n}function s(e,t,n,r){var i,o,s,a,u;s=e.template.i;for(i=t;i<n;i+=1){o=e.fragments[i];a=e.keypath+"."+(i-r);u=e.keypath+"."+i;o.index=i;o.rebind(s,i,a,u)}}return n}(_,o);var xr=function Pa(e){var t,n,r;t="";n=0;r=this.length;for(n=0;n<r;n+=1){t+=this.fragments[n].toString(e)}return t};var kr=function(e){var t;t=function r(){this.fragments.forEach(n);e.call(this);this.length=0;this.unbound=true};function n(e){e.unbind()}return t}(Gn);var Sr=function(){var e;e=function r(e){this.fragments.forEach(e?t:n)};function t(e){e.unrender(true)}function n(e){e.unrender(false)}return e}();var Or=function Ma(){var e,t,n,r,i;while(e=this.fragmentsToUnrender.pop()){e.unrender(true)}if(!this.fragmentsToRender.length){return}if(this.rendered){i=this.parentFragment.getNode()}while(e=this.fragmentsToRender.shift()){t=e.render();this.docFrag.appendChild(t);if(this.rendered&&this.ordered){n=this.fragments[e.index+1];if(n&&n.rendered){i.insertBefore(this.docFrag,n.firstNode()||null)}}}if(this.rendered&&this.docFrag.childNodes.length){r=this.parentFragment.findNextNode(this);i.insertBefore(this.docFrag,r)}};var Tr=function(e,t,n,r,i,o,s,a,u,f,l,c,h,p,d,v,g,m){var y=function(n){this.type=e.SECTION;this.subtype=n.template.n;this.inverted=this.subtype===e.SECTION_UNLESS;this.pElement=n.pElement;this.fragments=[];this.fragmentsToCreate=[];this.fragmentsToRender=[];this.fragmentsToUnrender=[];this.length=0;t.init(this,n)};y.prototype={bubble:n,detach:r,find:i,findAll:o,findAllComponents:s,findComponent:a,findNextNode:u,firstNode:f,getValue:t.getValue,merge:l,rebind:t.rebind,render:c,resolve:t.resolve,setValue:h,splice:p,toString:d,unbind:v,unrender:g,update:m};return y}(z,fr,cr,hr,pr,dr,vr,gr,mr,yr,wr,br,Er,_r,xr,kr,Sr,Or);var Ar=function Fa(){var e,t;if(this.docFrag){e=this.nodes.length;for(t=0;t<e;t+=1){this.docFrag.appendChild(this.nodes[t])}return this.docFrag}};var Nr=function(e){return function t(n){var r,i,o,s;i=this.nodes.length;for(r=0;r<i;r+=1){o=this.nodes[r];if(o.nodeType!==1){continue}if(e(o,n)){return o}if(s=o.querySelector(n)){return s}}return null}}(Zt);var Rr=function(e){return function t(n,r){var i,o,s,a,u,f;o=this.nodes.length;for(i=0;i<o;i+=1){s=this.nodes[i];if(s.nodeType!==1){continue}if(e(s,n)){r.push(s)}if(a=s.querySelectorAll(n)){u=a.length;for(f=0;f<u;f+=1){r.push(a[f])}}}}}(Zt);var Cr=function Da(){if(this.rendered&&this.nodes[0]){return this.nodes[0]}return this.parentFragment.findNextNode(this)};var Lr=function(e,t){var n;var r={},i,o;try{t("table").innerHTML="foo"}catch(s){i=true;o={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}n=function(t,n,r){var s,u=[],f,l,c,h;if(t!=null&&t!==""){if(i&&(f=o[n.tagName])){s=a("DIV");s.innerHTML=f[0]+t+f[1];s=s.querySelector(".x");if(s.tagName==="SELECT"){l=s.options[s.selectedIndex]}}else if(n.namespaceURI===e.svg){s=a("DIV");s.innerHTML='<svg class="x">'+t+"</svg>";s=s.querySelector(".x")}else{s=a(n.tagName);s.innerHTML=t}while(c=s.firstChild){u.push(c);r.appendChild(c)}if(i&&n.tagName==="SELECT"){h=u.length;while(h--){if(u[h]!==l){u[h].selected=false}}}}return u};function a(e){return r[e]||(r[e]=t(e))}return n}(O,T);var Ir=function Ba(e){var t=[],n=e.length;while(n--){t[n]=e[n]}return t};var jr=function(e){var t;t=function r(t){var r,i,o;if(!t||t.name!=="select"||!t.binding){return}r=e(t.node.options).filter(n);if(t.getAttribute("multiple")){o=r.map(function(e){return e.value})}else if(i=r[0]){o=i.value}if(o!==undefined){t.binding.setValue(o)}t.bubble()};function n(e){return e.selected}return t}(Ir);var Pr=function(e,t){return function n(){if(this.rendered){throw new Error("Attempted to render an item that was already rendered")}this.docFrag=document.createDocumentFragment();this.nodes=e(this.value,this.parentFragment.getNode(),this.docFrag);t(this.pElement);this.rendered=true;return this.docFrag}}(Lr,jr);var Mr=function(e){return function t(n){var r;if(r=this.root.viewmodel.wrapped[this.keypath]){n=r.get()}if(n!==this.value){this.value=n;this.parentFragment.bubble();if(this.rendered){e.addView(this)}}}}(_);var Fr=function(e){return function t(){return this.value!=undefined?e(""+this.value):""}}(Nt);var Dr=function(e){return function t(n){if(this.rendered&&n){this.nodes.forEach(e);this.rendered=false}}}(Hn);var Br=function(e,t){return function n(){var n,r;if(!this.rendered){return}while(this.nodes&&this.nodes.length){n=this.nodes.pop();n.parentNode.removeChild(n)}r=this.parentFragment.getNode();this.nodes=e(this.value,r,this.docFrag);r.insertBefore(this.docFrag,this.parentFragment.findNextNode(this));t(this.pElement)}}(Lr,jr);var Ur=function(e,t,n,r,i,o,s,a,u,f,l,c){var h=function(n){this.type=e.TRIPLE;t.init(this,n)};h.prototype={detach:n,find:r,findAll:i,firstNode:o,getValue:t.getValue,rebind:t.rebind,render:s,resolve:t.resolve,setValue:a,toString:u,unbind:c,unrender:f,update:l};return h}(z,fr,Ar,Nr,Rr,Cr,Pr,Mr,Fr,Dr,Br,Gn);var Vr=function(){this.parentFragment.bubble()};var Wr=function Ua(){var e=this.node,t;if(e){if(t=e.parentNode){t.removeChild(e)}return e}};var qr=function(e){return function(t){if(e(this.node,t)){return this.node}if(this.fragment&&this.fragment.find){return this.fragment.find(t)}}}(Zt);var zr=function(e,t){if(t._test(this,true)&&t.live){(this.liveQueries||(this.liveQueries=[])).push(t)}if(this.fragment){this.fragment.findAll(e,t)}};var Hr=function(e,t){if(this.fragment){this.fragment.findAllComponents(e,t)}};var $r=function(e){if(this.fragment){return this.fragment.findComponent(e)}};var Kr=function Va(){return null};var Gr=function Wa(){return this.node};var Yr=function qa(e){if(!this.attributes||!this.attributes[e]){return}return this.attributes[e].value};var Jr=function(){var e,t,n,r;e="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" ");t="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" ");n=function(e){var t={},n=e.length;while(n--){t[e[n].toLowerCase()]=e[n]}return t};r=n(e.concat(t));return function(e){var t=e.toLowerCase();return r[t]||t}}();var Qr=function(e){return function t(){var t=this.fragment.getValue();if(t!==this.value){if(this.name==="id"&&this.value){delete this.root.nodes[this.value]}this.value=t;if(this.name==="value"&&this.node){this.node._ractive.value=t}if(this.rendered){e.addView(this)}}}}(_);var Xr=function(){var e=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i;return e}();var Zr=function(e,t){return function(n,r){var i,o;i=r.indexOf(":");if(i!==-1){o=r.substr(0,i);if(o!=="xmlns"){r=r.substring(i+1);n.name=t(r);n.namespace=e[o.toLowerCase()];if(!n.namespace){throw'Unknown namespace ("'+o+'")'}return}}n.name=n.element.namespace!==e.html?t(r):r}}(O,Jr);var ei=function(e){return function t(n){var r=n.fragment.items;if(r.length!==1){return}if(r[0].type===e.INTERPOLATOR){return r[0]}}}(z);var ti=function(e,t){var n={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(r,i){var o;if(r.pNode&&!r.namespace&&(!i.pNode.namespaceURI||i.pNode.namespaceURI===e.html)){o=n[r.name]||r.name;if(i.pNode[o]!==undefined){r.propertyName=o}if(t.test(o)||o==="value"){r.useProperty=true}}}}(O,Xr);var ni=function(e,t,n,r,i,o){var s;o.push(function(){s=o.Fragment});return function a(o){this.type=e.ATTRIBUTE;this.element=o.element;this.root=o.root;n(this,o.name);if(!o.value||typeof o.value==="string"){this.value=t.test(this.name)?true:o.value||"";return}this.parentFragment=this.element.parentFragment;this.fragment=new s({template:o.value,root:this.root,owner:this});this.value=this.fragment.getValue();this.interpolator=r(this);this.isBindable=!!this.interpolator&&!this.interpolator.isStatic;i(this,o);this.ready=true}}(z,Xr,Zr,ei,ti,o);var ri=function za(e,t,n,r){if(this.fragment){this.fragment.rebind(e,t,n,r)}};var ii=function(e,t){var n={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function r(i){var o;this.node=i;if(!i.namespaceURI||i.namespaceURI===e.html){o=n[this.name]||this.name;if(i[o]!==undefined){this.propertyName=o}if(t.test(o)||o==="value"){this.useProperty=true}if(o==="value"){this.useProperty=true;i._ractive.value=this.value}}this.rendered=true;this.update()}}(O,Xr);var oi=function(e){var t;t=function r(){var t=(o=this).name,r=o.value,i=o.interpolator,o=o.fragment;
if(t==="value"&&(this.element.name==="select"||this.element.name==="textarea")){return}if(t==="value"&&this.element.getAttribute("contenteditable")!==undefined){return}if(t==="name"&&this.element.name==="input"&&i){return"name={{"+(i.keypath||i.ref)+"}}"}if(e.test(t)){return r?t:""}if(o){r=o.toString()}return r?t+'="'+n(r)+'"':t};function n(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}return t}(Xr);var si=function Ha(){if(this.fragment){this.fragment.unbind()}};var ai=function $a(){var e=this.value,t,n,r,i;if(!this.locked){this.node._ractive.value=e;t=this.node.options;i=t.length;while(i--){n=t[i];r=n._ractive?n._ractive.value:n.value;if(r==e){n.selected=true;break}}}};var ui=function Ka(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n]==t){return true}}return false};var fi=function(e,t){return function n(){var n=this.value,r,i,o,s;if(!t(n)){n=[n]}r=this.node.options;i=r.length;while(i--){o=r[i];s=o._ractive?o._ractive.value:o.value;o.selected=e(n,s)}}}(ui,a);var li=function Ga(){var e=(t=this).node,t=t.value;e.checked=t==e._ractive.value};var ci=function(e){return function t(){var t,n=this.node,r,i,o;t=n.checked;n.value=this.element.getAttribute("value");n.checked=this.element.getAttribute("value")===this.element.getAttribute("name");if(t&&!n.checked&&this.element.binding){i=this.element.binding.siblings;if(o=i.length){while(o--){r=i[o];if(!r.element.node){return}if(r.element.node.checked){e.addViewmodel(r.root.viewmodel);return r.handleChange()}}e.addViewmodel(r.root.viewmodel);this.root.viewmodel.set(r.keypath,undefined)}}}}(_);var hi=function(e){return function t(){var t,n;t=this.node;n=this.value;if(!e(n)){t.checked=n==t._ractive.value}else{t.checked=n.indexOf(t._ractive.value)!==-1}}}(a);var pi=function Ya(){var e,t;e=this.node;t=this.value;if(t===undefined){t=""}e.className=t};var di=function Ja(){var e,t;e=this.node;t=this.value;if(t!==undefined){this.root.nodes[t]=undefined}this.root.nodes[t]=e;e.id=t};var vi=function Qa(){var e,t;e=this.node;t=this.value;if(t===undefined){t=""}e.style.setAttribute("cssText",t)};var gi=function Xa(){var e=this.value;if(e===undefined){e=""}if(!this.locked){this.node.innerHTML=e}};var mi=function Za(){var e=(t=this).node,t=t.value;e._ractive.value=t;if(!this.locked){e.value=t==undefined?"":t}};var yi=function eu(){if(!this.locked){this.node[this.propertyName]=this.value}};var wi=function(e){return function t(){var t=(o=this).node,n=o.namespace,r=o.name,i=o.value,o=o.fragment;if(n){t.setAttributeNS(n,r,(o||i).toString())}else if(!e.test(r)){t.setAttribute(r,(o||i).toString())}else{if(i){t.setAttribute(r,"")}else{t.removeAttribute(r)}}}}(Xr);var bi=function(e,t,n,r,i,o,s,a,u,f,l,c,h,p){return function d(){var d=(g=this).name,v=g.element,g=g.node,m,y;if(d==="id"){y=u}else if(d==="value"){if(v.name==="select"&&d==="value"){y=v.getAttribute("multiple")?r:n}else if(v.name==="textarea"){y=c}else if(v.getAttribute("contenteditable")!=null){y=l}else if(v.name==="input"){m=v.getAttribute("type");if(m==="file"){y=t}else if(m==="radio"&&v.binding&&v.binding.name==="name"){y=o}else{y=c}}}else if(this.twoway&&d==="name"){if(g.type==="radio"){y=i}else if(g.type==="checkbox"){y=s}}else if(d==="style"&&g.style.setAttribute){y=f}else if(d==="class"&&(!g.namespaceURI||g.namespaceURI===e.html)){y=a}else if(this.useProperty){y=h}if(!y){y=p}this.update=y;this.update()}}(O,zt,ai,fi,li,ci,hi,pi,di,vi,gi,mi,yi,wi);var Ei=function(e,t,n,r,i,o,s){var a=function(e){this.init(e)};a.prototype={bubble:e,init:t,rebind:n,render:r,toString:i,unbind:o,update:s};return a}(Qr,ni,ri,ii,oi,si,bi);var _i=function(e){return function(t,n){var r,i,o=[];for(r in n){if(n.hasOwnProperty(r)){i=new e({element:t,name:r,value:n[r],root:t.root});o.push(o[r]=i)}}return o}}(Ei);var xi=function(e){var t=Array.prototype.slice;var n=t.call(arguments,1);var r,i;while(i=n.shift()){for(r in i){if(i.hasOwnProperty(r)){e[r]=i[r]}}}return e};var ki=function(e,t,n,r,i){var o=function(e){var n,r,i;this.element=e;this.root=e.root;this.attribute=e.attributes[this.name||"value"];n=this.attribute.interpolator;n.twowayBinding=this;if(n.keypath&&n.keypath.substr==="${"){t("Two-way binding does not work with expressions: "+n.keypath);return false}if(!n.keypath){if(n.ref){n.resolve(n.ref)}if(n.resolver){n.resolver.forceResolution()}}this.keypath=r=n.keypath;if(this.root.viewmodel.get(r)===undefined&&this.getInitialValue){i=this.getInitialValue();if(i!==undefined){this.root.viewmodel.set(r,i)}}};o.prototype={handleChange:function(){var t=this;e.start(this.root);this.attribute.locked=true;this.root.viewmodel.set(this.keypath,this.getValue());e.scheduleTask(function(){return t.attribute.locked=false});e.end()},rebound:function(){var e,t,n;t=this.keypath;n=this.attribute.interpolator.keypath;if(t===n){return}i(this.root._twowayBindings[t],this);this.keypath=n;e=this.root._twowayBindings[n]||(this.root._twowayBindings[n]=[]);e.push(this)},unbind:function(){}};o.extend=function(e){var t=this,i;i=function(e){o.call(this,e);if(this.init){this.init()}};i.prototype=n(t.prototype);r(i.prototype,e);i.extend=o.extend;return i};return o}(_,D,H,xi,d);var Si=function tu(){this._ractive.binding.handleChange()};var Oi=function(e,t){var n=e.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var e=this.element.node;e.addEventListener("change",t,false);if(!this.root.lazy){e.addEventListener("input",t,false);if(e.attachEvent){e.addEventListener("keyup",t,false)}}},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,false);e.removeEventListener("input",t,false);e.removeEventListener("keyup",t,false)},getValue:function(){return this.element.node.innerHTML}});return n}(ki,Si);var Ti=function(){var e={};return function t(n,r,i){var o=n+r+i;return e[o]||(e[o]=[])}}();var Ai=function(e,t,n,r,i){var o=n.extend({name:"checked",init:function(){this.siblings=r(this.root._guid,"radio",this.element.getAttribute("name"));this.siblings.push(this)},render:function(){var e=this.element.node;e.addEventListener("change",i,false);if(e.attachEvent){e.addEventListener("click",i,false)}},unrender:function(){var e=this.element.node;e.removeEventListener("change",i,false);e.removeEventListener("click",i,false)},handleChange:function(){e.start(this.root);this.siblings.forEach(function(e){e.root.viewmodel.set(e.keypath,e.getValue())});e.end()},getValue:function(){return this.element.node.checked},unbind:function(){t(this.siblings,this)}});return o}(_,d,ki,Ti,Si);var Ni=function(e,t,n,r){var i=t.extend({name:"name",init:function(){this.siblings=r(this.root._guid,"radioname",this.keypath);this.siblings.push(this);this.radioName=true;this.attribute.twoway=true},getInitialValue:function(){if(this.element.getAttribute("checked")){return this.element.getAttribute("value")}},render:function(){var e=this.element.node;e.name="{{"+this.keypath+"}}";e.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value");e.addEventListener("change",n,false);if(e.attachEvent){e.addEventListener("click",n,false)}},unrender:function(){var e=this.element.node;e.removeEventListener("change",n,false);e.removeEventListener("click",n,false)},getValue:function(){var e=this.element.node;return e._ractive?e._ractive.value:e.value},handleChange:function(){if(this.element.node.checked){t.prototype.handleChange.call(this)}},rebound:function(e,n,r,i){var o;t.prototype.rebound.call(this,e,n,r,i);if(o=this.element.node){o.name="{{"+this.keypath+"}}"}},unbind:function(){e(this.siblings,this)}});return i}(d,ki,Si,Ti);var Ri=function(e,t,n,r,i){var o=n.extend({name:"name",getInitialValue:function(){this.noInitialValue=true;return[]},init:function(){var t,n,i;this.checkboxName=true;this.siblings=r(this.root._guid,"checkboxes",this.keypath);this.siblings.push(this);if(this.noInitialValue){this.siblings.noInitialValue=true}i=this.siblings.noInitialValue;t=this.root.viewmodel.get(this.keypath);n=this.element.getAttribute("value");if(i){this.isChecked=this.element.getAttribute("checked");if(this.isChecked){t.push(n)}}else{this.isChecked=e(t)?t.indexOf(n)!==-1:t===n}},unbind:function(){t(this.siblings,this)},render:function(){var e=this.element.node;e.name="{{"+this.keypath+"}}";e.checked=this.isChecked;e.addEventListener("change",i,false);if(e.attachEvent){e.addEventListener("click",i,false)}},unrender:function(){var e=this.element.node;e.removeEventListener("change",i,false);e.removeEventListener("click",i,false)},changed:function(){var e=!!this.isChecked;this.isChecked=this.element.node.checked;return this.isChecked===e},handleChange:function(){this.isChecked=this.element.node.checked;n.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(s).map(a)}});function s(e){return e.isChecked}function a(e){return e.element.getAttribute("value")}return o}(a,d,ki,Ti,Si);var Ci=function(e,t){var n=e.extend({name:"checked",render:function(){var e=this.element.node;e.addEventListener("change",t,false);if(e.attachEvent){e.addEventListener("click",t,false)}},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,false);e.removeEventListener("click",t,false)},getValue:function(){return this.element.node.checked}});return n}(ki,Si);var Li=function(e,t,n){var r=t.extend({getInitialValue:function(){var e=this.element.options,t,n,r,i;if(this.element.getAttribute("value")!==undefined){return}n=t=e.length;if(!t){return}while(n--){if(e[n].getAttribute("selected")){r=e[n].getAttribute("value");i=true;break}}if(!i){while(++n<t){if(!e[n].getAttribute("disabled")){r=e[n].getAttribute("value");break}}}if(r!==undefined){this.element.attributes.value.value=r}return r},render:function(){this.element.node.addEventListener("change",n,false)},unrender:function(){this.element.node.removeEventListener("change",n,false)},setValue:function(t){e.addViewmodel(this.root.viewmodel);this.root.viewmodel.set(this.keypath,t)},getValue:function(){var e,t,n,r,i;e=this.element.node.options;n=e.length;for(t=0;t<n;t+=1){r=e[t];if(e[t].selected){i=r._ractive?r._ractive.value:r.value;return i}}},forceUpdate:function(){var t=this;var n=this.getValue();if(n!==undefined){this.attribute.locked=true;e.addViewmodel(this.root.viewmodel);e.scheduleTask(function(){return t.attribute.locked=false});this.root.viewmodel.set(this.keypath,n)}}});return r}(_,ki,Si);var Ii=function(e){return function(t,n){var r;if(!e(t)||!e(n)){return false}if(t.length!==n.length){return false}r=t.length;while(r--){if(t[r]!==n[r]){return false}}return true}}(a);var ji=function(e,t,n,r){var i=n.extend({getInitialValue:function(){return this.element.options.filter(function(e){return e.getAttribute("selected")}).map(function(e){return e.getAttribute("value")})},render:function(){var e;this.element.node.addEventListener("change",r,false);e=this.root.viewmodel.get(this.keypath);if(e===undefined){this.handleChange()}},unrender:function(){this.element.node.removeEventListener("change",r,false)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var e,t,n,r,i,o;e=[];t=this.element.node.options;r=t.length;for(n=0;n<r;n+=1){i=t[n];if(i.selected){o=i._ractive?i._ractive.value:i.value;e.push(o)}}return e},handleChange:function(){var e,r,i;e=this.attribute;r=e.value;i=this.getValue();if(r===undefined||!t(i,r)){n.prototype.handleChange.call(this)}return this},forceUpdate:function(){var t=this;var n=this.getValue();if(n!==undefined){this.attribute.locked=true;e.addViewmodel(this.root.viewmodel);e.scheduleTask(function(){return t.attribute.locked=false});this.root.viewmodel.set(this.keypath,n)}},updateModel:function(){if(this.attribute.value===undefined||!this.attribute.value.length){this.root.viewmodel.set(this.keypath,this.initialValue)}}});return i}(_,Ii,Li,Si);var Pi=function(e,t){var n=e.extend({render:function(){this.element.node.addEventListener("change",t,false)},unrender:function(){this.element.node.removeEventListener("change",t,false)},getValue:function(){return this.element.node.files}});return n}(ki,Si);var Mi=function(e,t){var n;var r,i;i={evaluateWrapped:true};r=e.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var e=this.element.node;e.addEventListener("change",t,false);if(!this.root.lazy){e.addEventListener("input",t,false);if(e.attachEvent){e.addEventListener("keyup",t,false)}}e.addEventListener("blur",o,false)},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,false);e.removeEventListener("input",t,false);e.removeEventListener("keyup",t,false);e.removeEventListener("blur",o,false)}});n=r;function o(){var e;t.call(this);e=this._ractive.root.viewmodel.get(this._ractive.binding.keypath,i);this.value=e==undefined?"":e}return n}(ki,Si);var Fi=function(e){return e.extend({getInitialValue:function(){return undefined},getValue:function(){var e=parseFloat(this.element.node.value);return isNaN(e)?undefined:e}})}(Mi);var Di=function(e,t,n,r,i,o,s,a,u,f,l){var c;c=function p(c){var p=c.attributes,d,v,g,m;if(c.binding){c.binding.teardown();c.binding=null}if(c.getAttribute("contenteditable")&&h(p.value)){v=t}else if(c.name==="input"){d=c.getAttribute("type");if(d==="radio"||d==="checkbox"){g=h(p.name);m=h(p.checked);if(g&&m){e.error({message:"badRadioInputBinding"})}if(g){v=d==="radio"?r:i}else if(m){v=d==="radio"?n:o}}else if(d==="file"&&h(p.value)){v=u}else if(h(p.value)){v=d==="number"||d==="range"?f:l}}else if(c.name==="select"&&h(p.value)){v=c.getAttribute("multiple")?a:s}else if(c.name==="textarea"&&h(p.value)){v=l}if(v){return new v(c)}};function h(e){return e&&e.isBindable}return c}(Zn,Oi,Ai,Ni,Ri,Ci,Li,ji,Pi,Fi,Mi);var Bi=function nu(){var e=this.getAction();if(e&&!this.hasListener){this.listen()}else if(!e&&this.hasListener){this.unrender()}};var Ui=function(e){return function t(n){e(this.root,this.getAction(),{event:n})}}(p);var Vi=function ru(){return this.action.toString().trim()};var Wi=function(e,t,n,r,i,o,s){var a;var u,f={args:true},l=/^event(?:\.(.+))?/;i.push(function(){u=i.Fragment});a=function d(i,o,a){var f=this,d,v,g,m,y;f.element=i;f.root=i.root;f.name=o;if(o.indexOf("*")!==-1){s.error({debug:this.root.debug,message:"noElementProxyEventWildcards",args:{element:i.tagName,event:o}});this.invalid=true}if(a.m){f.method=a.m;f.args=v=[];f.unresolved=[];f.refs=a.a.r;f.fn=t(a.a.s,f.refs.length);y=i.parentFragment;g=y.indexRefs;m=f.root;a.a.r.forEach(function(t,i){var o,s,a,u;if(g&&(o=g[t])!==undefined){v[i]={indexRef:t,value:o};return}if(a=l.exec(t)){v[i]={eventObject:true,refinements:a[1]?a[1].split("."):[]};return}if(s=n(m,t,y)){v[i]={keypath:s};return}v[i]=null;u=new r(m,t,y,function(t){f.resolve(i,t);e(f.unresolved,u)});f.unresolved.push(u)});this.fire=c}else{d=a.n||a;if(typeof d!=="string"){d=new u({template:d,root:this.root,owner:this})}this.action=d;if(a.d){this.dynamicParams=new u({template:a.d,root:this.root,owner:this.element});this.fire=p}else if(a.a){this.params=a.a;this.fire=h}}};function c(e){var t,n,r;t=this.root;if(typeof t[this.method]!=="function"){throw new Error('Attempted to call a non-existent method ("'+this.method+'")')}n=this.args.map(function(n){var r,i,o;if(!n){return undefined}if(n.indexRef){return n.value}if(n.eventObject){r=e;if(i=n.refinements.length){for(o=0;o<i;o+=1){r=r[n.refinements[o]]}}}else{r=t.get(n.keypath)}return r});r=this.fn.apply(null,n);t[this.method].apply(t,r)}function h(e){o(this.root,this.getAction(),{event:e,args:this.params})}function p(e){var t=this.dynamicParams.getValue(f);if(typeof t==="string"){t=t.substr(1,t.length-2)}o(this.root,this.getAction(),{event:e,args:t})}return a}(d,er,b,Jn,o,p,Zn);var qi=function iu(e){var t,n;t=this._ractive;n=t.events[e.type];n.fire({node:this,original:e,index:t.index,keypath:t.keypath,context:t.root.get(t.keypath)})};var zi=function(e,t,n){var r;var i={};r=function s(){var r,i=this.name;if(this.invalid){return}if(r=e.registries.events.find(this.root,i)){this.custom=r(this.node,o(i))}else{if(!("on"+i in this.node)&&!(window&&"on"+i in window)){n.error({debug:this.root.debug,message:"missingPlugin",args:{plugin:"event",name:i}})}this.node.addEventListener(i,t,false)}this.hasListener=true};function o(e){if(!i[e]){i[e]=function(t){var n=t.node._ractive;t.index=n.index;t.keypath=n.keypath;t.context=n.root.get(n.keypath);n.events[e].fire(t)}}return i[e]}return r}(Kt,qi,Zn);var Hi=function(e){return function t(n,r,i,o){if(this.method){this.args.forEach(function(t){if(t.indexRef&&t.indexRef===n){t.value=r}if(t.keypath&&(o=e(t.keypath,i,o))){t.keypath=o}});return}if(typeof this.action!=="string"){this.action.rebind(n,r,i,o)}if(this.dynamicParams){this.dynamicParams.rebind(n,r,i,o)}}}(Xn);var $i=function ou(){this.node=this.element.node;this.node._ractive.events[this.name]=this;if(this.method||this.getAction()){this.listen()}};var Ki=function su(e,t){this.args[e]={keypath:t}};var Gi=function(){var e;e=function n(){if(this.method){this.unresolved.forEach(t);return}if(typeof this.action!=="string"){this.action.unbind()}if(this.dynamicParams){this.dynamicParams.unbind()}};function t(e){e.teardown()}return e}();var Yi=function(e){return function t(){if(this.custom){this.custom.teardown()}else{this.node.removeEventListener(this.name,e,false)}this.hasListener=false}}(qi);var Ji=function(e,t,n,r,i,o,s,a,u,f){var l=function(e,t,n){this.init(e,t,n)};l.prototype={bubble:e,fire:t,getAction:n,init:r,listen:i,rebind:o,render:s,resolve:a,unbind:u,unrender:f};return l}(Bi,Ui,Vi,Wi,zi,Hi,$i,Ki,Gi,Yi);var Qi=function(e){return function(t,n){var r,i,o,s,a=[];for(i in n){if(n.hasOwnProperty(i)){o=i.split("-");r=o.length;while(r--){s=new e(t,o[r],n[i]);a.push(s)}}}return a}}(Ji);var Xi=function(e,t,n){var r,i,o;t.push(function(){r=t.Fragment});i={args:true};o=function(t,o){var s=this,a,u,f;s.element=t;s.root=a=t.root;u=o.n||o;if(typeof u!=="string"){f=new r({template:u,root:a,owner:t});u=f.toString();f.unbind()}if(o.a){s.params=o.a}else if(o.d){s.fragment=new r({template:o.d,root:a,owner:t});s.params=s.fragment.getValue(i);s.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=true;s.params=this.getValue(i);if(s.ready){s.update()}}}s.fn=n.registries.decorators.find(a,u);if(!s.fn){e.error({debug:a.debug,message:"missingPlugin",args:{plugin:"decorator",name:u}})}};o.prototype={init:function(){var e=this,t,n,r;t=e.element.node;if(e.params){r=[t].concat(e.params);n=e.fn.apply(e.root,r)}else{n=e.fn.call(e.root,t)}if(!n||!n.teardown){throw new Error("Decorator definition must return an object with a teardown method")}e.actual=n;e.ready=true},update:function(){if(this.actual.update){this.actual.update.apply(this.root,this.params)}else{this.actual.teardown(true);this.init()}},rebind:function(e,t,n,r){if(this.fragment){this.fragment.rebind(e,t,n,r)}},teardown:function(e){this.actual.teardown();if(!e&&this.fragment){this.fragment.unbind()}}};return o}(Zn,o,Kt);var Zi=function(e){var t;t=function r(t){var r,i,o,s,a;r=t.node;if(!r){return}s=e(r.options);i=t.getAttribute("value");o=t.getAttribute("multiple");if(i!==undefined){s.forEach(function(e){var t,r;t=e._ractive?e._ractive.value:e.value;r=o?n(i,t):i==t;if(r){a=true}e.selected=r});if(!a){if(s[0]){s[0].selected=true}if(t.binding){t.binding.forceUpdate()}}}else if(t.binding){t.binding.forceUpdate()}};function n(e,t){var n=e.length;while(n--){if(e[n]==t){return true}}}return t}(Ir);var eo=function(e,t){return function n(){var n=this;if(!this.dirty){this.dirty=true;e.scheduleTask(function(){t(n);n.dirty=false})}this.parentFragment.bubble()}}(_,Zi);var to=function au(e){do{if(e.name==="select"){return e}}while(e=e.parent)};var no=function(e){return function t(n,r){n.select=e(n.parent);if(!n.select){return}n.select.options.push(n);if(!r.a){r.a={}}if(!r.a.value&&!r.a.hasOwnProperty("disabled")){r.a.value=r.f}if("selected"in r.a&&n.select.getAttribute("value")!==undefined){delete r.a.selected}}}(to);var ro=function(e,t,n,r,i,o,s,a,u){var f;u.push(function(){f=u.Fragment});return function l(u){var l,c,h,p,d;this.type=e.ELEMENT;l=this.parentFragment=u.parentFragment;c=this.template=u.template;this.parent=u.pElement||l.pElement;this.root=h=l.root;this.index=u.index;this.name=t(c.e);if(this.name==="option"){a(this,c)}if(this.name==="select"){this.options=[];this.bubble=s}this.attributes=n(this,c.a);if(c.f){this.fragment=new f({template:c.f,root:h,owner:this,pElement:this})}if(h.twoway&&(p=r(this,c.a))){this.binding=p;d=this.root._twowayBindings[p.keypath]||(this.root._twowayBindings[p.keypath]=[]);d.push(p)}if(c.v){this.eventHandlers=i(this,c.v)}if(c.o){this.decorator=new o(this,c.o)}this.intro=c.t0||c.t1;this.outro=c.t0||c.t2}}(z,Jr,_i,Di,Qi,Xi,eo,no,o);var io=function(e){return function t(n,r){return n===r||e(n,r)}}(Qn);var oo=function(e,t){return function n(r,i,o,s){var a=r[i];if(!a||e(a,s)||!e(a,o)){return}r[i]=t(a,o,s)}}(io,Xn);var so=function(e){return function t(n,r,i,o){var s,a,u,f;if(this.attributes){this.attributes.forEach(l)}if(this.eventHandlers){this.eventHandlers.forEach(l)}if(this.decorator){l(this.decorator)}if(this.fragment){l(this.fragment)}if(u=this.liveQueries){f=this.root;s=u.length;while(s--){u[s]._makeDirty()}}if(this.node&&(a=this.node._ractive)){e(a,"keypath",i,o);if(n!=undefined){a.index[n]=r}}function l(e){e.rebind(n,r,i,o)}}}(oo);var ao=function uu(e){var t;if(e.attributes.width||e.attributes.height){e.node.addEventListener("load",t=function(){var n=e.getAttribute("width"),r=e.getAttribute("height");if(n!==undefined){e.node.setAttribute("width",n)}if(r!==undefined){e.node.setAttribute("height",r)}e.node.removeEventListener("load",t,false)},false)}};var uo=function(e,t,n){var r,i={};n.push(function(){r=n.Fragment});return function o(n,s,a){var u=this,f,l,c;u.element=n;u.root=f=n.root;u.isIntro=a;l=s.n||s;if(typeof l!=="string"){c=new r({template:l,root:f,owner:n});l=c.toString();c.unbind()}u.name=l;if(s.a){u.params=s.a}else if(s.d){c=new r({template:s.d,root:f,owner:n});u.params=c.getValue(i);c.unbind()}u._fn=t.registries.transitions.find(f,l);if(!u._fn){e.error({debug:f.debug,message:"missingPlugin",args:{plugin:"transition",name:l}});return}}}(Zn,Kt,o);var fo=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})};var lo=function(e,t,n,r){var i,o,s;if(!e){i=null}else{o={};s=n("div").style;i=function(e){var n,i,a;e=r(e);if(!o[e]){if(s[e]!==undefined){o[e]=e}else{a=e.charAt(0).toUpperCase()+e.substring(1);n=t.length;while(n--){i=t[n];if(s[i+a]!==undefined){o[e]=i+a;break}}}}return o[e]}}return i}(A,j,T,fo);var co=function(e,t,n,r){var i,o;if(!t){i=null}else{o=window.getComputedStyle||e.getComputedStyle;i=function(e){var t,i,s,a,u;t=o(this.node);if(typeof e==="string"){u=t[r(e)];if(u==="0px"){u=0}return u}if(!n(e)){throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties")}i={};s=e.length;while(s--){a=e[s];u=t[r(a)];if(u==="0px"){u=0}i[a]=u}return i}}return i}(Et,A,a,lo);var ho=function(e){return function(t,n){var r;if(typeof t==="string"){this.node.style[e(t)]=n}else{for(r in t){if(t.hasOwnProperty(r)){this.node.style[e(r)]=t[r]}}}return this}}(lo);var po=function(e,t,n){var r;var i=function(r){var i;this.duration=r.duration;this.step=r.step;this.complete=r.complete;if(typeof r.easing==="string"){i=r.root.easing[r.easing];if(!i){e('Missing easing function ("'+r.easing+'"). You may need to download a plugin from [TODO]');i=o}}else if(typeof r.easing==="function"){i=r.easing}else{i=o}this.easing=i;this.start=t();this.end=this.start+this.duration;this.running=true;n.add(this)};i.prototype={tick:function(e){var t,n;if(!this.running){return false}if(e>this.end){if(this.step){this.step(1)}if(this.complete){this.complete(1)}return false}t=e-this.start;n=this.easing(t/this.duration);if(this.step){this.step(n)}return true},stop:function(){if(this.abort){this.abort()}this.running=false}};r=i;function o(e){return e}return r}(D,M,F);var vo=function(e){var t=new RegExp("^-(?:"+e.join("|")+")-");return function(e){return e.replace(t,"")}}(j);var go=function(e){var t=new RegExp("^(?:"+e.join("|")+")([A-Z])");return function(e){var n;if(!e){return""}if(t.test(e)){e="-"+e}n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return n}}(j);var mo=function(e,t,n,r,i,o,s,a,u){var f,l,c,h,p,d,v,g,m={},y={};if(!e){f=null}else{l=n("div").style;(function(){if(l.transition!==undefined){c="transition";h="transitionend";p=true}else if(l.webkitTransition!==undefined){c="webkitTransition";h="webkitTransitionEnd";p=true}else{p=false}})();if(c){d=c+"Duration";v=c+"Property";g=c+"TimingFunction"}f=function(e,n,f,l,c){setTimeout(function(){var w,b,E,_,x;_=function(){if(b&&E){e.root.fire(e.name+":end",e.node,e.isIntro);c()}};w=(e.node.namespaceURI||"")+e.node.tagName;e.node.style[v]=l.map(s).map(u).join(",");e.node.style[g]=u(f.easing||"linear");e.node.style[d]=f.duration/1e3+"s";x=function(t){var n;n=l.indexOf(r(a(t.propertyName)));if(n!==-1){l.splice(n,1)}if(l.length){return}e.node.removeEventListener(h,x,false);E=true;_()};e.node.addEventListener(h,x,false);setTimeout(function(){var a=l.length,u,c,d,v=[],g,k;while(a--){g=l[a];u=w+g;if(p&&!y[u]){e.node.style[s(g)]=n[g];if(!m[u]){c=e.getStyle(g);m[u]=e.getStyle(g)!=n[g];y[u]=!m[u];if(y[u]){e.node.style[s(g)]=c}}}if(!p||y[u]){if(c===undefined){c=e.getStyle(g)}d=l.indexOf(g);if(d===-1){t("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!")}else{l.splice(d,1)}k=/[^\d]*$/.exec(n[g])[0];v.push({name:s(g),interpolator:i(parseFloat(c),parseFloat(n[g])),suffix:k})}}if(v.length){new o({root:e.root,duration:f.duration,easing:r(f.easing||""),step:function(t){var n,r;r=v.length;while(r--){n=v[r];e.node.style[n.name]=n.interpolator(t)+n.suffix}},complete:function(){b=true;_()}})}else{b=true}if(!l.length){e.node.removeEventListener(h,x,false);E=true;_()}},0)},f.delay||0)}}return f}(A,D,T,fo,Gt,po,lo,vo,go);var yo=function(e){var t,n,r,i,o;if(typeof document!=="undefined"){t="hidden";o={};if(t in document){r=""}else{i=e.length;while(i--){n=e[i];t=n+"Hidden";if(t in document){r=n}}}if(r!==undefined){document.addEventListener(r+"visibilitychange",s);s()}else{if("onfocusout"in document){document.addEventListener("focusout",a);document.addEventListener("focusin",u)}else{window.addEventListener("pagehide",a);window.addEventListener("blur",a);window.addEventListener("pageshow",u);window.addEventListener("focus",u)}o.hidden=false}}function s(){o.hidden=document[t]}function a(){o.hidden=true}function u(){o.hidden=false}return o}(j);var wo=function(e,t,n,r,i,o,s){var a,u,f;if(!t){a=null}else{u=window.getComputedStyle||e.getComputedStyle;a=function(e,t,a,l){var c=this,h;if(s.hidden){this.setStyle(e,t);return f||(f=r.resolve())}if(typeof e==="string"){h={};h[e]=t}else{h=e;l=a;a=t}if(!a){n('The "'+c.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340');a=c;l=c.complete}var p=new r(function(e){var t,n,r,s,f,l,p;if(!a.duration){c.setStyle(h);e();return}t=Object.keys(h);n=[];r=u(c.node);f={};l=t.length;while(l--){p=t[l];s=r[i(p)];if(s==="0px"){s=0}if(s!=h[p]){n.push(p);c.node.style[i(p)]=s}}if(!n.length){e();return}o(c,h,a,n,e)});if(l){n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)");p.then(l)}return p}}return a}(Et,A,D,v,lo,mo,yo);var bo=function(e,t){var n;for(n in t){if(t.hasOwnProperty(n)&&!(n in e)){e[n]=t[n]}}return e};var Eo=function(e){return function(t,n){if(typeof t==="number"){t={duration:t}}else if(typeof t==="string"){if(t==="slow"){t={duration:600}}else if(t==="fast"){t={duration:200}}else{t={duration:400}}}else if(!t){t={}}return e(t,n)}}(bo);var _o=function(){var e;e=function n(){var e=this,n,r;n=e.node=e.element.node;r=n.getAttribute("style");e.complete=function(i){if(!i&&e.isIntro){t(n,r)}n._ractive.transition=null;e._manager.remove(e)};if(!e._fn){e.complete();return}e._fn.apply(e.root,[e].concat(e.params))};function t(e,t){if(t){e.setAttribute("style",t)}else{e.getAttribute("style");e.removeAttribute("style")}}return e}();var xo=function(e,t,n,r,i,o,s){var a,u;s.push(function(){a=s.Fragment});u=function(e,t,n){this.init(e,t,n)};u.prototype={init:e,start:o,getStyle:t,setStyle:n,animateStyle:r,processParams:i};return u}(uo,co,ho,wo,Eo,_o,o);var ko=function(e,t,n,r,i,o,s,a,u,f,l){var c;var h,p;h=function(){var e=this.node,t=this.fragment.toString(false);if(e.styleSheet){e.styleSheet.cssText=t}else{while(e.hasChildNodes()){e.removeChild(e.firstChild)}e.appendChild(document.createTextNode(t))}};p=function(){if(!this.node.type||this.node.type==="text/javascript"){n("Script tag was updated. This does not cause the code to be re-evaluated!")}this.node.text=this.fragment.toString(false)};c=function m(){var e=this;var t=this.root,n,c;n=d(this);c=this.node=i(this.name,n);if(t.constructor.css&&this.parentFragment.getNode()===t.el){this.node.setAttribute("data-rvcguid",t.constructor._guid)}o(this.node,"_ractive",{value:{proxy:this,keypath:u(this.parentFragment),index:this.parentFragment.indexRefs,events:r(null),root:t}});this.attributes.forEach(function(e){return e.render(c)});if(this.fragment){if(this.name==="script"){this.bubble=p;this.node.text=this.fragment.toString(false);this.fragment.unrender=s}else if(this.name==="style"){this.bubble=h;this.bubble();this.fragment.unrender=s}else if(this.binding&&this.getAttribute("contenteditable")){this.fragment.unrender=s}else{this.node.appendChild(this.fragment.render())}}if(this.eventHandlers){this.eventHandlers.forEach(function(e){return e.render()})}if(this.binding){this.binding.render();this.node._ractive.binding=this.binding}if(this.name==="img"){f(this)}if(this.decorator&&this.decorator.fn){a.scheduleTask(function(){e.decorator.init()})}if(t.transitionsEnabled&&this.intro){var m=new l(this,this.intro,true);a.registerTransition(m);a.scheduleTask(function(){return m.start()})}if(this.name==="option"){v(this)}if(this.node.autofocus){a.scheduleTask(function(){return e.node.focus()})}g(this);return this.node};function d(t){var n,r,i;if(r=t.getAttribute("xmlns")){n=r}else if(t.name==="svg"){n=e.svg}else if(i=t.parent){if(i.name==="foreignObject"){n=e.html}else{n=i.node.namespaceURI}}else{n=t.root.el.namespaceURI}return n}function v(e){var n,r,i;if(!e.select){return}r=e.select.getAttribute("value");if(r===undefined){return}n=e.getAttribute("value");if(e.select.node.multiple&&t(r)){i=r.length;while(i--){if(n==r[i]){e.node.selected=true;break}}}else{e.node.selected=n==r}}function g(e){var t,n,r,i,o;t=e.root;do{n=t._liveQueries;r=n.length;while(r--){i=n[r];o=n["_"+i];if(o._test(e)){(e.liveQueries||(e.liveQueries=[])).push(o)}}}while(t=t._parent)}return c}(O,a,D,H,T,N,zt,_,m,ao,xo);var So=function(e,t,n){var r;r=function(){var t,r;t="<"+(this.template.y?"!DOCTYPE":this.template.e);t+=this.attributes.map(s).join("");if(this.name==="option"&&i(this)){t+=" selected"}if(this.name==="input"&&o(this)){t+=" checked"}t+=">";if(this.name==="textarea"&&this.getAttribute("value")!==undefined){t+=n(this.getAttribute("value"))}else if(this.getAttribute("contenteditable")!==undefined){t+=this.getAttribute("value")}if(this.fragment){r=this.name!=="script"&&this.name!=="style";t+=this.fragment.toString(r)}if(!e.test(this.template.e)){t+="</"+this.template.e+">"}return t};function i(e){var n,r,i;n=e.getAttribute("value");if(n===undefined||!e.select){return false}r=e.select.getAttribute("value");if(r==n){return true}if(e.select.getAttribute("multiple")&&t(r)){i=r.length;while(i--){if(r[i]==n){return true}}}}function o(e){var t,n,r,i;t=e.attributes;n=t.type;r=t.value;i=t.name;if(!n||n.value!=="radio"||!r||!i.interpolator){return}if(r.value===i.interpolator.value){return true}}function s(e){var t=e.toString();return t?" "+t:""}return r}(St,a,zn);var Oo=function(e){return function t(n){if(n.select){e(n.select.options,n)}}}(d);var To=function(e){var t;t=function r(){if(this.fragment){this.fragment.unbind()
}if(this.binding){this.binding.unbind()}if(this.eventHandlers){this.eventHandlers.forEach(n)}if(this.name==="option"){e(this)}this.attributes.forEach(n)};function n(e){e.unbind()}return t}(Oo);var Ao=function(e,t){var n;n=function i(n){var i,o;if(this.name==="option"){this.detach()}else if(n){e.detachWhenReady(this)}if(this.fragment){this.fragment.unrender(false)}if(i=this.binding){this.binding.unrender();this.node._ractive.binding=null;o=this.root._twowayBindings[i.keypath];o.splice(o.indexOf(i),1)}if(this.eventHandlers){this.eventHandlers.forEach(function(e){return e.unrender()})}if(this.decorator){this.decorator.teardown()}if(this.root.transitionsEnabled&&this.outro){var s=new t(this,this.outro,false);e.registerTransition(s);e.scheduleTask(function(){return s.start()})}if(this.liveQueries){r(this)}if(this.node.id){delete this.root.nodes[this.node.id]}};function r(e){var t,n,r;r=e.liveQueries.length;while(r--){t=e.liveQueries[r];n=t.selector;t._remove(e.node)}}return n}(_,xo);var No=function(e,t,n,r,i,o,s,a,u,f,l,c,h,p,d){var v=function(e){this.init(e)};v.prototype={bubble:e,detach:t,find:n,findAll:r,findAllComponents:i,findComponent:o,findNextNode:s,firstNode:a,getAttribute:u,init:f,rebind:l,render:c,toString:h,unbind:p,unrender:d};return v}(Vr,Wr,qr,zr,Hr,$r,Kr,Gr,Yr,ro,so,ko,So,To,Ao);var Ro=function(){var e;var t=/^\s*$/,n=/^\s*/;e=function(e){var n,i,o,s;n=e.split("\n");i=n[0];if(i!==undefined&&t.test(i)){n.shift()}o=n[n.length-1];if(o!==undefined&&t.test(o)){n.pop()}s=n.reduce(r,null);if(s){e=n.map(function(e){return e.replace(s,"")}).join("\n")}return e};function r(e,t){var r=n.exec(t)[0];if(e===null||r.length<e.length){return r}return e}return e}();var Co=function(e,t,n,r){var i;i=function s(t,i){var s;if(s=o(t,i)){return s}s=n.fromId(i,{noThrow:true});if(s){s=r(s);var a=n.parse(s,n.getParseOptions(t));return t.partials[i]=a.t}e.error({debug:t.debug,message:"noTemplateForPartial",args:{name:i}});return[]};function o(r,i){var o=t.registries.partials;var s=o.findInstance(r,i);if(!s){return}var a=s.partials[i],u;if(typeof a==="function"){u=a.bind(s);u.isOwner=s.partials.hasOwnProperty(i);a=u(s.data,n)}if(!a){e.warn({debug:r.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:i}});return}if(!n.isParsed(a)){var f=n.parse(a,n.getParseOptions(s));if(f.p){e.warn({debug:r.debug,message:"noNestedPartials",args:{rname:i}})}var l=u?s:o.findOwner(s,i);l.partials[i]=a=f.t}if(u){a._fn=u}return a.v?a.t:a}return i}(Zn,Kt,Ut,Ro);var Lo=function(e,t){var n;if(!t){return e}n=e.split("\n").map(function(e,n){return n?t+e:e}).join("\n");return n};var Io=function(e,t,n,r,i,o,s,a){var u,f;r.push(function(){f=r.Fragment});u=function(t){var n=this.parentFragment=t.parentFragment;this.type=e.PARTIAL;this.name=t.template.r;this.index=t.index;this.root=n.root;o.init(this,t);this.update()};u.prototype={bubble:function(){this.parentFragment.bubble()},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},render:function(){this.update();this.rendered=true;return this.fragment.render()},unrender:function(e){if(this.rendered){this.fragment.unrender(e);this.rendered=false}},rebind:function(e,t,n,r){return this.fragment.rebind(e,t,n,r)},unbind:function(){if(this.fragment){this.fragment.unbind()}},toString:function(t){var r,i,o,s;r=this.fragment.toString(t);i=this.parentFragment.items[this.index-1];if(!i||i.type!==e.TEXT){return r}o=i.text.split("\n").pop();if(s=/^\s+$/.exec(o)){return n(r,s[0])}return r},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},getValue:function(){return this.fragment.getValue()},resolve:o.resolve,setValue:function(e){if(this.value!==e){if(this.fragment&&this.rendered){this.fragment.unrender(true)}this.fragment=null;this.value=e;if(this.rendered){i.addView(this)}else{this.update();this.bubble()}}},update:function(){var e,n,r,i;if(!this.fragment){if(this.name&&(s.registries.partials.findInstance(this.root,this.name)||a.fromId(this.name,{noThrow:true}))){e=t(this.root,this.name)}else if(this.value){e=t(this.root,this.value)}else{e=[]}this.fragment=new f({template:e,root:this.root,owner:this,pElement:this.parentFragment.pElement});if(this.rendered){r=this.parentFragment.getNode();n=this.fragment.render();i=this.parentFragment.findNextNode(this);r.insertBefore(n,i)}}}};return u}(z,Co,Lo,o,_,fr,Kt,Ut);var jo=function(e,t,n){var r;n.push(function(){r=n.Ractive});return function i(n,r){var o,s=e.registries.components.findInstance(n,r);if(s){o=s.components[r];if(!o._parent){var a=o.bind(s);a.isOwner=s.components.hasOwnProperty(r);o=a(s.data);if(!o){t.warn({debug:n.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:r}});return}if(typeof o==="string"){o=i(n,o)}o._fn=a;s.components[r]=o}}return o}}(Kt,Zn,o);var Po=function fu(){return this.instance.fragment.detach()};var Mo=function lu(e){return this.instance.fragment.find(e)};var Fo=function cu(e,t){return this.instance.fragment.findAll(e,t)};var Do=function hu(e,t){t._test(this,true);if(this.instance.fragment){this.instance.fragment.findAllComponents(e,t)}};var Bo=function pu(e){if(!e||e===this.name){return this.instance}if(this.instance.fragment){return this.instance.fragment.findComponent(e)}return null};var Uo=function du(){return this.parentFragment.findNextNode(this)};var Vo=function vu(){if(this.rendered){return this.instance.fragment.firstNode()}return null};var Wo=function(e,t){var n,r;t.push(function(){n=t.Fragment});r=function(e,t,r){this.parentFragment=e.parentFragment;this.component=e;this.key=t;this.fragment=new n({template:r,root:e.root,owner:this});this.value=this.fragment.getValue()};r.prototype={bubble:function(){if(!this.dirty){this.dirty=true;e.addView(this)}},update:function(){var t=this.fragment.getValue();this.component.instance.viewmodel.set(this.key,t);e.addViewmodel(this.component.instance.viewmodel);this.value=t;this.dirty=false},rebind:function(e,t,n,r){this.fragment.rebind(e,t,n,r)},unbind:function(){this.fragment.unbind()}};return r}(_,o);var qo=function(e,t){var n=function(n,r,i,o){var s=this;this.root=n.root;this.parentFragment=n.parentFragment;this.ready=false;this.hash=null;this.resolver=new e(this,i,function(e){if(s.binding||(s.binding=n.bindings[s.hash])){n.bindings[s.hash]=null;s.binding.rebind(e);s.hash=e+"="+r;n.bindings[s.hash]}else{if(!s.ready){o.push({childKeypath:r,parentKeypath:e})}else{t(n,n.root,e,r)}}s.value=n.root.viewmodel.get(e)})};n.prototype={rebind:function(e,t,n,r){this.resolver.rebind(e,t,n,r)},unbind:function(){this.resolver.unbind()}};return n}(or,w);var zo=function(e,t,n,r,i){var o;o=function(e,t,n,r){var i={},o,a;e.complexParameters=[];for(o in n){if(n.hasOwnProperty(o)){a=s(e,o,n[o],r);if(a!==undefined||t[o]===undefined){i[o]=a}}}return i};function s(o,s,a,u){var f,l,c,h,p,d;c=o.root;h=o.parentFragment;if(typeof a==="string"){l=t(a);if(!l){return a}return l.value}if(a===null){return true}if(a.length===1&&a[0].t===e.INTERPOLATOR){if(a[0].r){if(h.indexRefs&&h.indexRefs[d=a[0].r]!==undefined){o.indexRefBindings[d]=s;return h.indexRefs[d]}p=n(c,a[0].r,h)||a[0].r;u.push({childKeypath:s,parentKeypath:p});return c.viewmodel.get(p)}if(a[0].rx){f=new i(o,s,a[0].rx,u);o.complexParameters.push(f);f.ready=true;return f.value}}f=new r(o,s,a);o.complexParameters.push(f);return f.value}return o}(z,Ct,b,Wo,qo);var Ho=function(e){return function(t,n,r,i){var o,s,a,u;s=t.parentFragment;u=t.root;a={content:i||[]};if(n.defaults.el){e.warn({debug:u.debug,message:"defaultElSpecified",args:{name:t.name}})}o=new n({el:null,append:true,data:r,partials:a,magic:u.magic||n.defaults.magic,modifyArrays:u.modifyArrays,_parent:u,_component:t,adapt:u.adapt,"yield":{template:i,instance:u}});return o}}(Zn);var $o=function(e){return function t(n,r){r.forEach(function i(t){var r,i;e(n,n.root,t.parentKeypath,t.childKeypath);r=n.instance.viewmodel.get(t.childKeypath);i=n.root.viewmodel.get(t.parentKeypath);if(r!==undefined&&i===undefined){n.root.viewmodel.set(t.parentKeypath,r)}})}}(w);var Ko=function(e,t,n){var r;var i;e.push(function(){i=e.Fragment});r=function s(e,t){var n;for(n in t){if(t.hasOwnProperty(n)){o(e.instance,e.root,n,t[n])}}};function o(e,r,i,o){if(typeof o!=="string"){n.error({debug:r.debug,message:"noComponentEventArguments"})}e.on(i,function(){var e,n;if(arguments.length&&arguments[0].node){e=Array.prototype.shift.call(arguments)}n=Array.prototype.slice.call(arguments);t(r,o,{event:e,args:n});return false})}return r}(o,p,Zn);var Go=function(e){var t,n;t=e.root;while(t){if(n=t._liveComponentQueries["_"+e.name]){n.push(e.instance)}t=t._parent}};var Yo=function(e,t,n,r,i,o,s){return function a(u,f){var l,c,h,p;l=this.parentFragment=u.parentFragment;c=l.root;this.root=c;this.type=e.COMPONENT;this.name=u.template.e;this.index=u.index;this.indexRefBindings={};this.bindings=[];this.yielder=null;if(!f){throw new Error('Component "'+this.name+'" not found')}p=[];h=n(this,f.defaults.data||{},u.template.a,p);r(this,f,h,u.template.f);i(this,p);o(this,u.template.v);if(u.template.t1||u.template.t2||u.template.o){t('The "intro", "outro" and "decorator" directives have no effect on components')}s(this)}}(z,D,zo,Ho,$o,Ko,Go);var Jo=function(e,t){return function n(r,i,o,s){var a=this.instance,u=a._parent,f,l;this.bindings.forEach(function(e){var n;if(e.root!==u){return}if(n=t(e.keypath,o,s)){e.rebind(n)}});this.complexParameters.forEach(c);if(this.yielder){c(this.yielder)}if(f=this.indexRefBindings[r]){e.addViewmodel(a.viewmodel);a.viewmodel.set(f,i)}if(l=this.root._liveComponentQueries["_"+this.name]){l._makeDirty()}function c(e){e.rebind(r,i,o,s)}}}(_,Xn);var Qo=function gu(){var e=this.instance;e.render(this.parentFragment.getNode());this.rendered=true;return e.fragment.detach()};var Xo=function mu(){return this.instance.fragment.toString()};var Zo=function(){var e;e=function r(){this.complexParameters.forEach(t);this.bindings.forEach(t);n(this);this.instance.fragment.unbind()};function t(e){e.unbind()}function n(e){var t,n;t=e.root;do{if(n=t._liveComponentQueries["_"+e.name]){n._remove(e)}}while(t=t._parent)}return e}();var es=function(e){return function t(n){e(this.instance,"teardown");this.shouldDestroy=n;this.instance.unrender()}}(p);var ts=function(e,t,n,r,i,o,s,a,u,f,l,c,h){var p=function(e,t){this.init(e,t)};p.prototype={detach:e,find:t,findAll:n,findAllComponents:r,findComponent:i,findNextNode:o,firstNode:s,init:a,rebind:u,render:f,toString:l,unbind:c,unrender:h};return p}(Po,Mo,Fo,Do,Bo,Uo,Vo,Yo,Jo,Qo,Xo,Zo,es);var ns=function(e,t){var n=function(t){this.type=e.COMMENT;this.value=t.template.c};n.prototype={detach:t,firstNode:function(){return this.node},render:function(){if(!this.node){this.node=document.createComment(this.value)}return this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(e){if(e){this.node.parentNode.removeChild(this.node)}}};return n}(z,$n);var rs=function(e){var t;e.push(function(){t=e.Fragment});var n=function(e){var n,r;n=e.parentFragment.root;this.component=r=n.component;this.surrogateParent=e.parentFragment;this.parentFragment=r.parentFragment;if(r.yielder){throw new Error("A component template can only have one {{yield}} declaration at a time")}this.fragment=new t({owner:this,root:n.yield.instance,template:n.yield.template});r.yielder=this};n.prototype={detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},findNextNode:function(){return this.surrogateParent.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(e){return this.fragment.getValue(e)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(e){this.fragment.unrender(e);this.component.yielder=void 0},rebind:function(e,t,n,r){this.fragment.rebind(e,t,n,r)},toString:function(){return this.fragment.toString()}};return n}(o);var is=function(e,t,n,r,i,o,s,a,u,f,l){return function c(h){if(typeof h.template==="string"){return new t(h)}switch(h.template.t){case e.INTERPOLATOR:if(h.template.r==="yield"){return new l(h)}return new n(h);case e.SECTION:return new r(h);case e.TRIPLE:return new i(h);case e.ELEMENT:var p;if(p=a(h.parentFragment.root,h.template.e)){return new u(h,p)}return new o(h);case e.PARTIAL:return new s(h);case e.COMMENT:return new f(h);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}}(z,Kn,lr,Tr,Ur,No,Io,jo,ts,ns,rs);var os=function(e,t,n){return function r(i){var o=this;var s,a,u;this.owner=i.owner;s=this.parent=this.owner.parentFragment;this.root=i.root;this.pElement=i.pElement;this.context=i.context;if(this.owner.type===e.SECTION){this.index=i.index}if(s){a=s.indexRefs;if(a){this.indexRefs=t(null);for(u in a){this.indexRefs[u]=a[u]}}}this.priority=s?s.priority+1:1;if(i.indexRef){if(!this.indexRefs){this.indexRefs={}}this.indexRefs[i.indexRef]=i.index}if(typeof i.template==="string"){i.template=[i.template]}else if(!i.template){i.template=[]}this.items=i.template.map(function(e,t){return n({parentFragment:o,pElement:i.pElement,template:e,index:t})});this.value=this.argsList=null;this.dirtyArgs=this.dirtyValue=true;this.bound=true}}(z,H,is);var ss=function(e){return function t(n,r,i,o){e(this,"context",i,o);if(this.indexRefs&&this.indexRefs[n]!==undefined){this.indexRefs[n]=r}this.items.forEach(function(e){if(e.rebind){e.rebind(n,r,i,o)}})}}(oo);var as=function yu(){var e;if(this.items.length===1){e=this.items[0].render()}else{e=document.createDocumentFragment();this.items.forEach(function(t){e.appendChild(t.render())})}this.rendered=true;return e};var us=function wu(e){if(!this.items){return""}return this.items.map(function(t){return t.toString(e)}).join("")};var fs=function(){var e;e=function n(){if(!this.bound){return}this.items.forEach(t);this.bound=false};function t(e){if(e.unbind){e.unbind()}}return e}();var ls=function bu(e){if(!this.rendered){throw new Error("Attempted to unrender a fragment that was not rendered")}this.items.forEach(function(t){return t.unrender(e)});this.rendered=false};var cs=function(e,t,n,r,i,o,s,a,u,f,l,c,h,p,d,v,g){var m=function(e){this.init(e)};m.prototype={bubble:e,detach:t,find:n,findAll:r,findAllComponents:i,findComponent:o,findNextNode:s,firstNode:a,getNode:u,getValue:f,init:l,rebind:c,render:h,toString:p,unbind:d,unrender:v};g.Fragment=m;return m}(jn,Pn,Mn,Fn,Dn,Bn,Un,Vn,Wn,qn,os,ss,as,us,fs,ls,o);var hs=function(e,t,n,r){var i=["template","partials","components","decorators","events"];return function o(s,a){var u,f,l,c,h;if(typeof s==="function"&&!a){a=s;s={}}else{s=s||{}}if(typeof s!=="object"){throw new Error("The reset method takes either no arguments, or an object containing new data")}if((f=this.viewmodel.wrapped[""])&&f.reset){if(f.reset(s)===false){this.data=s}}else{this.data=s}l=r.reset(this);c=l.length;while(c--){if(i.indexOf(l[c])>-1){h=true;break}}if(h){var p;this.viewmodel.mark("");if(p=this.component){p.shouldDestroy=true}this.unrender();if(p){p.shouldDestroy=false}if(this.fragment.template!==this.template){this.fragment.unbind();this.fragment=new n({template:this.template,root:this,owner:this})}u=this.render(this.el,this.anchor)}else{u=t.start(this,true);this.viewmodel.mark("");t.end()}e(this,"reset",{args:[s]});if(a){u.then(a)}return u}}(p,_,cs,Kt);var ps=function(e,t){return function n(r){var i,o;e.template.init(null,this,{template:r});i=this.transitionsEnabled;this.transitionsEnabled=false;if(o=this.component){o.shouldDestroy=true}this.unrender();if(o){o.shouldDestroy=false}this.fragment.unbind();this.fragment=new t({template:this.template,root:this,owner:this});this.render(this.el,this.anchor);this.transitionsEnabled=i}}(Kt,cs);var ds=function(e){return e("reverse")}(Nn);var vs=function(e,t,n,r){var i=/\*/;return function o(s,a,u){var f=this;var l,c;c=e.start(this,true);if(t(s)){l=s;u=a;for(s in l){if(l.hasOwnProperty(s)){a=l[s];s=n(s);this.viewmodel.set(s,a)}}}else{s=n(s);if(i.test(s)){r(this,s).forEach(function(e){f.viewmodel.set(e,a)})}else{this.viewmodel.set(s,a)}}e.end();if(u){c.then(u.bind(this))}return c}}(_,u,I,yn);var gs=function(e){return e("shift")}(Nn);var ms=function(e){return e("sort")}(Nn);var ys=function(e){return e("splice")}(Nn);var ws=function(e){return function t(n,r){return e(this,n,r===undefined?-1:-r)}}(C);var bs=function(e,t,n){return function r(i){var o;e(this,"teardown");this.fragment.unbind();this.viewmodel.teardown();if(this.rendered&&this.el.__ractive_instances__){t(this.el.__ractive_instances__,this)}this.shouldDestroy=true;o=this.rendered?this.unrender():n.resolve();if(i){o.then(i.bind(this))}return o}}(p,d,v);var Es=function(e){return function t(n,r){var i;if(typeof n!=="string"){e.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:n}})}i=this.get(n);return this.set(n,!i,r)}}(Zn);var _s=function Eu(){return this.fragment.toString(true)};var xs=function(e,t,n,r,i){return function o(){var o=this;var s,a;if(!this.rendered){r.warn({debug:this.debug,message:"ractive.unrender() was called on a Ractive instance that was not rendered"});return i.resolve()}s=t.start(this,true);a=!this.component||this.component.shouldDestroy||this.shouldDestroy;if(this.constructor.css){s.then(function(){n.remove(o.constructor)})}while(this._animations[0]){this._animations[0].stop()}this.fragment.unrender(a);this.rendered=false;e(this.el.__ractive_instances__,this);t.end();return s}}(d,_,Ln,Zn,v);var ks=function(e){return e("unshift")}(Nn);var Ss=function(e,t){return function n(r,i){var o;if(typeof r==="function"){i=r;r=""}else{r=r||""}o=t.start(this,true);this.viewmodel.mark(r);t.end();e(this,"update",{args:[r]});if(i){o.then(i.bind(this))}return o}}(p,_);var Os=function(e,t){var n;n=function i(e,t){var n;if(typeof e!=="string"){e="";t=true}r(this,e,n={},t);return this.set(n)};function r(n,i,o,s){var a,u,f,l,c,h,p=[];a=n._twowayBindings[i];if(a&&(f=a.length)){while(f--){l=a[f];if(l.radioName&&!l.element.node.checked){continue}if(l.checkboxName){if(!p[l.keypath]&&!l.changed()){p.push(l.keypath);p[l.keypath]=l}continue}c=l.attribute.value;h=l.getValue();if(e(c,h)){continue}if(!t(c,h)){o[i]=h}}}if(p.length){p.forEach(function(t){var n,r,i;n=p[t];r=n.attribute.value;i=n.getValue();if(!e(r,i)){o[t]=i}})}if(!s){return}u=n.viewmodel.depsMap["default"][i];if(u){f=u.length;while(f--){r(n,u[f],o,s)}}}return n}(Ii,y);var Ts=function(e,t,n,r,i,o,s,a,u,f,l,c,h,p,d,v,g,m,y,w,b,E,_,x,k,S,O,T,A,N,R,C){return{add:e,animate:t,detach:n,find:r,findAll:i,findAllComponents:o,findComponent:s,fire:a,get:u,insert:f,merge:l,observe:c,off:h,on:p,pop:d,push:v,render:g,reset:m,resetTemplate:y,reverse:w,set:b,shift:E,sort:_,splice:x,subtract:k,teardown:S,toggle:O,toHTML:T,unrender:A,unshift:N,update:R,updateModel:C}}(L,Jt,Qt,Xt,fn,ln,cn,hn,pn,vn,gn,_n,Sn,On,Rn,Cn,In,hs,ps,ds,vs,gs,ms,ys,ws,bs,Es,_s,xs,ks,Ss,Os);var As=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;t=Math.random()*16|0;n=e=="x"?t:t&3|8;return n.toString(16)})};var Ns=function(){var e=0;return function(){return"r-"+e++}}();var Rs=function(e,t,n,r){var i=e.root,o=e.keypath;if(n==="sort"||n==="reverse"){i.viewmodel.set(o,t);return}if(!r){return}i.viewmodel.splice(o,r)};var Cs=function(e,t,n,r,i){var o=[],s=["pop","push","reverse","shift","sort","splice","unshift"],a,u,f;s.forEach(function(s){var a=function(){var t,o,a,u,f;t=n(this,s,Array.prototype.slice.call(arguments));o=r(this,t);a=Array.prototype[s].apply(this,arguments);this._ractive.setting=true;f=this._ractive.wrappers.length;while(f--){u=this._ractive.wrappers[f];e.start(u.root);i(u,this,s,o);e.end()}this._ractive.setting=false;return a};t(o,s,{value:a})});a={};if(a.__proto__){u=function(e){e.__proto__=o};f=function(e){e.__proto__=Array.prototype}}else{u=function(e){var n,r;n=s.length;while(n--){r=s[n];t(e,r,{value:o[r],configurable:true})}};f=function(e){var t;t=s.length;while(t--){delete e[s[t]]}}}u.unpatch=f;return u}(_,N,Tn,An,Rs);var Ls=function(e,t,n){var r,i,o;r={filter:function(e){return t(e)&&(!e._ractive||!e._ractive.setting)},wrap:function(e,t,n){return new i(e,t,n)}};i=function(t,r,i){this.root=t;this.value=r;this.keypath=i;if(!r._ractive){e(r,"_ractive",{value:{wrappers:[],instances:[],setting:false},configurable:true});n(r)}if(!r._ractive.instances[t._guid]){r._ractive.instances[t._guid]=0;r._ractive.instances.push(t)}r._ractive.instances[t._guid]+=1;r._ractive.wrappers.push(this)};i.prototype={get:function(){return this.value},teardown:function(){var e,t,r,i,s;e=this.value;t=e._ractive;r=t.wrappers;i=t.instances;if(t.setting){return false}s=r.indexOf(this);if(s===-1){throw new Error(o)}r.splice(s,1);if(!r.length){delete e._ractive;n.unpatch(this.value)}else{i[this.root._guid]-=1;if(!i[this.root._guid]){s=i.indexOf(this.root);if(s===-1){throw new Error(o)}i.splice(s,1)}}}};o="Something went wrong in a rather interesting way";return r}(N,a,Cs);var Is=function(e,t){var n,r;if(e){n={filter:function(n,r,i){return e.filter(n,r,i)&&t.filter(n)},wrap:function(e,t,n){return new r(e,t,n)}};r=function(n,r,i){this.value=r;this.magic=true;this.magicWrapper=e.wrap(n,r,i);this.arrayWrapper=t.wrap(n,r,i)};r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown();this.magicWrapper.teardown()},reset:function(e){return this.magicWrapper.reset(e)}}}return n}(k,Ls);var js=function(e,t,n,r){var i;var o={};i=function u(i,o){var s=this.ractive,u,f,l,c;u=s.adapt.length;for(f=0;f<u;f+=1){l=s.adapt[f];if(typeof l==="string"){var h=e.registries.adaptors.find(s,l);if(!h){throw new Error('Missing adaptor "'+l+'"')}l=s.adapt[f]=h}if(l.filter(o,i,s)){c=this.wrapped[i]=l.wrap(s,o,i,a(i));c.value=o;return o}}if(s.magic){if(r.filter(o,i,s)){this.wrapped[i]=r.wrap(s,o,i)}else if(n.filter(o,i,s)){this.wrapped[i]=n.wrap(s,o,i)}}else if(s.modifyArrays&&t.filter(o,i,s)){this.wrapped[i]=t.wrap(s,o,i)}return o};function s(e,t){var n={},r;if(!t){return e}t+=".";for(r in e){if(e.hasOwnProperty(r)){n[t+r]=e[r]}}return n}function a(e){var t;if(!o[e]){t=e?e+".":"";o[e]=function(n,r){var i;if(typeof n==="string"){i={};i[t+n]=r;return i}if(typeof n==="object"){return t?s(n,e):n}}}return o[e]}return i}(Kt,Ls,k,Is);var Ps=function _u(e){var t=[""],n,r,i,o;n=e.length;while(n--){r=e[n];i=r.split(".");while(i.length>1){i.pop();o=i.join(".");if(t.indexOf(o)===-1){t.push(o)}}}return t};var Ms=function(){var e;var t={};e=function r(e){var t,r,i,o;t=e.split(".");r=n(t.length);i=function(e,n){return e?"*":t[n]};o=r.map(function(e){return e.map(i).join(".")});return o};function n(e){var n="",r,i,o,s,a;if(!t[e]){o=[];while(n.length<e){n+=1}r=parseInt(n,2);s=function(e){return e==="1"};for(a=0;a<=r;a+=1){i=a.toString(2);while(i.length<e){i="0"+i}o[a]=Array.prototype.map.call(i,s)}t[e]=o}return t[e]}return e}();var Fs=function(e){var t;var n=/[^\.]+$/;t=r;function r(t,n,r){var s;o(t,n);if(r){return}s=e(n);s.forEach(function(e){i(t,e,n)})}function i(e,t,r){var s,a,u;s=e.depsMap.patternObservers;a=s[t];if(a){a.forEach(function(t){var s=n.exec(t)[0];u=r?r+"."+s:s;o(e,u);i(e,t,u)})}}function o(e,t){e.patternObservers.forEach(function(e){if(e.regex.test(t)){e.update(t)}})}return t}(Ms);var Ds=function(e,t){var n;var r=["observers","default"];n=function f(){var n=this;var a=this,f,l,c=[],h,p,d,v={};if(!this.changes.length){return}p=function(e){var t;if(t=a.deps.computed[e]){u(h,t)}};d=function(e){var t;p(e);if(t=a.depsMap.computed[e]){t.forEach(d)}};do{f=this.changes;u(c,f);this.changes=[];h=[];l=e(f);l.forEach(p);f.forEach(d);h.forEach(i)}while(this.changes.length);l=e(c);if(this.patternObservers.length){l.forEach(function(e){return t(n,e,true)});c.forEach(function(e){return t(n,e)})}r.forEach(function(e){if(!n.deps[e]){return}l.forEach(function(t){return o(n,t,e)});s(n,c,e)});c.forEach(function(e){v[e]=n.get(e)});this.implicitChanges={};return v};function i(e){e.update()}function o(e,t,n){var r,i;if(r=a(e,t,n)){i=e.get(t);r.forEach(function(e){return e.setValue(i)})}}function s(e,t,n){var r=[];i(t);r.forEach(u);function i(e){e.forEach(o);e.forEach(s)}function o(t){var i=a(e,t,n);if(i){r.push({keypath:t,deps:i})}}function s(t){var r;if(r=e.depsMap[n][t]){i(r)}}function u(t){var n=e.get(t.keypath);t.deps.forEach(function(e){return e.setValue(n)})}}function a(e,t,n){var r=e.deps[n];return r?r[t]:null}function u(e,t){t.forEach(function(t){if(e.indexOf(t)===-1){e.push(t)}})}return n}(Ps,Fs);var Bs=function xu(){this.capturing=true;this.captured=[]};var Us=function ku(e,t){var n,r,i;if(!t){if(r=this.wrapped[e]){if(r.teardown()!==false){this.wrapped[e]=null}}}if(i=this.computations[e]){i.compute()}this.cache[e]=undefined;if(n=this.cacheMap[e]){while(n.length){this.clearCache(n.pop())}}};var Vs={FAILED_LOOKUP:true};var Ws=function(e,t){var n={};var r=function(e,r){this.viewmodel=e;this.root=e.ractive;this.ref=r;this.parentFragment=n;e.unresolvedImplicitDependencies[r]=true;e.unresolvedImplicitDependencies.push(this);t.addUnresolved(this)};r.prototype={resolve:function(){this.viewmodel.mark(this.ref);this.viewmodel.unresolvedImplicitDependencies[this.ref]=false;e(this.viewmodel.unresolvedImplicitDependencies,this)},teardown:function(){t.removeUnresolved(this)}};return r}(d,_);var qs=function(e,t){var n;var r={};n=function o(n){var o=arguments[1];if(o===void 0)o=r;var s=this.ractive,a=this.cache,u,f,l,c;if(a[n]===undefined){if(f=this.computations[n]){u=f.value}else if(l=this.wrapped[n]){u=l.value}else if(!n){this.adapt("",s.data);u=s.data}else if(c=this.evaluators[n]){u=c.value}else{u=i(this,n)}a[n]=u}else{u=a[n]}if(o.evaluateWrapped&&(l=this.wrapped[n])){u=l.get()}if(o.capture&&this.capturing&&this.captured.indexOf(n)===-1){this.captured.push(n);if(u===e&&this.unresolvedImplicitDependencies[n]!==true){new t(this,n)}}return u===e?void 0:u};function i(t,n){var r,i,o,s,a,u,f;r=n.split(".");i=r.pop();o=r.join(".");s=t.get(o);if(f=t.wrapped[o]){s=f.get()}if(s===null||s===undefined){return}if(!(a=t.cacheMap[o])){t.cacheMap[o]=[n]}else{if(a.indexOf(n)===-1){a.push(n)}}if(typeof s==="object"&&!(i in s)){return t.cache[n]=e}u=s[i];t.adapt(n,u,false);t.cache[n]=u;return u}return n}(Vs,Ws);var zs=function Su(e,t){if(t){this.implicitChanges[e]=true}if(this.changes.indexOf(e)===-1){this.changes.push(e);this.clearCache(e)}};var Hs=function(e,t){var n,r,i,o;n={};r=0;i=e.map(function(e,i){var s,a,u;a=r;u=t.length;do{s=t.indexOf(e,a);if(s===-1){o=true;return-1}a=s+1}while(n[s]&&a<u);if(s===r){r+=1}if(s!==i){o=true}n[s]=true;return s});i.unchanged=!o;return i};var $s=function(e,t,n){var r;var i={};r=function u(e,r,i,s){var u=this;var f,l,c,h,p;this.mark(e);if(s&&s.compare){c=a(s.compare);try{f=r.map(c);l=i.map(c)}catch(d){if(this.debug){throw d}else{t("Merge operation: comparison failed. Falling back to identity checking")}f=r;l=i}}else{f=r;l=i}h=n(f,l);h.forEach(function(t,n){if(t===-1){u.mark(e+"."+n)}});this.set(e,i,true);if(p=this.deps["default"][e]){p.filter(o).forEach(function(e){return e.merge(h)})}if(r.length!==i.length){this.mark(e+".length",true)}};function o(t){return typeof t.merge==="function"&&(!t.subtype||t.subtype===e.SECTION_EACH)}function s(e){return JSON.stringify(e)}function a(e){if(e===true){return s}if(typeof e==="string"){if(!i[e]){i[e]=function(t){return t[e]}}return i[e]}if(typeof e==="function"){return e}throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}return r}(z,D,Hs);var Ks=function(){var e;e=function n(e,r){var i=arguments[2];if(i===void 0)i="default";var o,s,a;if(r.isStatic){return}o=this.deps[i]||(this.deps[i]={});s=o[e]||(o[e]=[]);s.push(r);if(!e){return}if(a=this.evaluators[e]){if(!a.dependants){a.wake()}a.dependants+=1}t(this,e,i)};function t(e,t,n){var r,i,o,s;r=t.split(".");while(r.length){r.pop();i=r.join(".");o=e.depsMap[n]||(e.depsMap[n]={});s=o[i]||(o[i]=[]);if(s[t]===undefined){s[t]=0;s.push(t)}s[t]+=1;t=i}}return e}();var Gs=function Ou(){this.capturing=false;return this.captured};var Ys=function(e,t){return function n(r,i,o){var s,a,u,f,l,c,h,p;l=this.computations[r];if(l&&!l.setting){l.set(i);i=l.get()}if(e(this.cache[r],i)){return}c=this.wrapped[r];h=this.evaluators[r];if(c&&c.reset){p=c.reset(i)!==false;if(p){i=c.get()}}if(h){h.value=i}if(!l&&!h&&!p){s=r.split(".");a=s.pop();u=s.join(".");c=this.wrapped[u];if(c&&c.set){c.set(a,i)}else{f=c?c.get():this.get(u);if(!f){f=t(a);this.set(u,f,true)}f[a]=i}}if(!o){this.mark(r)}else{this.clearCache(r)}}}(y,x);var Js=function(e){var t;t=function r(e,t){var r=this,i,o;for(i=t.rangeStart;i<t.rangeEnd;i+=1){r.mark(e+"."+i)}if(t.balance){r.mark(e+".length",true)}if(o=r.deps["default"][e]){o.filter(n).forEach(function(e){return e.splice(t)})}};function n(t){return t.type===e.SECTION&&(!t.subtype||t.subtype===e.SECTION_EACH)&&t.rendered}return t}(z);var Qs=function Tu(){var e=this;var t;Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});while(t=this.unresolvedImplicitDependencies.pop()){t.teardown()}};var Xs=function(){var e;e=function n(e,r){var i=arguments[2];if(i===void 0)i="default";var o,s,a;if(r.isStatic){return}o=this.deps[i][e];s=o.indexOf(r);if(s===-1){throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks")}o.splice(s,1);if(!e){return}if(a=this.evaluators[e]){a.dependants-=1;if(!a.dependants){a.sleep()}}t(this,e,i)};function t(e,t,n){var r,i,o,s;r=t.split(".");while(r.length){r.pop();i=r.join(".");o=e.depsMap[n];s=o[i];s[t]-=1;if(!s[t]){s.splice(s.indexOf(t),1);s[t]=undefined}t=i}}return e}();var Zs=function(){var e;var t=/\$\{([^\}]+)\}/g;e=function(e){if(typeof e==="function"){return{get:e}}if(typeof e==="string"){return{get:n(e)}}if(typeof e==="object"&&typeof e.get==="string"){e={get:n(e.get),set:e.set}}return e};function n(e){var n="var __ractive=this;return("+e.replace(t,function(e,t){return'__ractive.get("'+t+'")'})+")";return new Function(n)}return e}();var ea=function(e,t,n){var r=function(e,t,n){var r;this.ractive=e;this.viewmodel=e.viewmodel;this.key=t;this.getter=n.get;this.setter=n.set;this.dependencies=[];if(r=e.viewmodel.get(t)){this.set(r)}this.update()};r.prototype={get:function(){this.compute();return this.value},set:function(e){if(this.setting){this.value=e;return}if(!this.setter){throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)")}this.setter.call(this.ractive,e)},compute:function(){var t,r,i;t=this.ractive;t.viewmodel.capture();try{this.value=this.getter.call(t)}catch(o){e.warn({debug:t.debug,message:"failedComputation",args:{key:this.key,err:o.message||o}});r=true}i=t.viewmodel.release();n(this,this.dependencies,i);return r?false:true},update:function(){var e=this.value;if(this.compute()&&!t(this.value,e)){this.ractive.viewmodel.mark(this.key)}}};return r}(Zn,y,tr);var ta=function(e,t){return function n(r,i){var o,s;for(o in i){s=e(i[o]);r.viewmodel.computations[o]=new t(r,o,s)}}}(Zs,ea);var na=function(){var e={lookup:function(e,t){var n,r=e.adapt;if(!r||!r.length){return r}if(t&&Object.keys(t).length&&(n=r.length)){while(n--){var i=r[n];if(typeof i==="string"){r[n]=t[i]||i}}}return r},combine:function(e,n){e=t(e);n=t(n);if(!e||!e.length){return n}if(!n||!n.length){return e.slice()}e.forEach(function(e){if(n.indexOf(e)===-1){n.push(e)}});return n}};function t(e){if(typeof e==="string"){e=[e]}return e}return e}();var ra=function(e,t,n,r,i,o,s,a,u,f,l,c,h,p,d,v){var g;try{Object.defineProperty({},"test",{value:0})
}catch(m){g=true}var y=function(t){this.ractive=t;y.extend(t.constructor,t);this.cache={};this.cacheMap=e(null);this.deps={computed:{},"default":{}};this.depsMap={computed:{},"default":{}};this.patternObservers=[];this.wrapped=e(null);this.evaluators=e(null);this.computations=e(null);this.captured=null;this.unresolvedImplicitDependencies=[];this.changes=[];this.implicitChanges={}};y.extend=function(e,t){if(t.magic&&g){throw new Error("Getters and setters (magic mode) are not supported in this browser")}t.adapt=v.combine(e.prototype.adapt,t.adapt)||[];t.adapt=v.lookup(t,t.adaptors)};y.prototype={adapt:t,applyChanges:n,capture:r,clearCache:i,get:o,mark:s,merge:a,register:u,release:f,set:l,splice:c,teardown:h,unregister:p,compute:function(){d(this.ractive,this.ractive.computed)}};return y}(H,js,Ds,Bs,Us,qs,zs,$s,Ks,Gs,Ys,Js,Qs,Xs,ta,na);var ia=function(e,t,n,r,i,o){var s;s=function f(t){var n=arguments[1];if(n===void 0)n={};u(t,n);e.init(t.constructor,t,n);t.viewmodel=new i(t);t.viewmodel.compute();if(t.template){t.fragment=new o({template:t.template,root:t,owner:t})}a(t)};function a(e){var t;if(t=n(e.el)){if(t&&!e.append){if(t.__ractive_instances__){try{t.__ractive_instances__.splice(0,t.__ractive_instances__.length).forEach(function(e){return e.teardown()})}catch(r){}}t.innerHTML=""}e.render(t,e.append)}}function u(e,n){e._guid=r();e._subs=t(null);e._config={};e._twowayBindings=t(null);e._animations=[];e.nodes={};e._liveQueries=[];e._liveComponentQueries=[];if(n._parent&&n._component){e._parent=n._parent;e.component=n._component;n._component.instance=e}}return s}(Kt,H,dn,Ns,ra,cs);var oa=function(e){return function t(n,r,i){if(n.beforeInit){n.beforeInit(i)}e(n,i)}}(ia);var sa=function(e,t,n,r){var i;var o,s={_parent:true,_component:true},a={toPrototype:f,toOptions:l},u=n.registries;n.keys.forEach(function(e){return s[e]=true});r.push(function(){o=r.Ractive});i=a;function f(t,n,r){for(var i in r){if(!(i in s)&&r.hasOwnProperty(i)){var o=r[i];if(typeof o==="function"){o=e(t,i,o)}n[i]=o}}}function l(e){if(!(e.prototype instanceof o)){return e}var n={};while(e){u.forEach(function(t){c(t.useDefaults?e.prototype:e,n,t.name)});Object.keys(e.prototype).forEach(function(r){if(r==="computed"){return}var i=e.prototype[r];if(!(r in n)){n[r]=i._method?i._method:i}else if(typeof n[r]==="function"&&typeof i==="function"&&n[r]._method){var o,s=i._method;if(s){i=i._method}o=t(n[r]._method,i);if(s){o._method=o}n[r]=o}});if(e._parent!==o){e=e._parent}else{e=false}}return n}function c(e,t,n){var r,i=Object.keys(e[n]);if(!i.length){return}if(!(r=t[n])){r=t[n]={}}i.filter(function(e){return!(e in r)}).forEach(function(t){return r[t]=e[n][t]})}return i}(Ht,V,Kt,o);var aa=function(e,t,n,r,i,o,s){return function a(){var u=arguments[0];if(u===void 0)u={};var f=this,l,c,h;u=s.toOptions(u);l=function(e){i(this,l,e)};c=e(f.prototype);c.constructor=l;h={_guid:{value:n()},defaults:{value:c},extend:{value:a,writable:true,configurable:true},_parent:{value:f}};t(l,h);r.extend(f,c,u);o.extend(f,c);s.toPrototype(f.prototype,c,u);l.prototype=c;return l}}(H,R,As,Kt,oa,ra,sa);var ua=function(e,t,n,r,i,o,s,a,u,f,l,c,h){var p,d;p=function(e){c(this,e)};d={extend:{value:f},parse:{value:l},Promise:{value:a},svg:{value:r},magic:{value:i},VERSION:{value:"0.5.8"},adaptors:{writable:true,value:{}},components:{writable:true,value:{}},decorators:{writable:true,value:{}},easing:{writable:true,value:t},events:{writable:true,value:{}},interpolators:{writable:true,value:n},partials:{writable:true,value:{}},transitions:{writable:true,value:{}}};o(p,d);p.prototype=u(s,e);p.prototype.constructor=p;p.defaults=p.prototype;h.Ractive=p;while(h.length){h.pop()()}var v="function";if(typeof Date.now!==v||typeof String.prototype.trim!==v||typeof Object.keys!==v||typeof Array.prototype.indexOf!==v||typeof Array.prototype.forEach!==v||typeof Array.prototype.map!==v||typeof Array.prototype.filter!==v||typeof window!=="undefined"&&typeof window.addEventListener!==v){throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.")}return p}(r,i,l,c,S,R,Ts,v,xi,aa,Ft,ia,o);if(typeof t!=="undefined"&&t.exports){t.exports=ua}else if(typeof define==="function"&&define.amd){define(function(){return ua})}e.Ractive=ua;ua.noConflict=function(){e.Ractive=n;return ua}})(typeof window!=="undefined"?window:this)},{}],73:[function(e,t,n){t.exports=e(8)},{"/root/josephdykstra.com/node_modules/level-hooks/node_modules/string-range/index.js":8}],74:[function(e,t,n){t.exports=e(36)},{"/root/josephdykstra.com/node_modules/levelup/node_modules/xtend/index.js":36}],75:[function(e,t,n){},{}],76:[function(e,t,n){var r=e("base64-js");var i=e("ieee754");var o=e("is-array");n.Buffer=a;n.SlowBuffer=a;n.INSPECT_MAX_BYTES=50;a.poolSize=8192;var s=1073741823;a.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0);var t=new Uint8Array(e);t.foo=function(){return 42};return 42===t.foo()&&typeof t.subarray==="function"&&new Uint8Array(1).subarray(1,1).byteLength===0}catch(n){return false}}();function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);var r=typeof e;var i;if(r==="number")i=e>0?e>>>0:0;else if(r==="string"){if(t==="base64")e=N(e);i=a.byteLength(e,t)}else if(r==="object"&&e!==null){if(e.type==="Buffer"&&o(e.data))e=e.data;i=+e.length>0?Math.floor(+e.length):0}else throw new TypeError("must start with number, buffer, array or string");if(this.length>s)throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+s.toString(16)+" bytes");var u;if(a.TYPED_ARRAY_SUPPORT){u=a._augment(new Uint8Array(i))}else{u=this;u.length=i;u._isBuffer=true}var f;if(a.TYPED_ARRAY_SUPPORT&&typeof e.byteLength==="number"){u._set(e)}else if(C(e)){if(a.isBuffer(e)){for(f=0;f<i;f++)u[f]=e.readUInt8(f)}else{for(f=0;f<i;f++)u[f]=(e[f]%256+256)%256}}else if(r==="string"){u.write(e,0,t)}else if(r==="number"&&!a.TYPED_ARRAY_SUPPORT&&!n){for(f=0;f<i;f++){u[f]=0}}return u}a.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");var n=e.length;var r=t.length;for(var i=0,o=Math.min(n,r);i<o&&e[i]===t[i];i++){}if(i!==o){n=e[i];r=t[i]}if(n<r)return-1;if(r<n)return 1;return 0};a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};a.concat=function(e,t){if(!o(e))throw new TypeError("Usage: Buffer.concat(list[, length])");if(e.length===0){return new a(0)}else if(e.length===1){return e[0]}var n;if(t===undefined){t=0;for(n=0;n<e.length;n++){t+=e[n].length}}var r=new a(t);var i=0;for(n=0;n<e.length;n++){var s=e[n];s.copy(r,i);i+=s.length}return r};a.byteLength=function(e,t){var n;e=e+"";switch(t||"utf8"){case"ascii":case"binary":case"raw":n=e.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=e.length*2;break;case"hex":n=e.length>>>1;break;case"utf8":case"utf-8":n=I(e).length;break;case"base64":n=M(e).length;break;default:n=e.length}return n};a.prototype.length=undefined;a.prototype.parent=undefined;a.prototype.toString=function(e,t,n){var r=false;t=t>>>0;n=n===undefined||n===Infinity?this.length:n>>>0;if(!e)e="utf8";if(t<0)t=0;if(n>this.length)n=this.length;if(n<=t)return"";while(true){switch(e){case"hex":return y(this,t,n);case"utf8":case"utf-8":return v(this,t,n);case"ascii":return g(this,t,n);case"binary":return m(this,t,n);case"base64":return d(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();r=true}}};a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return a.compare(this,e)===0};a.prototype.inspect=function(){var e="";var t=n.INSPECT_MAX_BYTES;if(this.length>0){e=this.toString("hex",0,t).match(/.{2}/g).join(" ");if(this.length>t)e+=" ... "}return"<Buffer "+e+">"};a.prototype.compare=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return a.compare(this,e)};a.prototype.get=function(e){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(e)};a.prototype.set=function(e,t){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(e,t)};function u(e,t,n,r){n=Number(n)||0;var i=e.length-n;if(!r){r=i}else{r=Number(r);if(r>i){r=i}}var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");if(r>o/2){r=o/2}for(var s=0;s<r;s++){var a=parseInt(t.substr(s*2,2),16);if(isNaN(a))throw new Error("Invalid hex string");e[n+s]=a}return s}function f(e,t,n,r){var i=F(I(t),e,n,r);return i}function l(e,t,n,r){var i=F(j(t),e,n,r);return i}function c(e,t,n,r){return l(e,t,n,r)}function h(e,t,n,r){var i=F(M(t),e,n,r);return i}function p(e,t,n,r){var i=F(P(t),e,n,r);return i}a.prototype.write=function(e,t,n,r){if(isFinite(t)){if(!isFinite(n)){r=n;n=undefined}}else{var i=r;r=t;t=n;n=i}t=Number(t)||0;var o=this.length-t;if(!n){n=o}else{n=Number(n);if(n>o){n=o}}r=String(r||"utf8").toLowerCase();var s;switch(r){case"hex":s=u(this,e,t,n);break;case"utf8":case"utf-8":s=f(this,e,t,n);break;case"ascii":s=l(this,e,t,n);break;case"binary":s=c(this,e,t,n);break;case"base64":s=h(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":s=p(this,e,t,n);break;default:throw new TypeError("Unknown encoding: "+r)}return s};a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function d(e,t,n){if(t===0&&n===e.length){return r.fromByteArray(e)}else{return r.fromByteArray(e.slice(t,n))}}function v(e,t,n){var r="";var i="";n=Math.min(e.length,n);for(var o=t;o<n;o++){if(e[o]<=127){r+=D(i)+String.fromCharCode(e[o]);i=""}else{i+="%"+e[o].toString(16)}}return r+D(i)}function g(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++){r+=String.fromCharCode(e[i])}return r}function m(e,t,n){return g(e,t,n)}function y(e,t,n){var r=e.length;if(!t||t<0)t=0;if(!n||n<0||n>r)n=r;var i="";for(var o=t;o<n;o++){i+=L(e[o])}return i}function w(e,t,n){var r=e.slice(t,n);var i="";for(var o=0;o<r.length;o+=2){i+=String.fromCharCode(r[o]+r[o+1]*256)}return i}a.prototype.slice=function(e,t){var n=this.length;e=~~e;t=t===undefined?n:~~t;if(e<0){e+=n;if(e<0)e=0}else if(e>n){e=n}if(t<0){t+=n;if(t<0)t=0}else if(t>n){t=n}if(t<e)t=e;if(a.TYPED_ARRAY_SUPPORT){return a._augment(this.subarray(e,t))}else{var r=t-e;var i=new a(r,undefined,true);for(var o=0;o<r;o++){i[o]=this[o+e]}return i}};function b(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUInt8=function(e,t){if(!t)b(e,1,this.length);return this[e]};a.prototype.readUInt16LE=function(e,t){if(!t)b(e,2,this.length);return this[e]|this[e+1]<<8};a.prototype.readUInt16BE=function(e,t){if(!t)b(e,2,this.length);return this[e]<<8|this[e+1]};a.prototype.readUInt32LE=function(e,t){if(!t)b(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};a.prototype.readUInt32BE=function(e,t){if(!t)b(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};a.prototype.readInt8=function(e,t){if(!t)b(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};a.prototype.readInt16LE=function(e,t){if(!t)b(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};a.prototype.readInt16BE=function(e,t){if(!t)b(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};a.prototype.readInt32LE=function(e,t){if(!t)b(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};a.prototype.readInt32BE=function(e,t){if(!t)b(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};a.prototype.readFloatLE=function(e,t){if(!t)b(e,4,this.length);return i.read(this,e,true,23,4)};a.prototype.readFloatBE=function(e,t){if(!t)b(e,4,this.length);return i.read(this,e,false,23,4)};a.prototype.readDoubleLE=function(e,t){if(!t)b(e,8,this.length);return i.read(this,e,true,52,8)};a.prototype.readDoubleBE=function(e,t){if(!t)b(e,8,this.length);return i.read(this,e,false,52,8)};function E(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>i||t<o)throw new TypeError("value is out of bounds");if(n+r>e.length)throw new TypeError("index out of range")}a.prototype.writeUInt8=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,1,255,0);if(!a.TYPED_ARRAY_SUPPORT)e=Math.floor(e);this[t]=e;return t+1};function _(e,t,n,r){if(t<0)t=65535+t+1;for(var i=0,o=Math.min(e.length-n,2);i<o;i++){e[n+i]=(t&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}}a.prototype.writeUInt16LE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,2,65535,0);if(a.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else _(this,e,t,true);return t+2};a.prototype.writeUInt16BE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,2,65535,0);if(a.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else _(this,e,t,false);return t+2};function x(e,t,n,r){if(t<0)t=4294967295+t+1;for(var i=0,o=Math.min(e.length-n,4);i<o;i++){e[n+i]=t>>>(r?i:3-i)*8&255}}a.prototype.writeUInt32LE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,4,4294967295,0);if(a.TYPED_ARRAY_SUPPORT){this[t+3]=e>>>24;this[t+2]=e>>>16;this[t+1]=e>>>8;this[t]=e}else x(this,e,t,true);return t+4};a.prototype.writeUInt32BE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,4,4294967295,0);if(a.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else x(this,e,t,false);return t+4};a.prototype.writeInt8=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,1,127,-128);if(!a.TYPED_ARRAY_SUPPORT)e=Math.floor(e);if(e<0)e=255+e+1;this[t]=e;return t+1};a.prototype.writeInt16LE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,2,32767,-32768);if(a.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else _(this,e,t,true);return t+2};a.prototype.writeInt16BE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,2,32767,-32768);if(a.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else _(this,e,t,false);return t+2};a.prototype.writeInt32LE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,4,2147483647,-2147483648);if(a.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8;this[t+2]=e>>>16;this[t+3]=e>>>24}else x(this,e,t,true);return t+4};a.prototype.writeInt32BE=function(e,t,n){e=+e;t=t>>>0;if(!n)E(this,e,t,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;if(a.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else x(this,e,t,false);return t+4};function k(e,t,n,r,i,o){if(t>i||t<o)throw new TypeError("value is out of bounds");if(n+r>e.length)throw new TypeError("index out of range")}function S(e,t,n,r,o){if(!o)k(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38);i.write(e,t,n,r,23,4);return n+4}a.prototype.writeFloatLE=function(e,t,n){return S(this,e,t,true,n)};a.prototype.writeFloatBE=function(e,t,n){return S(this,e,t,false,n)};function O(e,t,n,r,o){if(!o)k(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308);i.write(e,t,n,r,52,8);return n+8}a.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,true,n)};a.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,false,n)};a.prototype.copy=function(e,t,n,r){var i=this;if(!n)n=0;if(!r&&r!==0)r=this.length;if(!t)t=0;if(r===n)return;if(e.length===0||i.length===0)return;if(r<n)throw new TypeError("sourceEnd < sourceStart");if(t<0||t>=e.length)throw new TypeError("targetStart out of bounds");if(n<0||n>=i.length)throw new TypeError("sourceStart out of bounds");if(r<0||r>i.length)throw new TypeError("sourceEnd out of bounds");if(r>this.length)r=this.length;if(e.length-t<r-n)r=e.length-t+n;var o=r-n;if(o<100||!a.TYPED_ARRAY_SUPPORT){for(var s=0;s<o;s++){e[s+t]=this[s+n]}}else{e._set(this.subarray(n,n+o),t)}};a.prototype.fill=function(e,t,n){if(!e)e=0;if(!t)t=0;if(!n)n=this.length;if(n<t)throw new TypeError("end < start");if(n===t)return;if(this.length===0)return;if(t<0||t>=this.length)throw new TypeError("start out of bounds");if(n<0||n>this.length)throw new TypeError("end out of bounds");var r;if(typeof e==="number"){for(r=t;r<n;r++){this[r]=e}}else{var i=I(e.toString());var o=i.length;for(r=t;r<n;r++){this[r]=i[r%o]}}return this};a.prototype.toArrayBuffer=function(){if(typeof Uint8Array!=="undefined"){if(a.TYPED_ARRAY_SUPPORT){return new a(this).buffer}else{var e=new Uint8Array(this.length);for(var t=0,n=e.length;t<n;t+=1){e[t]=this[t]}return e.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var T=a.prototype;a._augment=function(e){e._isBuffer=true;e._get=e.get;e._set=e.set;e.get=T.get;e.set=T.set;e.write=T.write;e.toString=T.toString;e.toLocaleString=T.toString;e.toJSON=T.toJSON;e.equals=T.equals;e.compare=T.compare;e.copy=T.copy;e.slice=T.slice;e.readUInt8=T.readUInt8;e.readUInt16LE=T.readUInt16LE;e.readUInt16BE=T.readUInt16BE;e.readUInt32LE=T.readUInt32LE;e.readUInt32BE=T.readUInt32BE;e.readInt8=T.readInt8;e.readInt16LE=T.readInt16LE;e.readInt16BE=T.readInt16BE;e.readInt32LE=T.readInt32LE;e.readInt32BE=T.readInt32BE;e.readFloatLE=T.readFloatLE;e.readFloatBE=T.readFloatBE;e.readDoubleLE=T.readDoubleLE;e.readDoubleBE=T.readDoubleBE;e.writeUInt8=T.writeUInt8;e.writeUInt16LE=T.writeUInt16LE;e.writeUInt16BE=T.writeUInt16BE;e.writeUInt32LE=T.writeUInt32LE;e.writeUInt32BE=T.writeUInt32BE;e.writeInt8=T.writeInt8;e.writeInt16LE=T.writeInt16LE;e.writeInt16BE=T.writeInt16BE;e.writeInt32LE=T.writeInt32LE;e.writeInt32BE=T.writeInt32BE;e.writeFloatLE=T.writeFloatLE;e.writeFloatBE=T.writeFloatBE;e.writeDoubleLE=T.writeDoubleLE;e.writeDoubleBE=T.writeDoubleBE;e.fill=T.fill;e.inspect=T.inspect;e.toArrayBuffer=T.toArrayBuffer;return e};var A=/[^+\/0-9A-z]/g;function N(e){e=R(e).replace(A,"");while(e.length%4!==0){e=e+"="}return e}function R(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function C(e){return o(e)||a.isBuffer(e)||e&&typeof e==="object"&&typeof e.length==="number"}function L(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function I(e){var t=[];for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127){t.push(r)}else{var i=n;if(r>=55296&&r<=57343)n++;var o=encodeURIComponent(e.slice(i,n+1)).substr(1).split("%");for(var s=0;s<o.length;s++){t.push(parseInt(o[s],16))}}}return t}function j(e){var t=[];for(var n=0;n<e.length;n++){t.push(e.charCodeAt(n)&255)}return t}function P(e){var t,n,r;var i=[];for(var o=0;o<e.length;o++){t=e.charCodeAt(o);n=t>>8;r=t%256;i.push(r);i.push(n)}return i}function M(e){return r.toByteArray(e)}function F(e,t,n,r){for(var i=0;i<r;i++){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function D(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}},{"base64-js":77,ieee754:78,"is-array":79}],77:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(e){"use strict";var t=typeof Uint8Array!=="undefined"?Uint8Array:Array;var n="+".charCodeAt(0);var i="/".charCodeAt(0);var o="0".charCodeAt(0);var s="a".charCodeAt(0);var a="A".charCodeAt(0);function u(e){var t=e.charCodeAt(0);if(t===n)return 62;if(t===i)return 63;if(t<o)return-1;if(t<o+10)return t-o+26+26;if(t<a+26)return t-a;if(t<s+26)return t-s+26}function f(e){var n,r,i,o,s,a;if(e.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var f=e.length;s="="===e.charAt(f-2)?2:"="===e.charAt(f-1)?1:0;a=new t(e.length*3/4-s);i=s>0?e.length-4:e.length;var l=0;function c(e){a[l++]=e}for(n=0,r=0;n<i;n+=4,r+=3){o=u(e.charAt(n))<<18|u(e.charAt(n+1))<<12|u(e.charAt(n+2))<<6|u(e.charAt(n+3));c((o&16711680)>>16);c((o&65280)>>8);c(o&255)}if(s===2){o=u(e.charAt(n))<<2|u(e.charAt(n+1))>>4;c(o&255)}else if(s===1){o=u(e.charAt(n))<<10|u(e.charAt(n+1))<<4|u(e.charAt(n+2))>>2;c(o>>8&255);c(o&255)}return a}function l(e){var t,n=e.length%3,i="",o,s;function a(e){return r.charAt(e)}function u(e){return a(e>>18&63)+a(e>>12&63)+a(e>>6&63)+a(e&63)}for(t=0,s=e.length-n;t<s;t+=3){o=(e[t]<<16)+(e[t+1]<<8)+e[t+2];i+=u(o)}switch(n){case 1:o=e[e.length-1];i+=a(o>>2);i+=a(o<<4&63);i+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1];i+=a(o>>10);i+=a(o>>4&63);i+=a(o<<2&63);i+="=";break}return i}e.toByteArray=f;e.fromByteArray=l})(typeof n==="undefined"?this.base64js={}:n)},{}],78:[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=i*8-r-1,u=(1<<a)-1,f=u>>1,l=-7,c=n?i-1:0,h=n?-1:1,p=e[t+c];c+=h;o=p&(1<<-l)-1;p>>=-l;l+=a;for(;l>0;o=o*256+e[t+c],c+=h,l-=8);s=o&(1<<-l)-1;o>>=-l;l+=r;for(;l>0;s=s*256+e[t+c],c+=h,l-=8);if(o===0){o=1-f}else if(o===u){return s?NaN:(p?-1:1)*Infinity}else{s=s+Math.pow(2,r);o=o-f}return(p?-1:1)*s*Math.pow(2,o-r)};n.write=function(e,t,n,r,i,o){var s,a,u,f=o*8-i-1,l=(1<<f)-1,c=l>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){a=isNaN(t)?1:0;s=l}else{s=Math.floor(Math.log(t)/Math.LN2);if(t*(u=Math.pow(2,-s))<1){s--;u*=2}if(s+c>=1){t+=h/u}else{t+=h*Math.pow(2,1-c)}if(t*u>=2){s++;u/=2}if(s+c>=l){a=0;s=l}else if(s+c>=1){a=(t*u-1)*Math.pow(2,i);s=s+c}else{a=t*Math.pow(2,c-1)*Math.pow(2,i);s=0}}for(;i>=8;e[n+p]=a&255,p+=d,a/=256,i-=8);s=s<<i|a;f+=i;for(;f>0;e[n+p]=s&255,p+=d,s/=256,f-=8);e[n+p-d]|=v*128}},{}],79:[function(e,t,n){var r=Array.isArray;var i=Object.prototype.toString;t.exports=r||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],80:[function(e,t,n){function r(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=r;r.EventEmitter=r;r.prototype._events=undefined;r.prototype._maxListeners=undefined;r.defaultMaxListeners=10;r.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};r.prototype.emit=function(e){var t,n,r,o,u,f;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||s(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}throw TypeError('Uncaught, unspecified "error" event.')}}n=this._events[e];if(a(n))return false;if(i(n)){switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=arguments.length;o=new Array(r-1);for(u=1;u<r;u++)o[u-1]=arguments[u];n.apply(this,o)}}else if(s(n)){r=arguments.length;o=new Array(r-1);for(u=1;u<r;u++)o[u-1]=arguments[u];f=n.slice();r=f.length;for(u=0;u<r;u++)f[u].apply(this,o)}return true};r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,i(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(s(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(s(this._events[e])&&!this._events[e].warned){var n;if(!a(this._maxListeners)){n=this._maxListeners}else{n=r.defaultMaxListeners}if(n&&n>0&&this._events[e].length>n){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};r.prototype.on=r.prototype.addListener;r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=false;function r(){this.removeListener(e,r);if(!n){n=true;t.apply(this,arguments)}}r.listener=t;this.on(e,r);return this};r.prototype.removeListener=function(e,t){var n,r,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;n=this._events[e];o=n.length;r=-1;if(n===t||i(n.listener)&&n.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(s(n)){for(a=o;a-->0;){if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}}if(r<0)return this;if(n.length===1){n.length=0;delete this._events[e]}else{n.splice(r,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}n=this._events[e];if(i(n)){this.removeListener(e,n)}else{while(n.length)this.removeListener(e,n[n.length-1])}delete this._events[e];return this};r.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(i(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};r.listenerCount=function(e,t){var n;if(!e._events||!e._events[t])n=0;else if(i(e._events[t]))n=1;else n=e._events[t].length;return n};function i(e){return typeof e==="function"}function o(e){return typeof e==="number"}function s(e){return typeof e==="object"&&e!==null}function a(e){return e===void 0}},{}],81:[function(e,t,n){var r=t.exports;var i=e("events").EventEmitter;var o=e("./lib/request");var s=e("url");r.request=function(e,t){if(typeof e==="string"){e=s.parse(e)}if(!e)e={};if(!e.host&&!e.port){e.port=parseInt(window.location.port,10)}if(!e.host&&e.hostname){e.host=e.hostname}if(!e.protocol){if(e.scheme){e.protocol=e.scheme+":"}else{e.protocol=window.location.protocol}}if(!e.host){e.host=window.location.hostname||window.location.host}if(/:/.test(e.host)){if(!e.port){e.port=e.host.split(":")[1]}e.host=e.host.split(":")[0]}if(!e.port)e.port=e.protocol=="https:"?443:80;var n=new o(new a,e);if(t)n.on("response",t);return n};r.get=function(e,t){e.method="GET";var n=r.request(e,t);n.end();return n};r.Agent=function(){};r.Agent.defaultMaxSockets=4;var a=function(){if(typeof window==="undefined"){throw new Error("no window object present")}else if(window.XMLHttpRequest){return window.XMLHttpRequest}else if(window.ActiveXObject){var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];for(var t=0;t<e.length;t++){try{var n=new window.ActiveXObject(e[t]);return function(){if(n){var r=n;n=null;return r}else{return new window.ActiveXObject(e[t])}}}catch(r){}}throw new Error("ajax not supported in this browser")}else{throw new Error("ajax not supported in this browser")}}();r.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":82,events:80,url:105}],82:[function(e,t,n){var r=e("stream");var i=e("./response");var o=e("Base64");var s=e("inherits");var a=t.exports=function(e,t){var n=this;n.writable=true;n.xhr=e;n.body=[];n.uri=(t.protocol||"http:")+"//"+t.host+(t.port?":"+t.port:"")+(t.path||"/");if(typeof t.withCredentials==="undefined"){t.withCredentials=true}try{e.withCredentials=t.withCredentials}catch(r){}if(t.responseType)try{e.responseType=t.responseType}catch(r){}e.open(t.method||"GET",n.uri,true);e.onerror=function(e){n.emit("error",new Error("Network error"))};n._headers={};if(t.headers){var s=u(t.headers);for(var a=0;a<s.length;a++){var f=s[a];if(!n.isSafeRequestHeader(f))continue;var l=t.headers[f];n.setHeader(f,l)}}if(t.auth){this.setHeader("Authorization","Basic "+o.btoa(t.auth))}var c=new i;c.on("close",function(){n.emit("close")});c.on("ready",function(){n.emit("response",c)});c.on("error",function(e){n.emit("error",e)});e.onreadystatechange=function(){if(e.__aborted)return;c.handle(e)}};s(a,r);a.prototype.setHeader=function(e,t){this._headers[e.toLowerCase()]=t};a.prototype.getHeader=function(e){return this._headers[e.toLowerCase()]};a.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]};a.prototype.write=function(e){this.body.push(e)};a.prototype.destroy=function(e){this.xhr.__aborted=true;this.xhr.abort();this.emit("close")};a.prototype.end=function(e){if(e!==undefined)this.body.push(e);var t=u(this._headers);for(var n=0;n<t.length;n++){var r=t[n];var i=this._headers[r];if(f(i)){for(var o=0;o<i.length;o++){this.xhr.setRequestHeader(r,i[o])}}else this.xhr.setRequestHeader(r,i)}if(this.body.length===0){this.xhr.send("")}else if(typeof this.body[0]==="string"){this.xhr.send(this.body.join(""))}else if(f(this.body[0])){var s=[];for(var n=0;n<this.body.length;n++){s.push.apply(s,this.body[n])}this.xhr.send(s)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){var a=0;for(var n=0;n<this.body.length;n++){a+=this.body[n].length}var s=new this.body[0].constructor(a);var l=0;for(var n=0;n<this.body.length;n++){var h=this.body[n];for(var o=0;o<h.length;o++){s[l++]=h[o]}}this.xhr.send(s)}else if(c(this.body[0])){this.xhr.send(this.body[0])}else{var s="";for(var n=0;n<this.body.length;n++){s+=this.body[n].toString()}this.xhr.send(s)}};a.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];a.prototype.isSafeRequestHeader=function(e){if(!e)return false;return l(a.unsafeHeaders,e.toLowerCase())===-1};var u=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};var f=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};var l=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++){if(e[n]===t)return n}return-1};var c=function(e){if(typeof Blob!=="undefined"&&e instanceof Blob)return true;if(typeof ArrayBuffer!=="undefined"&&e instanceof ArrayBuffer)return true;if(typeof FormData!=="undefined"&&e instanceof FormData)return true}},{"./response":83,Base64:84,inherits:85,stream:103}],83:[function(e,t,n){var r=e("stream");var i=e("util");var o=t.exports=function(e){this.offset=0;this.readable=true};i.inherits(o,r);var s={streaming:true,status2:true};function a(e){var t=e.getAllResponseHeaders().split(/\r?\n/);var n={};for(var r=0;r<t.length;r++){var i=t[r];if(i==="")continue;var o=i.match(/^([^:]+):\s*(.*)/);if(o){var s=o[1].toLowerCase(),a=o[2];if(n[s]!==undefined){if(u(n[s])){n[s].push(a)}else{n[s]=[n[s],a]}}else{n[s]=a}}else{n[i]=true}}return n}o.prototype.getResponse=function(e){var t=String(e.responseType).toLowerCase();if(t==="blob")return e.responseBlob||e.response;if(t==="arraybuffer")return e.response;return e.responseText};o.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]};o.prototype.handle=function(e){if(e.readyState===2&&s.status2){try{this.statusCode=e.status;this.headers=a(e)}catch(t){s.status2=false}if(s.status2){this.emit("ready")}}else if(s.streaming&&e.readyState===3){try{if(!this.statusCode){this.statusCode=e.status;
this.headers=a(e);this.emit("ready")}}catch(t){}try{this._emitData(e)}catch(t){s.streaming=false}}else if(e.readyState===4){if(!this.statusCode){this.statusCode=e.status;this.emit("ready")}this._emitData(e);if(e.error){this.emit("error",this.getResponse(e))}else this.emit("end");this.emit("close")}};o.prototype._emitData=function(e){var t=this.getResponse(e);if(t.toString().match(/ArrayBuffer/)){this.emit("data",new Uint8Array(t,this.offset));this.offset=t.byteLength;return}if(t.length>this.offset){this.emit("data",t.slice(this.offset));this.offset=t.length}};var u=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},{stream:103,util:107}],84:[function(e,t,n){(function(){var e=typeof n!="undefined"?n:this;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(e){this.message=e}r.prototype=new Error;r.prototype.name="InvalidCharacterError";e.btoa||(e.btoa=function(e){for(var n,i,o=0,s=t,a="";e.charAt(o|0)||(s="=",o%1);a+=s.charAt(63&n>>8-o%1*8)){i=e.charCodeAt(o+=3/4);if(i>255){throw new r("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.")}n=n<<8|i}return a});e.atob||(e.atob=function(e){e=e.replace(/=+$/,"");if(e.length%4==1){throw new r("'atob' failed: The string to be decoded is not correctly encoded.")}for(var n=0,i,o,s=0,a="";o=e.charAt(s++);~o&&(i=n%4?i*64+o:o,n++%4)?a+=String.fromCharCode(255&i>>(-2*n&6)):0){o=t.indexOf(o)}return a})})()},{}],85:[function(e,t,n){t.exports=e(32)},{"/root/josephdykstra.com/node_modules/levelup/node_modules/readable-stream/node_modules/inherits/inherits_browser.js":32}],86:[function(e,t,n){t.exports=e(33)},{"/root/josephdykstra.com/node_modules/levelup/node_modules/readable-stream/node_modules/isarray/index.js":33}],87:[function(e,t,n){var r=t.exports={};r.nextTick=function(){var e=typeof window!=="undefined"&&window.setImmediate;var t=typeof window!=="undefined"&&window.MutationObserver;var n=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(e){return function(e){return window.setImmediate(e)}}var r=[];if(t){var i=document.createElement("div");var o=new MutationObserver(function(){var e=r.slice();r.length=0;e.forEach(function(e){e()})});o.observe(i,{attributes:true});return function s(e){if(!r.length){i.setAttribute("yes","no")}r.push(e)}}if(n){window.addEventListener("message",function(e){var t=e.source;if((t===window||t===null)&&e.data==="process-tick"){e.stopPropagation();if(r.length>0){var n=r.shift();n()}}},true);return function a(e){r.push(e);window.postMessage("process-tick","*")}}return function u(e){setTimeout(e,0)}}();r.title="browser";r.browser=true;r.env={};r.argv=[];function i(){}r.on=i;r.addListener=i;r.once=i;r.off=i;r.removeListener=i;r.removeAllListeners=i;r.emit=i;r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],88:[function(e,t,n){(function(e){(function(r){var i=typeof n=="object"&&n;var o=typeof t=="object"&&t&&t.exports==i&&t;var s=typeof e=="object"&&e;if(s.global===s||s.window===s){r=s}var a,u=2147483647,f=36,l=1,c=26,h=38,p=700,d=72,v=128,g="-",m=/^xn--/,y=/[^ -~]/,w=/\x2E|\u3002|\uFF0E|\uFF61/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=f-l,_=Math.floor,x=String.fromCharCode,k;function S(e){throw RangeError(b[e])}function O(e,t){var n=e.length;while(n--){e[n]=t(e[n])}return e}function T(e,t){return O(e.split(w),t).join(".")}function A(e){var t=[],n=0,r=e.length,i,o;while(n<r){i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){o=e.charCodeAt(n++);if((o&64512)==56320){t.push(((i&1023)<<10)+(o&1023)+65536)}else{t.push(i);n--}}else{t.push(i)}}return t}function N(e){return O(e,function(e){var t="";if(e>65535){e-=65536;t+=x(e>>>10&1023|55296);e=56320|e&1023}t+=x(e);return t}).join("")}function R(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return f}function C(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function L(e,t,n){var r=0;e=n?_(e/p):e>>1;e+=_(e/t);for(;e>E*c>>1;r+=f){e=_(e/E)}return _(r+(E+1)*e/(e+h))}function I(e){var t=[],n=e.length,r,i=0,o=v,s=d,a,h,p,m,y,w,b,E,x;a=e.lastIndexOf(g);if(a<0){a=0}for(h=0;h<a;++h){if(e.charCodeAt(h)>=128){S("not-basic")}t.push(e.charCodeAt(h))}for(p=a>0?a+1:0;p<n;){for(m=i,y=1,w=f;;w+=f){if(p>=n){S("invalid-input")}b=R(e.charCodeAt(p++));if(b>=f||b>_((u-i)/y)){S("overflow")}i+=b*y;E=w<=s?l:w>=s+c?c:w-s;if(b<E){break}x=f-E;if(y>_(u/x)){S("overflow")}y*=x}r=t.length+1;s=L(i-m,r,m==0);if(_(i/r)>u-o){S("overflow")}o+=_(i/r);i%=r;t.splice(i++,0,o)}return N(t)}function j(e){var t,n,r,i,o,s,a,h,p,m,y,w=[],b,E,k,O;e=A(e);b=e.length;t=v;n=0;o=d;for(s=0;s<b;++s){y=e[s];if(y<128){w.push(x(y))}}r=i=w.length;if(i){w.push(g)}while(r<b){for(a=u,s=0;s<b;++s){y=e[s];if(y>=t&&y<a){a=y}}E=r+1;if(a-t>_((u-n)/E)){S("overflow")}n+=(a-t)*E;t=a;for(s=0;s<b;++s){y=e[s];if(y<t&&++n>u){S("overflow")}if(y==t){for(h=n,p=f;;p+=f){m=p<=o?l:p>=o+c?c:p-o;if(h<m){break}O=h-m;k=f-m;w.push(x(C(m+O%k,0)));h=_(O/k)}w.push(x(C(h,0)));o=L(n,E,r==i);n=0;++r}}++n;++t}return w.join("")}function P(e){return T(e,function(e){return m.test(e)?I(e.slice(4).toLowerCase()):e})}function M(e){return T(e,function(e){return y.test(e)?"xn--"+j(e):e})}a={version:"1.2.4",ucs2:{decode:A,encode:N},decode:I,encode:j,toASCII:M,toUnicode:P};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return a})}else if(i&&!i.nodeType){if(o){o.exports=a}else{for(k in a){a.hasOwnProperty(k)&&(i[k]=a[k])}}}else{r.punycode=a}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],89:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&";n=n||"=";var s={};if(typeof e!=="string"||e.length===0){return s}var a=/\+/g;e=e.split(t);var u=1e3;if(o&&typeof o.maxKeys==="number"){u=o.maxKeys}var f=e.length;if(u>0&&f>u){f=u}for(var l=0;l<f;++l){var c=e[l].replace(a,"%20"),h=c.indexOf(n),p,d,v,g;if(h>=0){p=c.substr(0,h);d=c.substr(h+1)}else{p=c;d=""}v=decodeURIComponent(p);g=decodeURIComponent(d);if(!r(s,v)){s[v]=g}else if(i(s[v])){s[v].push(g)}else{s[v]=[s[v],g]}}return s};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},{}],90:[function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,a){t=t||"&";n=n||"=";if(e===null){e=undefined}if(typeof e==="object"){return o(s(e),function(s){var a=encodeURIComponent(r(s))+n;if(i(e[s])){return o(e[s],function(e){return a+encodeURIComponent(r(e))}).join(t)}else{return a+encodeURIComponent(r(e[s]))}}).join(t)}if(!a)return"";return encodeURIComponent(r(a))+n+encodeURIComponent(r(e))};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function o(e,t){if(e.map)return e.map(t);var n=[];for(var r=0;r<e.length;r++){n.push(t(e[r],r))}return n}var s=Object.keys||function(e){var t=[];for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t.push(n)}return t}},{}],91:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode");n.encode=n.stringify=e("./encode")},{"./decode":89,"./encode":90}],92:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":93}],93:[function(e,t,n){t.exports=e(26)},{"./_stream_readable":95,"./_stream_writable":97,"/root/josephdykstra.com/node_modules/levelup/node_modules/readable-stream/lib/_stream_duplex.js":26,_process:87,"core-util-is":98,inherits:85}],94:[function(e,t,n){t.exports=e(27)},{"./_stream_transform":96,"/root/josephdykstra.com/node_modules/levelup/node_modules/readable-stream/lib/_stream_passthrough.js":27,"core-util-is":98,inherits:85}],95:[function(e,t,n){t.exports=e(28)},{"/root/josephdykstra.com/node_modules/levelup/node_modules/readable-stream/lib/_stream_readable.js":28,_process:87,buffer:76,"core-util-is":98,events:80,inherits:85,isarray:86,stream:103,"string_decoder/":104}],96:[function(e,t,n){t.exports=e(29)},{"./_stream_duplex":93,"/root/josephdykstra.com/node_modules/levelup/node_modules/readable-stream/lib/_stream_transform.js":29,"core-util-is":98,inherits:85}],97:[function(e,t,n){t.exports=e(30)},{"./_stream_duplex":93,"/root/josephdykstra.com/node_modules/levelup/node_modules/readable-stream/lib/_stream_writable.js":30,_process:87,buffer:76,"core-util-is":98,inherits:85,stream:103}],98:[function(e,t,n){t.exports=e(31)},{"/root/josephdykstra.com/node_modules/levelup/node_modules/readable-stream/node_modules/core-util-is/lib/util.js":31,buffer:76}],99:[function(e,t,n){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":94}],100:[function(e,t,n){e("stream");n=t.exports=e("./lib/_stream_readable.js");n.Readable=n;n.Writable=e("./lib/_stream_writable.js");n.Duplex=e("./lib/_stream_duplex.js");n.Transform=e("./lib/_stream_transform.js");n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":93,"./lib/_stream_passthrough.js":94,"./lib/_stream_readable.js":95,"./lib/_stream_transform.js":96,"./lib/_stream_writable.js":97,stream:103}],101:[function(e,t,n){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":96}],102:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":97}],103:[function(e,t,n){t.exports=o;var r=e("events").EventEmitter;var i=e("inherits");i(o,r);o.Readable=e("readable-stream/readable.js");o.Writable=e("readable-stream/writable.js");o.Duplex=e("readable-stream/duplex.js");o.Transform=e("readable-stream/transform.js");o.PassThrough=e("readable-stream/passthrough.js");o.Stream=o;function o(){r.call(this)}o.prototype.pipe=function(e,t){var n=this;function i(t){if(e.writable){if(false===e.write(t)&&n.pause){n.pause()}}}n.on("data",i);function o(){if(n.readable&&n.resume){n.resume()}}e.on("drain",o);if(!e._isStdio&&(!t||t.end!==false)){n.on("end",a);n.on("close",u)}var s=false;function a(){if(s)return;s=true;e.end()}function u(){if(s)return;s=true;if(typeof e.destroy==="function")e.destroy()}function f(e){l();if(r.listenerCount(this,"error")===0){throw e}}n.on("error",f);e.on("error",f);function l(){n.removeListener("data",i);e.removeListener("drain",o);n.removeListener("end",a);n.removeListener("close",u);n.removeListener("error",f);e.removeListener("error",f);n.removeListener("end",l);n.removeListener("close",l);e.removeListener("close",l)}n.on("end",l);n.on("close",l);e.on("close",l);e.emit("pipe",n);return e}},{events:80,inherits:85,"readable-stream/duplex.js":92,"readable-stream/passthrough.js":99,"readable-stream/readable.js":100,"readable-stream/transform.js":101,"readable-stream/writable.js":102}],104:[function(e,t,n){t.exports=e(34)},{"/root/josephdykstra.com/node_modules/levelup/node_modules/readable-stream/node_modules/string_decoder/index.js":34,buffer:76}],105:[function(e,t,n){var r=e("punycode");n.parse=w;n.resolve=E;n.resolveObject=_;n.format=b;n.Url=i;function i(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,a=["<",">",'"',"`"," ","\r","\n","	"],u=["{","}","|","\\","^","`"].concat(a),f=["'"].concat(u),l=["%","/","?",";","#"].concat(f),c=["/","?","#"],h=255,p=/^[a-z0-9A-Z_-]{0,63}$/,d=/^([a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:true,"javascript:":true},g={javascript:true,"javascript:":true},m={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},y=e("querystring");function w(e,t,n){if(e&&k(e)&&e instanceof i)return e;var r=new i;r.parse(e,t,n);return r}i.prototype.parse=function(e,t,n){if(!x(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var i=e;i=i.trim();var s=o.exec(i);if(s){s=s[0];var a=s.toLowerCase();this.protocol=a;i=i.substr(s.length)}if(n||s||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var u=i.substr(0,2)==="//";if(u&&!(s&&g[s])){i=i.substr(2);this.slashes=true}}if(!g[s]&&(u||s&&!m[s])){var w=-1;for(var b=0;b<c.length;b++){var E=i.indexOf(c[b]);if(E!==-1&&(w===-1||E<w))w=E}var _,k;if(w===-1){k=i.lastIndexOf("@")}else{k=i.lastIndexOf("@",w)}if(k!==-1){_=i.slice(0,k);i=i.slice(k+1);this.auth=decodeURIComponent(_)}w=-1;for(var b=0;b<l.length;b++){var E=i.indexOf(l[b]);if(E!==-1&&(w===-1||E<w))w=E}if(w===-1)w=i.length;this.host=i.slice(0,w);i=i.slice(w);this.parseHost();this.hostname=this.hostname||"";var S=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!S){var O=this.hostname.split(/\./);for(var b=0,T=O.length;b<T;b++){var A=O[b];if(!A)continue;if(!A.match(p)){var N="";for(var R=0,C=A.length;R<C;R++){if(A.charCodeAt(R)>127){N+="x"}else{N+=A[R]}}if(!N.match(p)){var L=O.slice(0,b);var I=O.slice(b+1);var j=A.match(d);if(j){L.push(j[1]);I.unshift(j[2])}if(I.length){i="/"+I.join(".")+i}this.hostname=L.join(".");break}}}}if(this.hostname.length>h){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!S){var P=this.hostname.split(".");var M=[];for(var b=0;b<P.length;++b){var F=P[b];M.push(F.match(/[^A-Za-z0-9_-]/)?"xn--"+r.encode(F):F)}this.hostname=M.join(".")}var D=this.port?":"+this.port:"";var B=this.hostname||"";this.host=B+D;this.href+=this.host;if(S){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(i[0]!=="/"){i="/"+i}}}if(!v[a]){for(var b=0,T=f.length;b<T;b++){var U=f[b];var V=encodeURIComponent(U);if(V===U){V=escape(U)}i=i.split(U).join(V)}}var W=i.indexOf("#");if(W!==-1){this.hash=i.substr(W);i=i.slice(0,W)}var q=i.indexOf("?");if(q!==-1){this.search=i.substr(q);this.query=i.substr(q+1);if(t){this.query=y.parse(this.query)}i=i.slice(0,q)}else if(t){this.search="";this.query={}}if(i)this.pathname=i;if(m[a]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var D=this.pathname||"";var F=this.search||"";this.path=D+F}this.href=this.format();return this};function b(e){if(x(e))e=w(e);if(!(e instanceof i))return i.prototype.format.call(e);return e.format()}i.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=false,o="";if(this.host){i=e+this.host}else if(this.hostname){i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){i+=":"+this.port}}if(this.query&&k(this.query)&&Object.keys(this.query).length){o=y.stringify(this.query)}var s=this.search||o&&"?"+o||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||m[t])&&i!==false){i="//"+(i||"");if(n&&n.charAt(0)!=="/")n="/"+n}else if(!i){i=""}if(r&&r.charAt(0)!=="#")r="#"+r;if(s&&s.charAt(0)!=="?")s="?"+s;n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)});s=s.replace("#","%23");return t+i+n+s+r};function E(e,t){return w(e,false,true).resolve(t)}i.prototype.resolve=function(e){return this.resolveObject(w(e,false,true)).format()};function _(e,t){if(!e)return t;return w(e,false,true).resolveObject(t)}i.prototype.resolveObject=function(e){if(x(e)){var t=new i;t.parse(e,false,true);e=t}var n=new i;Object.keys(this).forEach(function(e){n[e]=this[e]},this);n.hash=e.hash;if(e.href===""){n.href=n.format();return n}if(e.slashes&&!e.protocol){Object.keys(e).forEach(function(t){if(t!=="protocol")n[t]=e[t]});if(m[n.protocol]&&n.hostname&&!n.pathname){n.path=n.pathname="/"}n.href=n.format();return n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){Object.keys(e).forEach(function(t){n[t]=e[t]});n.href=n.format();return n}n.protocol=e.protocol;if(!e.host&&!g[e.protocol]){var r=(e.pathname||"").split("/");while(r.length&&!(e.host=r.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(r[0]!=="")r.unshift("");if(r.length<2)r.unshift("");n.pathname=r.join("/")}else{n.pathname=e.pathname}n.search=e.search;n.query=e.query;n.host=e.host||"";n.auth=e.auth;n.hostname=e.hostname||e.host;n.port=e.port;if(n.pathname||n.search){var o=n.pathname||"";var s=n.search||"";n.path=o+s}n.slashes=n.slashes||e.slashes;n.href=n.format();return n}var a=n.pathname&&n.pathname.charAt(0)==="/",u=e.host||e.pathname&&e.pathname.charAt(0)==="/",f=u||a||n.host&&e.pathname,l=f,c=n.pathname&&n.pathname.split("/")||[],r=e.pathname&&e.pathname.split("/")||[],h=n.protocol&&!m[n.protocol];if(h){n.hostname="";n.port=null;if(n.host){if(c[0]==="")c[0]=n.host;else c.unshift(n.host)}n.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(r[0]==="")r[0]=e.host;else r.unshift(e.host)}e.host=null}f=f&&(r[0]===""||c[0]==="")}if(u){n.host=e.host||e.host===""?e.host:n.host;n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname;n.search=e.search;n.query=e.query;c=r}else if(r.length){if(!c)c=[];c.pop();c=c.concat(r);n.search=e.search;n.query=e.query}else if(!O(e.search)){if(h){n.hostname=n.host=c.shift();var p=n.host&&n.host.indexOf("@")>0?n.host.split("@"):false;if(p){n.auth=p.shift();n.host=n.hostname=p.shift()}}n.search=e.search;n.query=e.query;if(!S(n.pathname)||!S(n.search)){n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")}n.href=n.format();return n}if(!c.length){n.pathname=null;if(n.search){n.path="/"+n.search}else{n.path=null}n.href=n.format();return n}var d=c.slice(-1)[0];var v=(n.host||e.host)&&(d==="."||d==="..")||d==="";var y=0;for(var w=c.length;w>=0;w--){d=c[w];if(d=="."){c.splice(w,1)}else if(d===".."){c.splice(w,1);y++}else if(y){c.splice(w,1);y--}}if(!f&&!l){for(;y--;y){c.unshift("..")}}if(f&&c[0]!==""&&(!c[0]||c[0].charAt(0)!=="/")){c.unshift("")}if(v&&c.join("/").substr(-1)!=="/"){c.push("")}var b=c[0]===""||c[0]&&c[0].charAt(0)==="/";if(h){n.hostname=n.host=b?"":c.length?c.shift():"";var p=n.host&&n.host.indexOf("@")>0?n.host.split("@"):false;if(p){n.auth=p.shift();n.host=n.hostname=p.shift()}}f=f||n.host&&c.length;if(f&&!b){c.unshift("")}if(!c.length){n.pathname=null;n.path=null}else{n.pathname=c.join("/")}if(!S(n.pathname)||!S(n.search)){n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")}n.auth=e.auth||n.auth;n.slashes=n.slashes||e.slashes;n.href=n.format();return n};i.prototype.parseHost=function(){var e=this.host;var t=s.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e};function x(e){return typeof e==="string"}function k(e){return typeof e==="object"&&e!==null}function S(e){return e===null}function O(e){return e==null}},{punycode:88,querystring:91}],106:[function(e,t,n){t.exports=function r(e){return e&&typeof e==="object"&&typeof e.copy==="function"&&typeof e.fill==="function"&&typeof e.readUInt8==="function"}},{}],107:[function(e,t,n){(function(t,r){var i=/%[sdj%]/g;n.format=function(e){if(!_(e)){var t=[];for(var n=0;n<arguments.length;n++){t.push(a(arguments[n]))}return t.join(" ")}var n=1;var r=arguments;var o=r.length;var s=String(e).replace(i,function(e){if(e==="%%")return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}});for(var u=r[n];n<o;u=r[++n]){if(w(u)||!O(u)){s+=" "+u}else{s+=" "+a(u)}}return s};n.deprecate=function(e,i){if(k(r.process)){return function(){return n.deprecate(e,i).apply(this,arguments)}}if(t.noDeprecation===true){return e}var o=false;function s(){if(!o){if(t.throwDeprecation){throw new Error(i)}else if(t.traceDeprecation){console.trace(i)}else{console.error(i)}o=true}return e.apply(this,arguments)}return s};var o={};var s;n.debuglog=function(e){if(k(s))s=t.env.NODE_DEBUG||"";e=e.toUpperCase();if(!o[e]){if(new RegExp("\\b"+e+"\\b","i").test(s)){var r=t.pid;o[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else{o[e]=function(){}}}return o[e]};function a(e,t){var r={seen:[],stylize:f};if(arguments.length>=3)r.depth=arguments[2];if(arguments.length>=4)r.colors=arguments[3];if(y(t)){r.showHidden=t}else if(t){n._extend(r,t)}if(k(r.showHidden))r.showHidden=false;if(k(r.depth))r.depth=2;if(k(r.colors))r.colors=false;if(k(r.customInspect))r.customInspect=true;if(r.colors)r.stylize=u;return c(r,e,r.depth)}n.inspect=a;a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};a.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function u(e,t){var n=a.styles[t];if(n){return"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m"}else{return e}}function f(e,t){return e}function l(e){var t={};e.forEach(function(e,n){t[e]=true});return t}function c(e,t,r){if(e.customInspect&&t&&N(t.inspect)&&t.inspect!==n.inspect&&!(t.constructor&&t.constructor.prototype===t)){var i=t.inspect(r,e);if(!_(i)){i=c(e,i,r)}return i}var o=h(e,t);if(o){return o}var s=Object.keys(t);var a=l(s);if(e.showHidden){s=Object.getOwnPropertyNames(t)}if(A(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0)){return p(t)}if(s.length===0){if(N(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(S(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}if(T(t)){return e.stylize(Date.prototype.toString.call(t),"date")}if(A(t)){return p(t)}}var f="",y=false,w=["{","}"];if(m(t)){y=true;w=["[","]"]}if(N(t)){var b=t.name?": "+t.name:"";f=" [Function"+b+"]"}if(S(t)){f=" "+RegExp.prototype.toString.call(t)}if(T(t)){f=" "+Date.prototype.toUTCString.call(t)}if(A(t)){f=" "+p(t)}if(s.length===0&&(!y||t.length==0)){return w[0]+f+w[1]}if(r<0){if(S(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(t);var E;if(y){E=d(e,t,r,a,s)}else{E=s.map(function(n){return v(e,t,r,a,n,y)})}e.seen.pop();return g(E,f,w)}function h(e,t){if(k(t))return e.stylize("undefined","undefined");if(_(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(E(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(w(t))return e.stylize("null","null")}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i){var o=[];for(var s=0,a=t.length;s<a;++s){if(P(t,String(s))){o.push(v(e,t,n,r,String(s),true))}else{o.push("")}}i.forEach(function(i){if(!i.match(/^\d+$/)){o.push(v(e,t,n,r,i,true))}});return o}function v(e,t,n,r,i,o){var s,a,u;u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(u.get){if(u.set){a=e.stylize("[Getter/Setter]","special")}else{a=e.stylize("[Getter]","special")}}else{if(u.set){a=e.stylize("[Setter]","special")}}if(!P(r,i)){s="["+i+"]"}if(!a){if(e.seen.indexOf(u.value)<0){if(w(n)){a=c(e,u.value,null)}else{a=c(e,u.value,n-1)}if(a.indexOf("\n")>-1){if(o){a=a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{a="\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{a=e.stylize("[Circular]","special")}}if(k(s)){if(o&&i.match(/^\d+$/)){return a}s=JSON.stringify(""+i);if(s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){s=s.substr(1,s.length-2);s=e.stylize(s,"name")}else{s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");s=e.stylize(s,"string")}}return s+": "+a}function g(e,t,n){var r=0;var i=e.reduce(function(e,t){r++;if(t.indexOf("\n")>=0)r++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(i>60){return n[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]}return n[0]+t+" "+e.join(", ")+" "+n[1]}function m(e){return Array.isArray(e)}n.isArray=m;function y(e){return typeof e==="boolean"}n.isBoolean=y;function w(e){return e===null}n.isNull=w;function b(e){return e==null}n.isNullOrUndefined=b;function E(e){return typeof e==="number"}n.isNumber=E;function _(e){return typeof e==="string"}n.isString=_;function x(e){return typeof e==="symbol"}n.isSymbol=x;function k(e){return e===void 0}n.isUndefined=k;function S(e){return O(e)&&C(e)==="[object RegExp]"}n.isRegExp=S;function O(e){return typeof e==="object"&&e!==null}n.isObject=O;function T(e){return O(e)&&C(e)==="[object Date]"}n.isDate=T;function A(e){return O(e)&&(C(e)==="[object Error]"||e instanceof Error)}n.isError=A;function N(e){return typeof e==="function"}n.isFunction=N;function R(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}n.isPrimitive=R;n.isBuffer=e("./support/isBuffer");function C(e){return Object.prototype.toString.call(e)}function L(e){return e<10?"0"+e.toString(10):e.toString(10)}var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var e=new Date;var t=[L(e.getHours()),L(e.getMinutes()),L(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}n.log=function(){console.log("%s - %s",j(),n.format.apply(n,arguments))};n.inherits=e("inherits");n._extend=function(e,t){if(!t||!O(t))return e;var n=Object.keys(t);var r=n.length;while(r--){e[n[r]]=t[n[r]]}return e};function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":106,_process:87,inherits:85}]},{},[2]);